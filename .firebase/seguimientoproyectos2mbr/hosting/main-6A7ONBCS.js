import{A as BD,B as UD,C as nl,D as ih,E as ln,F as Hn,G as by,a as G,b as Ve,c as MD,d as CV,e as Cn,f as _y,g as A,h as PD,i as eh,j as RD,k as ND,l as kD,m as FD,n as Ey,o as OD,p as th,q as VD,r as nh,s as LD,t as jD,u as st,v as $o,w as Hr,x as rh,y as tl,z as Cy}from"./chunk-OGWAF23K.js";var wn=CV((wi,hI)=>{"use strict";(function(t,e){typeof wi=="object"&&typeof hI<"u"?hI.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(wi,function(){"use strict";function t(g,u){var h=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(h!=null){var m,E,S,q,he=[],xe=!0,Je=!1;try{if(S=(h=h.call(g)).next,u===0){if(Object(h)!==h)return;xe=!1}else for(;!(xe=(m=S.call(h)).done)&&(he.push(m.value),he.length!==u);xe=!0);}catch(el){Je=!0,E=el}finally{try{if(!xe&&h.return!=null&&(q=h.return(),Object(q)!==q))return}finally{if(Je)throw E}}return he}}function e(g,u){if(typeof g!="object"||!g)return g;var h=g[Symbol.toPrimitive];if(h!==void 0){var m=h.call(g,u||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(g)}function n(g){var u=e(g,"string");return typeof u=="symbol"?u:String(u)}function r(g){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r(g)}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function o(g,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,n(m.key),m)}}function s(g,u,h){return u&&o(g.prototype,u),h&&o(g,h),Object.defineProperty(g,"prototype",{writable:!1}),g}function a(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),u&&l(g,u)}function c(g){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(g)}function l(g,u){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,E){return m.__proto__=E,m},l(g,u)}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(g,u,h){return d()?f=Reflect.construct.bind():f=function(E,S,q){var he=[null];he.push.apply(he,S);var xe=Function.bind.apply(E,he),Je=new xe;return q&&l(Je,q.prototype),Je},f.apply(null,arguments)}function v(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function _(g,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(g)}function b(g){var u=d();return function(){var m=c(g),E;if(u){var S=c(this).constructor;E=Reflect.construct(m,arguments,S)}else E=m.apply(this,arguments);return _(this,E)}}function T(g,u){for(;!Object.prototype.hasOwnProperty.call(g,u)&&(g=c(g),g!==null););return g}function M(){return typeof Reflect<"u"&&Reflect.get?M=Reflect.get.bind():M=function(u,h,m){var E=T(u,h);if(E){var S=Object.getOwnPropertyDescriptor(E,h);return S.get?S.get.call(arguments.length<3?u:m):S.value}},M.apply(this,arguments)}function O(g,u){return te(g)||t(g,u)||ce(g,u)||zc()}function K(g){return B(g)||ie(g)||ce(g)||Pn()}function B(g){if(Array.isArray(g))return ze(g)}function te(g){if(Array.isArray(g))return g}function ie(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function ce(g,u){if(g){if(typeof g=="string")return ze(g,u);var h=Object.prototype.toString.call(g).slice(8,-1);if(h==="Object"&&g.constructor&&(h=g.constructor.name),h==="Map"||h==="Set")return Array.from(g);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return ze(g,u)}}function ze(g,u){(u==null||u>g.length)&&(u=g.length);for(var h=0,m=new Array(u);h<u;h++)m[h]=g[h];return m}function Pn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gc(g,u){var h=AI(g,u,"get");return V2(g,h)}function O2(g,u,h){var m=AI(g,u,"set");return L2(g,m,h),h}function AI(g,u,h){if(!u.has(g))throw new TypeError("attempted to "+h+" private field on non-instance");return u.get(g)}function V2(g,u){return u.get?u.get.call(g):u.value}function L2(g,u,h){if(u.set)u.set.call(g,h);else{if(!u.writable)throw new TypeError("attempted to set read only private field");u.value=h}}function j2(g,u){if(u.has(g))throw new TypeError("Cannot initialize the same private elements twice on an object")}function B2(g,u,h){j2(g,u),u.set(g,h)}var U2=100,Te={},$2=function(){Te.previousActiveElement instanceof HTMLElement?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus()},H2=function(u){return new Promise(function(h){if(!u)return h();var m=window.scrollX,E=window.scrollY;Te.restoreFocusTimeout=setTimeout(function(){$2(),h()},U2),window.scrollTo(m,E)})},MI="swal2-",q2=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],x=q2.reduce(function(g,u){return g[u]=MI+u,g},{}),z2=["success","warning","info","question","error"],$d=z2.reduce(function(g,u){return g[u]=MI+u,g},{}),PI="SweetAlert2:",ny=function(u){return u.charAt(0).toUpperCase()+u.slice(1)},Rn=function(u){console.warn("".concat(PI," ").concat(r(u)==="object"?u.join(" "):u))},Oo=function(u){console.error("".concat(PI," ").concat(u))},RI=[],G2=function(u){RI.includes(u)||(RI.push(u),Rn(u))},W2=function(u,h){G2('"'.concat(u,'" is deprecated and will be removed in the next major release. Please use "').concat(h,'" instead.'))},Hd=function(u){return typeof u=="function"?u():u},ry=function(u){return u&&typeof u.toPromise=="function"},Wc=function(u){return ry(u)?u.toPromise():Promise.resolve(u)},iy=function(u){return u&&Promise.resolve(u)===u},En=function(){return document.body.querySelector(".".concat(x.container))},Kc=function(u){var h=En();return h?h.querySelector(u):null},Bn=function(u){return Kc(".".concat(u))},$e=function(){return Bn(x.popup)},Qc=function(){return Bn(x.icon)},K2=function(){return Bn(x["icon-content"])},NI=function(){return Bn(x.title)},oy=function(){return Bn(x["html-container"])},kI=function(){return Bn(x.image)},sy=function(){return Bn(x["progress-steps"])},qd=function(){return Bn(x["validation-message"])},Br=function(){return Kc(".".concat(x.actions," .").concat(x.confirm))},Ws=function(){return Kc(".".concat(x.actions," .").concat(x.cancel))},Vo=function(){return Kc(".".concat(x.actions," .").concat(x.deny))},Q2=function(){return Bn(x["input-label"])},Ks=function(){return Kc(".".concat(x.loader))},Yc=function(){return Bn(x.actions)},FI=function(){return Bn(x.footer)},zd=function(){return Bn(x["timer-progress-bar"])},ay=function(){return Bn(x.close)},Y2=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,cy=function(){var u=$e();if(!u)return[];var h=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),m=Array.from(h).sort(function(q,he){var xe=parseInt(q.getAttribute("tabindex")||"0"),Je=parseInt(he.getAttribute("tabindex")||"0");return xe>Je?1:xe<Je?-1:0}),E=u.querySelectorAll(Y2),S=Array.from(E).filter(function(q){return q.getAttribute("tabindex")!=="-1"});return K(new Set(m.concat(S))).filter(function(q){return $n(q)})},ly=function(){return _i(document.body,x.shown)&&!_i(document.body,x["toast-shown"])&&!_i(document.body,x["no-backdrop"])},Gd=function(){var u=$e();return u?_i(u,x.toast):!1},Z2=function(){var u=$e();return u?u.hasAttribute("data-loading"):!1},Un=function(u,h){if(u.textContent="",h){var m=new DOMParser,E=m.parseFromString(h,"text/html"),S=E.querySelector("head");S&&Array.from(S.childNodes).forEach(function(he){u.appendChild(he)});var q=E.querySelector("body");q&&Array.from(q.childNodes).forEach(function(he){he instanceof HTMLVideoElement||he instanceof HTMLAudioElement?u.appendChild(he.cloneNode(!0)):u.appendChild(he)})}},_i=function(u,h){if(!h)return!1;for(var m=h.split(/\s+/),E=0;E<m.length;E++)if(!u.classList.contains(m[E]))return!1;return!0},X2=function(u,h){Array.from(u.classList).forEach(function(m){!Object.values(x).includes(m)&&!Object.values($d).includes(m)&&!Object.values(h.showClass||{}).includes(m)&&u.classList.remove(m)})},nr=function(u,h,m){if(X2(u,h),h.customClass&&h.customClass[m]){if(typeof h.customClass[m]!="string"&&!h.customClass[m].forEach){Rn("Invalid type of customClass.".concat(m,'! Expected string or iterable object, got "').concat(r(h.customClass[m]),'"'));return}ke(u,h.customClass[m])}},Wd=function(u,h){if(!h)return null;switch(h){case"select":case"textarea":case"file":return u.querySelector(".".concat(x.popup," > .").concat(x[h]));case"checkbox":return u.querySelector(".".concat(x.popup," > .").concat(x.checkbox," input"));case"radio":return u.querySelector(".".concat(x.popup," > .").concat(x.radio," input:checked"))||u.querySelector(".".concat(x.popup," > .").concat(x.radio," input:first-child"));case"range":return u.querySelector(".".concat(x.popup," > .").concat(x.range," input"));default:return u.querySelector(".".concat(x.popup," > .").concat(x.input))}},OI=function(u){if(u.focus(),u.type!=="file"){var h=u.value;u.value="",u.value=h}},VI=function(u,h,m){!u||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(function(E){Array.isArray(u)?u.forEach(function(S){m?S.classList.add(E):S.classList.remove(E)}):m?u.classList.add(E):u.classList.remove(E)}))},ke=function(u,h){VI(u,h,!0)},Ur=function(u,h){VI(u,h,!1)},qi=function(u,h){for(var m=Array.from(u.children),E=0;E<m.length;E++){var S=m[E];if(S instanceof HTMLElement&&_i(S,h))return S}},Lo=function(u,h,m){m==="".concat(parseInt(m))&&(m=parseInt(m)),m||parseInt(m)===0?u.style.setProperty(h,typeof m=="number"?"".concat(m,"px"):m):u.style.removeProperty(h)},Ht=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";u&&(u.style.display=h)},cn=function(u){u&&(u.style.display="none")},uy=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";u&&new MutationObserver(function(){Zc(u,u.innerHTML,h)}).observe(u,{childList:!0,subtree:!0})},LI=function(u,h,m,E){var S=u.querySelector(h);S&&S.style.setProperty(m,E)},Zc=function(u,h){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Ht(u,m):cn(u)},$n=function(u){return!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length))},J2=function(){return!$n(Br())&&!$n(Vo())&&!$n(Ws())},jI=function(u){return u.scrollHeight>u.clientHeight},BI=function(u){var h=window.getComputedStyle(u),m=parseFloat(h.getPropertyValue("animation-duration")||"0"),E=parseFloat(h.getPropertyValue("transition-duration")||"0");return m>0||E>0},dy=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=zd();m&&$n(m)&&(h&&(m.style.transition="none",m.style.width="100%"),setTimeout(function(){m.style.transition="width ".concat(u/1e3,"s linear"),m.style.width="0%"},10))},eF=function(){var u=zd();if(u){var h=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";var m=parseInt(window.getComputedStyle(u).width),E=h/m*100;u.style.width="".concat(E,"%")}},UI=function(){return typeof window>"u"||typeof document>"u"},tF=`
 <div aria-labelledby="`.concat(x.title,'" aria-describedby="').concat(x["html-container"],'" class="').concat(x.popup,`" tabindex="-1">
   <button type="button" class="`).concat(x.close,`"></button>
   <ul class="`).concat(x["progress-steps"],`"></ul>
   <div class="`).concat(x.icon,`"></div>
   <img class="`).concat(x.image,`" />
   <h2 class="`).concat(x.title,'" id="').concat(x.title,`"></h2>
   <div class="`).concat(x["html-container"],'" id="').concat(x["html-container"],`"></div>
   <input class="`).concat(x.input,'" id="').concat(x.input,`" />
   <input type="file" class="`).concat(x.file,`" />
   <div class="`).concat(x.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(x.select,'" id="').concat(x.select,`"></select>
   <div class="`).concat(x.radio,`"></div>
   <label class="`).concat(x.checkbox,`">
     <input type="checkbox" id="`).concat(x.checkbox,`" />
     <span class="`).concat(x.label,`"></span>
   </label>
   <textarea class="`).concat(x.textarea,'" id="').concat(x.textarea,`"></textarea>
   <div class="`).concat(x["validation-message"],'" id="').concat(x["validation-message"],`"></div>
   <div class="`).concat(x.actions,`">
     <div class="`).concat(x.loader,`"></div>
     <button type="button" class="`).concat(x.confirm,`"></button>
     <button type="button" class="`).concat(x.deny,`"></button>
     <button type="button" class="`).concat(x.cancel,`"></button>
   </div>
   <div class="`).concat(x.footer,`"></div>
   <div class="`).concat(x["timer-progress-bar-container"],`">
     <div class="`).concat(x["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),nF=function(){var u=En();return u?(u.remove(),Ur([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0):!1},jo=function(){Te.currentInstance.resetValidationMessage()},rF=function(){var u=$e(),h=qi(u,x.input),m=qi(u,x.file),E=u.querySelector(".".concat(x.range," input")),S=u.querySelector(".".concat(x.range," output")),q=qi(u,x.select),he=u.querySelector(".".concat(x.checkbox," input")),xe=qi(u,x.textarea);h.oninput=jo,m.onchange=jo,q.onchange=jo,he.onchange=jo,xe.oninput=jo,E.oninput=function(){jo(),S.value=E.value},E.onchange=function(){jo(),S.value=E.value}},iF=function(u){return typeof u=="string"?document.querySelector(u):u},oF=function(u){var h=$e();h.setAttribute("role",u.toast?"alert":"dialog"),h.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||h.setAttribute("aria-modal","true")},sF=function(u){window.getComputedStyle(u).direction==="rtl"&&ke(En(),x.rtl)},aF=function(u){var h=nF();if(UI()){Oo("SweetAlert2 requires document to initialize");return}var m=document.createElement("div");m.className=x.container,h&&ke(m,x["no-transition"]),Un(m,tF);var E=iF(u.target);E.appendChild(m),oF(u),sF(E),rF()},hy=function(u,h){u instanceof HTMLElement?h.appendChild(u):r(u)==="object"?cF(u,h):u&&Un(h,u)},cF=function(u,h){u.jquery?lF(h,u):Un(h,u.toString())},lF=function(u,h){if(u.textContent="",0 in h)for(var m=0;m in h;m++)u.appendChild(h[m].cloneNode(!0));else u.appendChild(h.cloneNode(!0))},Bo=function(){if(UI())return!1;var g=document.createElement("div");return typeof g.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof g.style.animation<"u"?"animationend":!1}(),uF=function(u,h){var m=Yc(),E=Ks();!m||!E||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?cn(m):Ht(m),nr(m,h,"actions"),dF(m,E,h),Un(E,h.loaderHtml||""),nr(E,h,"loader"))};function dF(g,u,h){var m=Br(),E=Vo(),S=Ws();!m||!E||!S||(fy(m,"confirm",h),fy(E,"deny",h),fy(S,"cancel",h),hF(m,E,S,h),h.reverseButtons&&(h.toast?(g.insertBefore(S,m),g.insertBefore(E,m)):(g.insertBefore(S,u),g.insertBefore(E,u),g.insertBefore(m,u))))}function hF(g,u,h,m){if(!m.buttonsStyling){Ur([g,u,h],x.styled);return}ke([g,u,h],x.styled),m.confirmButtonColor&&(g.style.backgroundColor=m.confirmButtonColor,ke(g,x["default-outline"])),m.denyButtonColor&&(u.style.backgroundColor=m.denyButtonColor,ke(u,x["default-outline"])),m.cancelButtonColor&&(h.style.backgroundColor=m.cancelButtonColor,ke(h,x["default-outline"]))}function fy(g,u,h){var m=ny(u);Zc(g,h["show".concat(m,"Button")],"inline-block"),Un(g,h["".concat(u,"ButtonText")]||""),g.setAttribute("aria-label",h["".concat(u,"ButtonAriaLabel")]||""),g.className=x[u],nr(g,h,"".concat(u,"Button"))}var fF=function(u,h){var m=ay();m&&(Un(m,h.closeButtonHtml||""),nr(m,h,"closeButton"),Zc(m,h.showCloseButton),m.setAttribute("aria-label",h.closeButtonAriaLabel||""))},pF=function(u,h){var m=En();m&&(mF(m,h.backdrop),gF(m,h.position),yF(m,h.grow),nr(m,h,"container"))};function mF(g,u){typeof u=="string"?g.style.background=u:u||ke([document.documentElement,document.body],x["no-backdrop"])}function gF(g,u){u&&(u in x?ke(g,x[u]):(Rn('The "position" parameter is not valid, defaulting to "center"'),ke(g,x.center)))}function yF(g,u){u&&ke(g,x["grow-".concat(u)])}var Ye={innerParams:new WeakMap,domCache:new WeakMap},vF=["input","file","range","select","radio","checkbox","textarea"],wF=function(u,h){var m=$e();if(m){var E=Ye.innerParams.get(u),S=!E||h.input!==E.input;vF.forEach(function(q){var he=qi(m,x[q]);he&&(CF(q,h.inputAttributes),he.className=x[q],S&&cn(he))}),h.input&&(S&&_F(h),bF(h))}},_F=function(u){if(u.input){if(!vt[u.input]){Oo("Unexpected type of input! Expected ".concat(Object.keys(vt).join(" | "),', got "').concat(u.input,'"'));return}var h=$I(u.input),m=vt[u.input](h,u);Ht(h),u.inputAutoFocus&&setTimeout(function(){OI(m)})}},EF=function(u){for(var h=0;h<u.attributes.length;h++){var m=u.attributes[h].name;["id","type","value","style"].includes(m)||u.removeAttribute(m)}},CF=function(u,h){var m=Wd($e(),u);if(m){EF(m);for(var E in h)m.setAttribute(E,h[E])}},bF=function(u){var h=$I(u.input);r(u.customClass)==="object"&&ke(h,u.customClass.input)},py=function(u,h){(!u.placeholder||h.inputPlaceholder)&&(u.placeholder=h.inputPlaceholder)},Xc=function(u,h,m){if(m.inputLabel){var E=document.createElement("label"),S=x["input-label"];E.setAttribute("for",u.id),E.className=S,r(m.customClass)==="object"&&ke(E,m.customClass.inputLabel),E.innerText=m.inputLabel,h.insertAdjacentElement("beforebegin",E)}},$I=function(u){return qi($e(),x[u]||x.input)},Kd=function(u,h){["string","number"].includes(r(h))?u.value="".concat(h):iy(h)||Rn('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(r(h),'"'))},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=function(g,u){return Kd(g,u.inputValue),Xc(g,g,u),py(g,u),g.type=u.input,g},vt.file=function(g,u){return Xc(g,g,u),py(g,u),g},vt.range=function(g,u){var h=g.querySelector("input"),m=g.querySelector("output");return Kd(h,u.inputValue),h.type=u.input,Kd(m,u.inputValue),Xc(h,g,u),g},vt.select=function(g,u){if(g.textContent="",u.inputPlaceholder){var h=document.createElement("option");Un(h,u.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,g.appendChild(h)}return Xc(g,g,u),g},vt.radio=function(g){return g.textContent="",g},vt.checkbox=function(g,u){var h=Wd($e(),"checkbox");h.value="1",h.checked=!!u.inputValue;var m=g.querySelector("span");return Un(m,u.inputPlaceholder),h},vt.textarea=function(g,u){Kd(g,u.inputValue),py(g,u),Xc(g,g,u);var h=function(E){return parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var m=parseInt(window.getComputedStyle($e()).width),E=function(){if(document.body.contains(g)){var q=g.offsetWidth+h(g);q>m?$e().style.width="".concat(q,"px"):Lo($e(),"width",u.width)}};new MutationObserver(E).observe(g,{attributes:!0,attributeFilter:["style"]})}}),g};var IF=function(u,h){var m=oy();m&&(uy(m),nr(m,h,"htmlContainer"),h.html?(hy(h.html,m),Ht(m,"block")):h.text?(m.textContent=h.text,Ht(m,"block")):cn(m),wF(u,h))},DF=function(u,h){var m=FI();m&&(uy(m),Zc(m,h.footer,"block"),h.footer&&hy(h.footer,m),nr(m,h,"footer"))},TF=function(u,h){var m=Ye.innerParams.get(u),E=Qc();if(E){if(m&&h.icon===m.icon){qI(E,h),HI(E,h);return}if(!h.icon&&!h.iconHtml){cn(E);return}if(h.icon&&Object.keys($d).indexOf(h.icon)===-1){Oo('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(h.icon,'"')),cn(E);return}Ht(E),qI(E,h),HI(E,h),ke(E,h.showClass&&h.showClass.icon)}},HI=function(u,h){for(var m=0,E=Object.entries($d);m<E.length;m++){var S=O(E[m],2),q=S[0],he=S[1];h.icon!==q&&Ur(u,he)}ke(u,h.icon&&$d[h.icon]),MF(u,h),xF(),nr(u,h,"icon")},xF=function(){var u=$e();if(u)for(var h=window.getComputedStyle(u).getPropertyValue("background-color"),m=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),E=0;E<m.length;E++)m[E].style.backgroundColor=h},SF=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,AF=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,qI=function(u,h){if(!(!h.icon&&!h.iconHtml)){var m=u.innerHTML,E="";if(h.iconHtml)E=zI(h.iconHtml);else if(h.icon==="success")E=SF,m=m.replace(/ style=".*?"/g,"");else if(h.icon==="error")E=AF;else if(h.icon){var S={question:"?",warning:"!",info:"i"};E=zI(S[h.icon])}m.trim()!==E.trim()&&Un(u,E)}},MF=function(u,h){if(h.iconColor){u.style.color=h.iconColor,u.style.borderColor=h.iconColor;for(var m=0,E=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];m<E.length;m++){var S=E[m];LI(u,S,"backgroundColor",h.iconColor)}LI(u,".swal2-success-ring","borderColor",h.iconColor)}},zI=function(u){return'<div class="'.concat(x["icon-content"],'">').concat(u,"</div>")},PF=function(u,h){var m=kI();if(m){if(!h.imageUrl){cn(m);return}Ht(m,""),m.setAttribute("src",h.imageUrl),m.setAttribute("alt",h.imageAlt||""),Lo(m,"width",h.imageWidth),Lo(m,"height",h.imageHeight),m.className=x.image,nr(m,h,"image")}},RF=function(u,h){var m=En(),E=$e();if(!(!m||!E)){if(h.toast){Lo(m,"width",h.width),E.style.width="100%";var S=Ks();S&&E.insertBefore(S,Qc())}else Lo(E,"width",h.width);Lo(E,"padding",h.padding),h.color&&(E.style.color=h.color),h.background&&(E.style.background=h.background),cn(qd()),NF(E,h)}},NF=function(u,h){var m=h.showClass||{};u.className="".concat(x.popup," ").concat($n(u)?m.popup:""),h.toast?(ke([document.documentElement,document.body],x["toast-shown"]),ke(u,x.toast)):ke(u,x.modal),nr(u,h,"popup"),typeof h.customClass=="string"&&ke(u,h.customClass),h.icon&&ke(u,x["icon-".concat(h.icon)])},kF=function(u,h){var m=sy();if(m){var E=h.progressSteps,S=h.currentProgressStep;if(!E||E.length===0||S===void 0){cn(m);return}Ht(m),m.textContent="",S>=E.length&&Rn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach(function(q,he){var xe=FF(q);if(m.appendChild(xe),he===S&&ke(xe,x["active-progress-step"]),he!==E.length-1){var Je=OF(h);m.appendChild(Je)}})}},FF=function(u){var h=document.createElement("li");return ke(h,x["progress-step"]),Un(h,u),h},OF=function(u){var h=document.createElement("li");return ke(h,x["progress-step-line"]),u.progressStepsDistance&&Lo(h,"width",u.progressStepsDistance),h},VF=function(u,h){var m=NI();m&&(uy(m),Zc(m,h.title||h.titleText,"block"),h.title&&hy(h.title,m),h.titleText&&(m.innerText=h.titleText),nr(m,h,"title"))},GI=function(u,h){RF(u,h),pF(u,h),kF(u,h),TF(u,h),PF(u,h),VF(u,h),fF(u,h),IF(u,h),uF(u,h),DF(u,h);var m=$e();typeof h.didRender=="function"&&m&&h.didRender(m)},LF=function(){return $n($e())},WI=function(){var u;return(u=Br())===null||u===void 0?void 0:u.click()},jF=function(){var u;return(u=Vo())===null||u===void 0?void 0:u.click()},BF=function(){var u;return(u=Ws())===null||u===void 0?void 0:u.click()},Qs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),KI=function(u){u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},UF=function(u,h,m){KI(u),h.toast||(u.keydownHandler=function(E){return HF(h,E,m)},u.keydownTarget=h.keydownListenerCapture?window:$e(),u.keydownListenerCapture=h.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},my=function(u,h){var m,E=cy();if(E.length){u=u+h,u===E.length?u=0:u===-1&&(u=E.length-1),E[u].focus();return}(m=$e())===null||m===void 0||m.focus()},QI=["ArrowRight","ArrowDown"],$F=["ArrowLeft","ArrowUp"],HF=function(u,h,m){u&&(h.isComposing||h.keyCode===229||(u.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?qF(h,u):h.key==="Tab"?zF(h):[].concat(QI,$F).includes(h.key)?GF(h.key):h.key==="Escape"&&WF(h,u,m)))},qF=function(u,h){if(Hd(h.allowEnterKey)){var m=Wd($e(),h.input);if(u.target&&m&&u.target instanceof HTMLElement&&u.target.outerHTML===m.outerHTML){if(["textarea","file"].includes(h.input))return;WI(),u.preventDefault()}}},zF=function(u){for(var h=u.target,m=cy(),E=-1,S=0;S<m.length;S++)if(h===m[S]){E=S;break}u.shiftKey?my(E,-1):my(E,1),u.stopPropagation(),u.preventDefault()},GF=function(u){var h=Yc(),m=Br(),E=Vo(),S=Ws();if(!(!h||!m||!E||!S)){var q=[m,E,S];if(!(document.activeElement instanceof HTMLElement&&!q.includes(document.activeElement))){var he=QI.includes(u)?"nextElementSibling":"previousElementSibling",xe=document.activeElement;if(xe){for(var Je=0;Je<h.children.length;Je++){if(xe=xe[he],!xe)return;if(xe instanceof HTMLButtonElement&&$n(xe))break}xe instanceof HTMLButtonElement&&xe.focus()}}}},WF=function(u,h,m){Hd(h.allowEscapeKey)&&(u.preventDefault(),m(Qs.esc))},Ys={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},KF=function(){var u=Array.from(document.body.children);u.forEach(function(h){h===En()||h.contains(En())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")||""),h.setAttribute("aria-hidden","true"))})},YI=function(){var u=Array.from(document.body.children);u.forEach(function(h){h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},ZI=typeof window<"u"&&!!window.GestureEvent,QF=function(){if(ZI&&!_i(document.body,x.iosfix)){var u=document.body.scrollTop;document.body.style.top="".concat(u*-1,"px"),ke(document.body,x.iosfix),YF()}},YF=function(){var u=En();if(u){var h;u.ontouchstart=function(m){h=ZF(m)},u.ontouchmove=function(m){h&&(m.preventDefault(),m.stopPropagation())}}},ZF=function(u){var h=u.target,m=En(),E=oy();return!m||!E||XF(u)||JF(u)?!1:h===m||!jI(m)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(jI(E)&&E.contains(h))},XF=function(u){return u.touches&&u.touches.length&&u.touches[0].touchType==="stylus"},JF=function(u){return u.touches&&u.touches.length>1},eO=function(){if(_i(document.body,x.iosfix)){var u=parseInt(document.body.style.top,10);Ur(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},tO=function(){var u=document.createElement("div");u.className=x["scrollbar-measure"],document.body.appendChild(u);var h=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),h},Zs=null,nO=function(u){Zs===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(Zs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Zs+tO(),"px"))},rO=function(){Zs!==null&&(document.body.style.paddingRight="".concat(Zs,"px"),Zs=null)};function XI(g,u,h,m){Gd()?eD(g,m):(H2(h).then(function(){return eD(g,m)}),KI(Te)),ZI?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),ly()&&(rO(),eO(),YI()),iO()}function iO(){Ur([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}function zi(g){g=sO(g);var u=Ys.swalPromiseResolve.get(this),h=oO(this);this.isAwaitingPromise?g.isDismissed||(Jc(this),u(g)):h&&u(g)}var oO=function(u){var h=$e();if(!h)return!1;var m=Ye.innerParams.get(u);if(!m||_i(h,m.hideClass.popup))return!1;Ur(h,m.showClass.popup),ke(h,m.hideClass.popup);var E=En();return Ur(E,m.showClass.backdrop),ke(E,m.hideClass.backdrop),aO(u,h,m),!0};function JI(g){var u=Ys.swalPromiseReject.get(this);Jc(this),u&&u(g)}var Jc=function(u){u.isAwaitingPromise&&(delete u.isAwaitingPromise,Ye.innerParams.get(u)||u._destroy())},sO=function(u){return typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u)},aO=function(u,h,m){var E=En(),S=Bo&&BI(h);typeof m.willClose=="function"&&m.willClose(h),S?cO(u,h,E,m.returnFocus,m.didClose):XI(u,E,m.returnFocus,m.didClose)},cO=function(u,h,m,E,S){Bo&&(Te.swalCloseEventFinishedCallback=XI.bind(null,u,m,E,S),h.addEventListener(Bo,function(q){q.target===h&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback)}))},eD=function(u,h){setTimeout(function(){typeof h=="function"&&h.bind(u.params)(),u._destroy&&u._destroy()})},Xs=function(u){var h=$e();if(h||new Jd,h=$e(),!!h){var m=Ks();Gd()?cn(Qc()):lO(h,u),Ht(m),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()}},lO=function(u,h){var m=Yc(),E=Ks();!m||!E||(!h&&$n(Br())&&(h=Br()),Ht(m),h&&(cn(h),E.setAttribute("data-button-to-replace",h.className),m.insertBefore(E,h)),ke([u,m],x.loading))},uO=function(u,h){h.input==="select"||h.input==="radio"?mO(u,h):["text","email","number","tel","textarea"].some(function(m){return m===h.input})&&(ry(h.inputValue)||iy(h.inputValue))&&(Xs(Br()),gO(u,h))},dO=function(u,h){var m=u.getInput();if(!m)return null;switch(h.input){case"checkbox":return hO(m);case"radio":return fO(m);case"file":return pO(m);default:return h.inputAutoTrim?m.value.trim():m.value}},hO=function(u){return u.checked?1:0},fO=function(u){return u.checked?u.value:null},pO=function(u){return u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null},mO=function(u,h){var m=$e();if(m){var E=function(q){h.input==="select"?yO(m,tD(q),h):h.input==="radio"&&vO(m,tD(q),h)};ry(h.inputOptions)||iy(h.inputOptions)?(Xs(Br()),Wc(h.inputOptions).then(function(S){u.hideLoading(),E(S)})):r(h.inputOptions)==="object"?E(h.inputOptions):Oo("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(r(h.inputOptions)))}},gO=function(u,h){var m=u.getInput();m&&(cn(m),Wc(h.inputValue).then(function(E){m.value=h.input==="number"?"".concat(parseFloat(E)||0):"".concat(E),Ht(m),m.focus(),u.hideLoading()}).catch(function(E){Oo("Error in inputValue promise: ".concat(E)),m.value="",Ht(m),m.focus(),u.hideLoading()}))};function yO(g,u,h){var m=qi(g,x.select);if(m){var E=function(q,he,xe){var Je=document.createElement("option");Je.value=xe,Un(Je,he),Je.selected=nD(xe,h.inputValue),q.appendChild(Je)};u.forEach(function(S){var q=S[0],he=S[1];if(Array.isArray(he)){var xe=document.createElement("optgroup");xe.label=q,xe.disabled=!1,m.appendChild(xe),he.forEach(function(Je){return E(xe,Je[1],Je[0])})}else E(m,he,q)}),m.focus()}}function vO(g,u,h){var m=qi(g,x.radio);if(m){u.forEach(function(S){var q=S[0],he=S[1],xe=document.createElement("input"),Je=document.createElement("label");xe.type="radio",xe.name=x.radio,xe.value=q,nD(q,h.inputValue)&&(xe.checked=!0);var el=document.createElement("span");Un(el,he),el.className=x.label,Je.appendChild(xe),Je.appendChild(el),m.appendChild(Je)});var E=m.querySelectorAll("input");E.length&&E[0].focus()}}var tD=function g(u){var h=[];return u instanceof Map?u.forEach(function(m,E){var S=m;r(S)==="object"&&(S=g(S)),h.push([E,S])}):Object.keys(u).forEach(function(m){var E=u[m];r(E)==="object"&&(E=g(E)),h.push([m,E])}),h},nD=function(u,h){return!!h&&h.toString()===u.toString()},Qd=void 0,wO=function(u){var h=Ye.innerParams.get(u);u.disableButtons(),h.input?rD(u,"confirm"):yy(u,!0)},_O=function(u){var h=Ye.innerParams.get(u);u.disableButtons(),h.returnInputValueOnDeny?rD(u,"deny"):gy(u,!1)},EO=function(u,h){u.disableButtons(),h(Qs.cancel)},rD=function(u,h){var m=Ye.innerParams.get(u);if(!m.input){Oo('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ny(h)));return}var E=u.getInput(),S=dO(u,m);m.inputValidator?CO(u,S,h):E&&!E.checkValidity()?(u.enableButtons(),u.showValidationMessage(m.validationMessage)):h==="deny"?gy(u,S):yy(u,S)},CO=function(u,h,m){var E=Ye.innerParams.get(u);u.disableInput();var S=Promise.resolve().then(function(){return Wc(E.inputValidator(h,E.validationMessage))});S.then(function(q){u.enableButtons(),u.enableInput(),q?u.showValidationMessage(q):m==="deny"?gy(u,h):yy(u,h)})},gy=function(u,h){var m=Ye.innerParams.get(u||Qd);if(m.showLoaderOnDeny&&Xs(Vo()),m.preDeny){u.isAwaitingPromise=!0;var E=Promise.resolve().then(function(){return Wc(m.preDeny(h,m.validationMessage))});E.then(function(S){S===!1?(u.hideLoading(),Jc(u)):u.close({isDenied:!0,value:typeof S>"u"?h:S})}).catch(function(S){return oD(u||Qd,S)})}else u.close({isDenied:!0,value:h})},iD=function(u,h){u.close({isConfirmed:!0,value:h})},oD=function(u,h){u.rejectPromise(h)},yy=function(u,h){var m=Ye.innerParams.get(u||Qd);if(m.showLoaderOnConfirm&&Xs(),m.preConfirm){u.resetValidationMessage(),u.isAwaitingPromise=!0;var E=Promise.resolve().then(function(){return Wc(m.preConfirm(h,m.validationMessage))});E.then(function(S){$n(qd())||S===!1?(u.hideLoading(),Jc(u)):iD(u,typeof S>"u"?h:S)}).catch(function(S){return oD(u||Qd,S)})}else iD(u,h)};function Yd(){var g=Ye.innerParams.get(this);if(g){var u=Ye.domCache.get(this);cn(u.loader),Gd()?g.icon&&Ht(Qc()):bO(u),Ur([u.popup,u.actions],x.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}}var bO=function(u){var h=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));h.length?Ht(h[0],"inline-block"):J2()&&cn(u.actions)};function sD(){var g=Ye.innerParams.get(this),u=Ye.domCache.get(this);return u?Wd(u.popup,g.input):null}function aD(g,u,h){var m=Ye.domCache.get(g);u.forEach(function(E){m[E].disabled=h})}function cD(g,u){var h=$e();if(!(!h||!g))if(g.type==="radio")for(var m=h.querySelectorAll('[name="'.concat(x.radio,'"]')),E=0;E<m.length;E++)m[E].disabled=u;else g.disabled=u}function lD(){aD(this,["confirmButton","denyButton","cancelButton"],!1)}function uD(){aD(this,["confirmButton","denyButton","cancelButton"],!0)}function dD(){cD(this.getInput(),!1)}function hD(){cD(this.getInput(),!0)}function fD(g){var u=Ye.domCache.get(this),h=Ye.innerParams.get(this);Un(u.validationMessage,g),u.validationMessage.className=x["validation-message"],h.customClass&&h.customClass.validationMessage&&ke(u.validationMessage,h.customClass.validationMessage),Ht(u.validationMessage);var m=this.getInput();m&&(m.setAttribute("aria-invalid","true"),m.setAttribute("aria-describedby",x["validation-message"]),OI(m),ke(m,x.inputerror))}function pD(){var g=Ye.domCache.get(this);g.validationMessage&&cn(g.validationMessage);var u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),Ur(u,x.inputerror))}var Js={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},IO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],DO={},TO=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],mD=function(u){return Object.prototype.hasOwnProperty.call(Js,u)},gD=function(u){return IO.indexOf(u)!==-1},yD=function(u){return DO[u]},xO=function(u){mD(u)||Rn('Unknown parameter "'.concat(u,'"'))},SO=function(u){TO.includes(u)&&Rn('The parameter "'.concat(u,'" is incompatible with toasts'))},AO=function(u){var h=yD(u);h&&W2(u,h)},MO=function(u){u.backdrop===!1&&u.allowOutsideClick&&Rn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var h in u)xO(h),u.toast&&SO(h),AO(h)};function vD(g){var u=$e(),h=Ye.innerParams.get(this);if(!u||_i(u,h.hideClass.popup)){Rn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var m=PO(g),E=Object.assign({},h,m);GI(this,E),Ye.innerParams.set(this,E),Object.defineProperties(this,{params:{value:Object.assign({},this.params,g),writable:!1,enumerable:!0}})}var PO=function(u){var h={};return Object.keys(u).forEach(function(m){gD(m)?h[m]=u[m]:Rn("Invalid parameter to update: ".concat(m))}),h};function wD(){var g=Ye.domCache.get(this),u=Ye.innerParams.get(this);if(!u){_D(this);return}g.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),RO(this)}var RO=function(u){_D(u),delete u.params,delete Te.keydownHandler,delete Te.keydownTarget,delete Te.currentInstance},_D=function(u){u.isAwaitingPromise?(vy(Ye,u),u.isAwaitingPromise=!0):(vy(Ys,u),vy(Ye,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},vy=function(u,h){for(var m in u)u[m].delete(h)},NO=Object.freeze({__proto__:null,_destroy:wD,close:zi,closeModal:zi,closePopup:zi,closeToast:zi,disableButtons:uD,disableInput:hD,disableLoading:Yd,enableButtons:lD,enableInput:dD,getInput:sD,handleAwaitingPromise:Jc,hideLoading:Yd,rejectPromise:JI,resetValidationMessage:pD,showValidationMessage:fD,update:vD}),kO=function(u,h,m){u.toast?FO(u,h,m):(VO(h),LO(h),jO(u,h,m))},FO=function(u,h,m){h.popup.onclick=function(){u&&(OO(u)||u.timer||u.input)||m(Qs.close)}},OO=function(u){return!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton)},Zd=!1,VO=function(u){u.popup.onmousedown=function(){u.container.onmouseup=function(h){u.container.onmouseup=function(){},h.target===u.container&&(Zd=!0)}}},LO=function(u){u.container.onmousedown=function(){u.popup.onmouseup=function(h){u.popup.onmouseup=function(){},(h.target===u.popup||h.target instanceof HTMLElement&&u.popup.contains(h.target))&&(Zd=!0)}}},jO=function(u,h,m){h.container.onclick=function(E){if(Zd){Zd=!1;return}E.target===h.container&&Hd(u.allowOutsideClick)&&m(Qs.backdrop)}},BO=function(u){return r(u)==="object"&&u.jquery},ED=function(u){return u instanceof Element||BO(u)},UO=function(u){var h={};return r(u[0])==="object"&&!ED(u[0])?Object.assign(h,u[0]):["title","html","icon"].forEach(function(m,E){var S=u[E];typeof S=="string"||ED(S)?h[m]=S:S!==void 0&&Oo("Unexpected type of ".concat(m,'! Expected "string" or "Element", got ').concat(r(S)))}),h};function $O(){for(var g=this,u=arguments.length,h=new Array(u),m=0;m<u;m++)h[m]=arguments[m];return f(g,h)}function HO(g){var u=function(h){a(E,h);var m=b(E);function E(){return i(this,E),m.apply(this,arguments)}return s(E,[{key:"_main",value:function(q,he){return M(c(E.prototype),"_main",this).call(this,q,Object.assign({},g,he))}}]),E}(this);return u}var qO=function(){return Te.timeout&&Te.timeout.getTimerLeft()},CD=function(){if(Te.timeout)return eF(),Te.timeout.stop()},bD=function(){if(Te.timeout){var u=Te.timeout.start();return dy(u),u}},zO=function(){var u=Te.timeout;return u&&(u.running?CD():bD())},GO=function(u){if(Te.timeout){var h=Te.timeout.increase(u);return dy(h,!0),h}},WO=function(){return!!(Te.timeout&&Te.timeout.isRunning())},ID=!1,wy={};function KO(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";wy[g]=this,ID||(document.body.addEventListener("click",QO),ID=!0)}var QO=function(u){for(var h=u.target;h&&h!==document;h=h.parentNode)for(var m in wy){var E=h.getAttribute(m);if(E){wy[m].fire({template:E});return}}},YO=Object.freeze({__proto__:null,argsToParams:UO,bindClickHandler:KO,clickCancel:BF,clickConfirm:WI,clickDeny:jF,enableLoading:Xs,fire:$O,getActions:Yc,getCancelButton:Ws,getCloseButton:ay,getConfirmButton:Br,getContainer:En,getDenyButton:Vo,getFocusableElements:cy,getFooter:FI,getHtmlContainer:oy,getIcon:Qc,getIconContent:K2,getImage:kI,getInputLabel:Q2,getLoader:Ks,getPopup:$e,getProgressSteps:sy,getTimerLeft:qO,getTimerProgressBar:zd,getTitle:NI,getValidationMessage:qd,increaseTimer:GO,isDeprecatedParameter:yD,isLoading:Z2,isTimerRunning:WO,isUpdatableParameter:gD,isValidParameter:mD,isVisible:LF,mixin:HO,resumeTimer:bD,showLoading:Xs,stopTimer:CD,toggleTimer:zO}),ZO=function(){function g(u,h){i(this,g),this.callback=u,this.remaining=h,this.running=!1,this.start()}return s(g,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(h){var m=this.running;return m&&this.stop(),this.remaining+=h,m&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),g}(),DD=["swal-title","swal-html","swal-footer"],XO=function(u){var h=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!h)return{};var m=h.content;sV(m);var E=Object.assign(JO(m),eV(m),tV(m),nV(m),rV(m),iV(m),oV(m,DD));return E},JO=function(u){var h={},m=Array.from(u.querySelectorAll("swal-param"));return m.forEach(function(E){Uo(E,["name","value"]);var S=E.getAttribute("name"),q=E.getAttribute("value");typeof Js[S]=="boolean"?h[S]=q!=="false":r(Js[S])==="object"?h[S]=JSON.parse(q):h[S]=q}),h},eV=function(u){var h={},m=Array.from(u.querySelectorAll("swal-function-param"));return m.forEach(function(E){var S=E.getAttribute("name"),q=E.getAttribute("value");h[S]=new Function("return ".concat(q))()}),h},tV=function(u){var h={},m=Array.from(u.querySelectorAll("swal-button"));return m.forEach(function(E){Uo(E,["type","color","aria-label"]);var S=E.getAttribute("type");h["".concat(S,"ButtonText")]=E.innerHTML,h["show".concat(ny(S),"Button")]=!0,E.hasAttribute("color")&&(h["".concat(S,"ButtonColor")]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(h["".concat(S,"ButtonAriaLabel")]=E.getAttribute("aria-label"))}),h},nV=function(u){var h={},m=u.querySelector("swal-image");return m&&(Uo(m,["src","width","height","alt"]),m.hasAttribute("src")&&(h.imageUrl=m.getAttribute("src")),m.hasAttribute("width")&&(h.imageWidth=m.getAttribute("width")),m.hasAttribute("height")&&(h.imageHeight=m.getAttribute("height")),m.hasAttribute("alt")&&(h.imageAlt=m.getAttribute("alt"))),h},rV=function(u){var h={},m=u.querySelector("swal-icon");return m&&(Uo(m,["type","color"]),m.hasAttribute("type")&&(h.icon=m.getAttribute("type")),m.hasAttribute("color")&&(h.iconColor=m.getAttribute("color")),h.iconHtml=m.innerHTML),h},iV=function(u){var h={},m=u.querySelector("swal-input");m&&(Uo(m,["type","label","placeholder","value"]),h.input=m.getAttribute("type")||"text",m.hasAttribute("label")&&(h.inputLabel=m.getAttribute("label")),m.hasAttribute("placeholder")&&(h.inputPlaceholder=m.getAttribute("placeholder")),m.hasAttribute("value")&&(h.inputValue=m.getAttribute("value")));var E=Array.from(u.querySelectorAll("swal-input-option"));return E.length&&(h.inputOptions={},E.forEach(function(S){Uo(S,["value"]);var q=S.getAttribute("value"),he=S.innerHTML;h.inputOptions[q]=he})),h},oV=function(u,h){var m={};for(var E in h){var S=h[E],q=u.querySelector(S);q&&(Uo(q,[]),m[S.replace(/^swal-/,"")]=q.innerHTML.trim())}return m},sV=function(u){var h=DD.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(function(m){var E=m.tagName.toLowerCase();h.includes(E)||Rn("Unrecognized element <".concat(E,">"))})},Uo=function(u,h){Array.from(u.attributes).forEach(function(m){h.indexOf(m.name)===-1&&Rn(['Unrecognized attribute "'.concat(m.name,'" on <').concat(u.tagName.toLowerCase(),">."),"".concat(h.length?"Allowed attributes are: ".concat(h.join(", ")):"To set the value, use HTML within the element.")])})},TD=10,aV=function(u){var h=En(),m=$e();typeof u.willOpen=="function"&&u.willOpen(m);var E=window.getComputedStyle(document.body),S=E.overflowY;dV(h,m,u),setTimeout(function(){lV(h,m)},TD),ly()&&(uV(h,u.scrollbarPadding,S),KF()),!Gd()&&!Te.previousActiveElement&&(Te.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(function(){return u.didOpen(m)}),Ur(h,x["no-transition"])},cV=function g(u){var h=$e();if(!(u.target!==h||!Bo)){var m=En();h.removeEventListener(Bo,g),m.style.overflowY="auto"}},lV=function(u,h){Bo&&BI(h)?(u.style.overflowY="hidden",h.addEventListener(Bo,cV)):u.style.overflowY="auto"},uV=function(u,h,m){QF(),h&&m!=="hidden"&&nO(m),setTimeout(function(){u.scrollTop=0})},dV=function(u,h,m){ke(u,m.showClass.backdrop),m.animation?(h.style.setProperty("opacity","0","important"),Ht(h,"grid"),setTimeout(function(){ke(h,m.showClass.popup),h.style.removeProperty("opacity")},TD)):Ht(h,"grid"),ke([document.documentElement,document.body],x.shown),m.heightAuto&&m.backdrop&&!m.toast&&ke([document.documentElement,document.body],x["height-auto"])},xD={email:function(u,h){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid email address")},url:function(u,h){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid URL")}};function hV(g){g.inputValidator||(g.input==="email"&&(g.inputValidator=xD.email),g.input==="url"&&(g.inputValidator=xD.url))}function fV(g){(!g.target||typeof g.target=="string"&&!document.querySelector(g.target)||typeof g.target!="string"&&!g.target.appendChild)&&(Rn('Target parameter is not valid, defaulting to "body"'),g.target="body")}function pV(g){hV(g),g.showLoaderOnConfirm&&!g.preConfirm&&Rn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),fV(g),typeof g.title=="string"&&(g.title=g.title.split(`
`).join("<br />")),aF(g)}var $r,Xd=new WeakMap,wt=function(){function g(){if(i(this,g),B2(this,Xd,{writable:!0,value:void 0}),!(typeof window>"u")){$r=this;for(var u=arguments.length,h=new Array(u),m=0;m<u;m++)h[m]=arguments[m];var E=Object.freeze(this.constructor.argsToParams(h));this.params=E,this.isAwaitingPromise=!1,O2(this,Xd,this._main($r.params))}}return s(g,[{key:"_main",value:function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(MO(Object.assign({},m,h)),Te.currentInstance){var E=Ys.swalPromiseResolve.get(Te.currentInstance),S=Te.currentInstance.isAwaitingPromise;Te.currentInstance._destroy(),S||E({isDismissed:!0}),ly()&&YI()}Te.currentInstance=$r;var q=gV(h,m);pV(q),Object.freeze(q),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);var he=yV($r);return GI($r,q),Ye.innerParams.set($r,q),mV($r,he,q)}},{key:"then",value:function(h){return Gc(this,Xd).then(h)}},{key:"finally",value:function(h){return Gc(this,Xd).finally(h)}}]),g}(),mV=function(u,h,m){return new Promise(function(E,S){var q=function(xe){u.close({isDismissed:!0,dismiss:xe})};Ys.swalPromiseResolve.set(u,E),Ys.swalPromiseReject.set(u,S),h.confirmButton.onclick=function(){wO(u)},h.denyButton.onclick=function(){_O(u)},h.cancelButton.onclick=function(){EO(u,q)},h.closeButton.onclick=function(){q(Qs.close)},kO(m,h,q),UF(Te,m,q),uO(u,m),aV(m),vV(Te,m,q),wV(h,m),setTimeout(function(){h.container.scrollTop=0})})},gV=function(u,h){var m=XO(u),E=Object.assign({},Js,h,m,u);return E.showClass=Object.assign({},Js.showClass,E.showClass),E.hideClass=Object.assign({},Js.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},yV=function(u){var h={popup:$e(),container:En(),actions:Yc(),confirmButton:Br(),denyButton:Vo(),cancelButton:Ws(),loader:Ks(),closeButton:ay(),validationMessage:qd(),progressSteps:sy()};return Ye.domCache.set(u,h),h},vV=function(u,h,m){var E=zd();cn(E),h.timer&&(u.timeout=new ZO(function(){m("timer"),delete u.timeout},h.timer),h.timerProgressBar&&(Ht(E),nr(E,h,"timerProgressBar"),setTimeout(function(){u.timeout&&u.timeout.running&&dy(h.timer)})))},wV=function(u,h){if(!h.toast){if(!Hd(h.allowEnterKey)){EV();return}_V(u,h)||my(-1,1)}},_V=function(u,h){return h.focusDeny&&$n(u.denyButton)?(u.denyButton.focus(),!0):h.focusCancel&&$n(u.cancelButton)?(u.cancelButton.focus(),!0):h.focusConfirm&&$n(u.confirmButton)?(u.confirmButton.focus(),!0):!1},EV=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var SD=new Date,AD=localStorage.getItem("swal-initiation");AD?(SD.getTime()-Date.parse(AD))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var g=document.createElement("audio");g.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",g.loop=!0,document.body.appendChild(g),setTimeout(function(){g.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(SD))}wt.prototype.disableButtons=uD,wt.prototype.enableButtons=lD,wt.prototype.getInput=sD,wt.prototype.disableInput=hD,wt.prototype.enableInput=dD,wt.prototype.hideLoading=Yd,wt.prototype.disableLoading=Yd,wt.prototype.showValidationMessage=fD,wt.prototype.resetValidationMessage=pD,wt.prototype.close=zi,wt.prototype.closePopup=zi,wt.prototype.closeModal=zi,wt.prototype.closeToast=zi,wt.prototype.rejectPromise=JI,wt.prototype.update=vD,wt.prototype._destroy=wD,Object.assign(wt,YO),Object.keys(NO).forEach(function(g){wt[g]=function(){if($r&&$r[g]){var u;return(u=$r)[g].apply(u,arguments)}return null}}),wt.DismissReason=Qs,wt.version="11.10.3";var Jd=wt;return Jd.default=Jd,Jd});typeof wi<"u"&&wi.Sweetalert2&&(wi.swal=wi.sweetAlert=wi.Swal=wi.SweetAlert=wi.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function bV(t,e){return Object.is(t,e)}var qt=null,oh=!1,sh=1,il=Symbol("SIGNAL");function Jt(t){let e=qt;return qt=t,e}var Iy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function IV(t){if(oh)throw new Error("");if(qt===null)return;qt.consumerOnSignalRead(t);let e=qt.nextProducerIndex++;if(ea(qt),e<qt.producerNode.length&&qt.producerNode[e]!==t&&rl(qt)){let n=qt.producerNode[e];ah(n,qt.producerIndexOfThis[e])}qt.producerNode[e]!==t&&(qt.producerNode[e]=t,qt.producerIndexOfThis[e]=rl(qt)?WD(t,qt,e):0),qt.producerLastReadVersion[e]=t.version}function DV(){sh++}function TV(t){if(!(rl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sh)){if(!t.producerMustRecompute(t)&&!Dy(t)){t.dirty=!1,t.lastCleanEpoch=sh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=sh}}function $D(t){if(t.liveConsumerNode===void 0)return;let e=oh;oh=!0;try{for(let n of t.liveConsumerNode)n.dirty||xV(n)}finally{oh=e}}function HD(){return qt?.consumerAllowSignalWrites!==!1}function xV(t){t.dirty=!0,$D(t),t.consumerMarkedDirty?.(t)}function qD(t){return t&&(t.nextProducerIndex=0),Jt(t)}function zD(t,e){if(Jt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(rl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ah(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dy(t){ea(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(TV(n),r!==n.version))return!0}return!1}function GD(t){if(ea(t),rl(t))for(let e=0;e<t.producerNode.length;e++)ah(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function WD(t,e,n){if(KD(t),ea(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=WD(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ah(t,e){if(KD(t),ea(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ah(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ea(i),i.producerIndexOfThis[r]=e}}function rl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ea(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function KD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function SV(){throw new Error}var QD=SV;function YD(){QD()}function ZD(t){QD=t}var AV=null;function XD(t){let e=Object.create(MV);e.value=t;let n=()=>(IV(e),e.value);return n[il]=e,n}function Ty(t,e){HD()||YD(),t.equal(t.value,e)||(t.value=e,PV(t))}function JD(t,e){HD()||YD(),Ty(t,e(t.value))}var MV=(()=>Ve(G({},Iy),{equal:bV,value:void 0}))();function PV(t){t.version++,DV(),$D(t),AV?.()}function le(t){return typeof t=="function"}function ta(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ch=ta(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ho(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _t=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof ch?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{eT(o)}catch(s){e=e??[],s instanceof ch?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ch(e)}}add(e){var n;if(e&&e!==this)if(this.closed)eT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ho(n,e)}remove(e){let{_finalizers:n}=this;n&&Ho(n,e),e instanceof t&&e._removeParent(this)}};_t.EMPTY=(()=>{let t=new _t;return t.closed=!0,t})();var xy=_t.EMPTY;function lh(t){return t instanceof _t||t&&"closed"in t&&le(t.remove)&&le(t.add)&&le(t.unsubscribe)}function eT(t){le(t)?t():t.unsubscribe()}var vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var na={setTimeout(t,e,...n){let{delegate:r}=na;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=na;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function uh(t){na.setTimeout(()=>{let{onUnhandledError:e}=vr;if(e)e(t);else throw t})}function ol(){}var tT=(()=>Sy("C",void 0,void 0))();function nT(t){return Sy("E",void 0,t)}function rT(t){return Sy("N",t,void 0)}function Sy(t,e,n){return{kind:t,value:e,error:n}}var qo=null;function ra(t){if(vr.useDeprecatedSynchronousErrorHandling){let e=!qo;if(e&&(qo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=qo;if(qo=null,n)throw r}}else t()}function iT(t){vr.useDeprecatedSynchronousErrorHandling&&qo&&(qo.errorThrown=!0,qo.error=t)}var zo=class extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lh(e)&&e.add(this)):this.destination=kV}static create(e,n,r){return new Ei(e,n,r)}next(e){this.isStopped?My(rT(e),this):this._next(e)}error(e){this.isStopped?My(nT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?My(tT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RV=Function.prototype.bind;function Ay(t,e){return RV.call(t,e)}var Py=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){dh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){dh(r)}else dh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){dh(n)}}},Ei=class extends zo{constructor(e,n,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&vr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ay(e.next,o),error:e.error&&Ay(e.error,o),complete:e.complete&&Ay(e.complete,o)}):i=e}this.destination=new Py(i)}};function dh(t){vr.useDeprecatedSynchronousErrorHandling?iT(t):uh(t)}function NV(t){throw t}function My(t,e){let{onStoppedNotification:n}=vr;n&&na.setTimeout(()=>n(t,e))}var kV={closed:!0,next:ol,error:NV,complete:ol};var ia=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function bn(t){return t}function Ry(...t){return Ny(t)}function Ny(t){return t.length===0?bn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var _e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OV(n)?n:new Ei(n,r,i);return ra(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=oT(r),new r((i,o)=>{let s=new Ei({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ia](){return this}pipe(...n){return Ny(n)(this)}toPromise(n){return n=oT(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function oT(t){var e;return(e=t??vr.Promise)!==null&&e!==void 0?e:Promise}function FV(t){return t&&le(t.next)&&le(t.error)&&le(t.complete)}function OV(t){return t&&t instanceof zo||FV(t)&&lh(t)}function ky(t){return le(t?.lift)}function Ee(t){return e=>{if(ky(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(t,e,n,r,i){return new Fy(t,e,n,r,i)}var Fy=class extends zo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oa(){return Ee((t,e)=>{let n=null;t._refCount++;let r=Ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var sa=class extends _e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ky(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _t;let n=this.getSubject();e.add(this.source.subscribe(Ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_t.EMPTY)}return e}refCount(){return oa()(this)}};var sT=ta(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Dt=(()=>{class t extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sT}next(n){ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xy:(this.currentObservers=null,o.push(n),new _t(()=>{this.currentObservers=null,Ho(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return t.create=(e,n)=>new hh(e,n),t})(),hh=class extends Dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xy}};var en=class extends Dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var sl={now(){return(sl.delegate||Date).now()},delegate:void 0};var fh=class extends Dt{constructor(e=1/0,n=1/0,r=sl){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ph=class extends _t{constructor(e,n){super()}schedule(e,n=0){return this}};var al={setInterval(t,e,...n){let{delegate:r}=al;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=al;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var aa=class extends ph{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return al.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&al.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ho(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ca=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ca.now=sl.now;var la=class extends ca{constructor(e,n=ca.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cl=new la(aa);var mh=class extends aa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var gh=class extends la{};var Oy=new gh(mh);var Nn=new _e(t=>t.complete());function aT(t){return t&&le(t.schedule)}function Vy(t){return t[t.length-1]}function yh(t){return le(Vy(t))?t.pop():void 0}function qr(t){return aT(Vy(t))?t.pop():void 0}function cT(t,e){return typeof Vy(t)=="number"?t.pop():e}var vh=t=>t&&typeof t.length=="number"&&typeof t!="function";function wh(t){return le(t?.then)}function _h(t){return le(t[ia])}function Eh(t){return Symbol.asyncIterator&&le(t?.[Symbol.asyncIterator])}function Ch(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bh=VV();function Ih(t){return le(t?.[bh])}function Dh(t){return RD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield eh(n.read());if(i)return yield eh(void 0);yield yield eh(r)}}finally{n.releaseLock()}})}function Th(t){return le(t?.getReader)}function et(t){if(t instanceof _e)return t;if(t!=null){if(_h(t))return LV(t);if(vh(t))return jV(t);if(wh(t))return BV(t);if(Eh(t))return lT(t);if(Ih(t))return UV(t);if(Th(t))return $V(t)}throw Ch(t)}function LV(t){return new _e(e=>{let n=t[ia]();if(le(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jV(t){return new _e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BV(t){return new _e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,uh)})}function UV(t){return new _e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lT(t){return new _e(e=>{HV(t,e).catch(n=>e.error(n))})}function $V(t){return lT(Dh(t))}function HV(t,e){var n,r,i,o;return PD(this,void 0,void 0,function*(){try{for(n=ND(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function kn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function qn(t,e=0){return Ee((n,r)=>{n.subscribe(Ce(r,i=>kn(r,t,()=>r.next(i),e),()=>kn(r,t,()=>r.complete(),e),i=>kn(r,t,()=>r.error(i),e)))})}function rr(t,e=0){return Ee((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uT(t,e){return et(t).pipe(rr(e),qn(e))}function dT(t,e){return et(t).pipe(rr(e),qn(e))}function hT(t,e){return new _e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fT(t,e){return new _e(n=>{let r;return kn(n,e,()=>{r=t[bh](),kn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function xh(t,e){if(!t)throw new Error("Iterable cannot be null");return new _e(n=>{kn(n,e,()=>{let r=t[Symbol.asyncIterator]();kn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pT(t,e){return xh(Dh(t),e)}function mT(t,e){if(t!=null){if(_h(t))return uT(t,e);if(vh(t))return hT(t,e);if(wh(t))return dT(t,e);if(Eh(t))return xh(t,e);if(Ih(t))return fT(t,e);if(Th(t))return pT(t,e)}throw Ch(t)}function Fe(t,e){return e?mT(t,e):et(t)}function re(...t){let e=qr(t);return Fe(t,e)}function ua(t,e){let n=le(t)?t:()=>t,r=i=>i.error(n());return new _e(e?i=>e.schedule(r,0,i):r)}function Ly(t){return!!t&&(t instanceof _e||le(t.lift)&&le(t.subscribe))}var Ci=ta(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function H(t,e){return Ee((n,r)=>{let i=0;n.subscribe(Ce(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:qV}=Array;function zV(t,e){return qV(e)?t(...e):t(e)}function Sh(t){return H(e=>zV(t,e))}var{isArray:GV}=Array,{getPrototypeOf:WV,prototype:KV,keys:QV}=Object;function Ah(t){if(t.length===1){let e=t[0];if(GV(e))return{args:e,keys:null};if(YV(e)){let n=QV(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YV(t){return t&&typeof t=="object"&&WV(t)===KV}function Mh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ph(...t){let e=qr(t),n=yh(t),{args:r,keys:i}=Ah(t);if(r.length===0)return Fe([],e);let o=new _e(ZV(r,e,i?s=>Mh(i,s):bn));return n?o.pipe(Sh(n)):o}function ZV(t,e,n=bn){return r=>{gT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)gT(e,()=>{let l=Fe(t[c],e),d=!1;l.subscribe(Ce(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gT(t,e,n){t?kn(n,t,e):e()}function yT(t,e,n,r,i,o,s,a){let c=[],l=0,d=0,f=!1,v=()=>{f&&!c.length&&!l&&e.complete()},_=T=>l<r?b(T):c.push(T),b=T=>{o&&e.next(T),l++;let M=!1;et(n(T,d++)).subscribe(Ce(e,O=>{i?.(O),o?_(O):e.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let O=c.shift();s?kn(e,s,()=>b(O)):b(O)}v()}catch(O){e.error(O)}}))};return t.subscribe(Ce(e,_,()=>{f=!0,v()})),()=>{a?.()}}function Ot(t,e,n=1/0){return le(e)?Ot((r,i)=>H((o,s)=>e(r,o,i,s))(et(t(r,i))),n):(typeof e=="number"&&(n=e),Ee((r,i)=>yT(r,i,t,n)))}function ll(t=1/0){return Ot(bn,t)}function vT(){return ll(1)}function da(...t){return vT()(Fe(t,qr(t)))}function Rh(t){return new _e(e=>{et(t()).subscribe(e)})}function jy(...t){let e=yh(t),{args:n,keys:r}=Ah(t),i=new _e(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;et(n[d]).subscribe(Ce(o,v=>{f||(f=!0,l--),a[d]=v},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?Mh(r,a):a),o.complete())}))}});return e?i.pipe(Sh(e)):i}function By(...t){let e=qr(t),n=cT(t,1/0),r=t;return r.length?r.length===1?et(r[0]):ll(n)(Fe(r,e)):Nn}function tn(t,e){return Ee((n,r)=>{let i=0;n.subscribe(Ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Gi(t){return Ee((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ce(n,void 0,void 0,s=>{o=et(t(s,Gi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wT(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Ce(s,d=>{let f=l++;c=a?t(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Go(t,e){return le(e)?Ot(t,e,1):Ot(t,1)}function Wi(t){return Ee((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bi(t){return t<=0?()=>Nn:Ee((e,n)=>{let r=0;e.subscribe(Ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Uy(t){return H(()=>t)}function $y(t,e=bn){return t=t??XV,Ee((n,r)=>{let i,o=!0;n.subscribe(Ce(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function XV(t,e){return t===e}function Nh(t=JV){return Ee((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function JV(){return new Ci}function ha(t){return Ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):bn,bi(1),n?Wi(e):Nh(()=>new Ci))}function fa(t){return t<=0?()=>Nn:Ee((e,n)=>{let r=[];e.subscribe(Ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):bn,fa(1),n?Wi(e):Nh(()=>new Ci))}function ul(){return Ee((t,e)=>{let n,r=!1;t.subscribe(Ce(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function Wo(t,e){return Ee(wT(t,e,arguments.length>=2,!0))}function _T(t={}){let{connector:e=()=>new Dt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,d=!1,f=!1,v=()=>{a?.unsubscribe(),a=void 0},_=()=>{v(),s=c=void 0,d=f=!1},b=()=>{let T=s;_(),T?.unsubscribe()};return Ee((T,M)=>{l++,!f&&!d&&v();let O=c=c??e();M.add(()=>{l--,l===0&&!f&&!d&&(a=qy(b,i))}),O.subscribe(M),!s&&l>0&&(s=new Ei({next:K=>O.next(K),error:K=>{f=!0,v(),a=qy(_,n,K),O.error(K)},complete:()=>{d=!0,v(),a=qy(_,r),O.complete()}}),et(T).subscribe(s))})(o)}}function qy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Ei({next:()=>{r.unsubscribe(),t()}});return et(e(...n)).subscribe(r)}function kh(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,_T({connector:()=>new fh(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ko(...t){let e=qr(t);return Ee((n,r)=>{(e?da(t,n,e):da(t,n)).subscribe(r)})}function dt(t,e){return Ee((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ce(r,c=>{i?.unsubscribe();let l=0,d=o++;et(t(c,d)).subscribe(i=Ce(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Fh(t,e){return le(e)?dt(()=>t,e):dt(()=>t)}function zy(t){return Ee((e,n)=>{et(t).subscribe(Ce(n,()=>n.complete(),ol)),!n.closed&&e.subscribe(n)})}function ht(t,e,n){let r=le(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ce(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):bn}function We(t){for(let e in t)if(t[e]===We)return e;throw Error("Could not find renamed property on target object.")}function Oh(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function On(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(On).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ET(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eL=We({__forward_ref__:We});function Vn(t){return t.__forward_ref__=Vn,t.toString=function(){return On(this())},t}function In(t){return ix(t)?t():t}function ix(t){return typeof t=="function"&&t.hasOwnProperty(eL)&&t.__forward_ref__===Vn}function ox(t){return t&&!!t.\u0275providers}var sx="https://g.co/ng/security#xss",ne=class extends Error{constructor(e,n){super(wf(e,n)),this.code=e}};function wf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var tL=We({\u0275cmp:We}),nL=We({\u0275dir:We}),rL=We({\u0275pipe:We}),iL=We({\u0275mod:We}),Qh=We({\u0275fac:We}),dl=We({__NG_ELEMENT_ID__:We}),CT=We({__NG_ENV_ID__:We});function va(t){return typeof t=="string"?t:t==null?"":String(t)}function oL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():va(t)}function sL(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ne(-200,`Circular dependency in DI detected for ${t}${n}`)}function Jv(t,e){throw new ne(-201,!1)}function aL(t,e){t==null&&cL(e,t,null,"!=")}function cL(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function Q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function _f(t){return bT(t,cx)||bT(t,lx)}function ax(t){return _f(t)!==null}function bT(t,e){return t.hasOwnProperty(e)?t[e]:null}function lL(t){let e=t&&(t[cx]||t[lx]);return e||null}function IT(t){return t&&(t.hasOwnProperty(DT)||t.hasOwnProperty(uL))?t[DT]:null}var cx=We({\u0275prov:We}),DT=We({\u0275inj:We}),lx=We({ngInjectableDef:We}),uL=We({ngInjectorDef:We}),Se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Se||{}),dv;function dL(){return dv}function Fn(t){let e=dv;return dv=t,e}function ux(t,e,n){let r=_f(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Se.Optional)return null;if(e!==void 0)return e;Jv(t,"Injector")}var _r=globalThis;var z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var hL={},pl=hL,hv="__NG_DI_FLAG__",Yh="ngTempTokenPath",fL="ngTokenPath",pL=/\n/gm,mL="\u0275",TT="__source",hl;function Ki(t){let e=hl;return hl=t,e}function gL(t,e=Se.Default){if(hl===void 0)throw new ne(-203,!1);return hl===null?ux(t,void 0,e):hl.get(t,e&Se.Optional?null:void 0,e)}function L(t,e=Se.Default){return(dL()||gL)(In(t),e)}function V(t,e=Se.Default){return L(t,Ef(e))}function Ef(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fv(t){let e=[];for(let n=0;n<t.length;n++){let r=In(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let i,o=Se.Default;for(let s=0;s<r.length;s++){let a=r[s],c=vL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function yL(t,e){return t[hv]=e,t.prototype[hv]=e,t}function vL(t){return t[hv]}function wL(t,e,n,r){let i=t[Yh];throw e[TT]&&i.unshift(e[TT]),t.message=_L(`
`+t.message,i,n,r),t[fL]=i,t[Yh]=null,t}function _L(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mL?t.slice(2):t;let i=On(e);if(Array.isArray(e))i=e.map(On).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):On(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pL,`
  `)}`}function Ml(t){return{toString:t}.toString()}var dx=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dx||{}),Wr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wr||{}),wa={},Gn=[];function hx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function pv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];EL(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function fx(t){return t===3||t===4||t===6}function EL(t){return t.charCodeAt(0)===64}function ml(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xT(t,n,i,null,e[++r]):xT(t,n,i,null,null))}}return t}function xT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var px="ng-template";function CL(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&hx(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function mx(t){return t.type===4&&t.value!==px}function bL(t,e,n){let r=t.type===4&&!n?px:t.value;return e===r}function IL(t,e,n){let r=4,i=t.attrs||[],o=xL(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!wr(r)&&!wr(c))return!1;if(s&&wr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!bL(t,c,n)||c===""&&e.length===1){if(wr(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!CL(t.attrs,l,n)){if(wr(r))return!1;s=!0}continue}let d=r&8?"class":c,f=DL(d,i,mx(t),n);if(f===-1){if(wr(r))return!1;s=!0;continue}if(l!==""){let v;f>o?v="":v=i[f+1].toLowerCase();let _=r&8?v:null;if(_&&hx(_,l,0)!==-1||r&2&&l!==v){if(wr(r))return!1;s=!0}}}}return wr(r)||s}function wr(t){return(t&1)===0}function DL(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return SL(e,t)}function TL(t,e,n=!1){for(let r=0;r<e.length;r++)if(IL(t,e[r],n))return!0;return!1}function xL(t){for(let e=0;e<t.length;e++){let n=t[e];if(fx(n))return e}return t.length}function SL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ST(t,e){return t?":not("+e.trim()+")":e}function AL(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wr(s)&&(e+=ST(o,i),i=""),r=s,o=o||!wr(r);n++}return i!==""&&(e+=ST(o,i)),e}function ML(t){return t.map(AL).join(",")}function PL(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!wr(i))break;i=o}r++}return{attrs:e,classes:n}}function se(t){return Ml(()=>{let e=Ex(t),n=Ve(G({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wr.Emulated,styles:t.styles||Gn,_:null,schemas:t.schemas||null,tView:null,id:""});Cx(n);let r=t.dependencies;return n.directiveDefs=MT(r,!1),n.pipeDefs=MT(r,!0),n.id=kL(n),n})}function RL(t){return Zo(t)||yx(t)}function NL(t){return t!==null}function jt(t){return Ml(()=>({type:t.type,bootstrap:t.bootstrap||Gn,declarations:t.declarations||Gn,imports:t.imports||Gn,exports:t.exports||Gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AT(t,e){if(t==null)return wa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function tt(t){return Ml(()=>{let e=Ex(t);return Cx(e),e})}function gx(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zo(t){return t[tL]||null}function yx(t){return t[nL]||null}function vx(t){return t[rL]||null}function wx(t){let e=Zo(t)||yx(t)||vx(t);return e!==null?e.standalone:!1}function _x(t,e){let n=t[iL]||null;if(!n&&e===!0)throw new Error(`Type ${On(t)} does not have '\u0275mod' property.`);return n}function Ex(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||wa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AT(t.inputs,e),outputs:AT(t.outputs),debugInfo:null}}function Cx(t){t.features?.forEach(e=>e(t))}function MT(t,e){if(!t)return null;let n=e?vx:RL;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NL)}function kL(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Wn=0,ye=1,fe=2,nn=3,Er=4,br=5,Kr=6,gl=7,un=8,_a=9,Qr=10,ft=11,yl=12,PT=13,Da=14,Kn=15,Cf=16,pa=17,vl=18,bf=19,bx=20,fl=21,Gy=22,Xo=23,Vt=25,Ix=1,wl=6,Di=7,Zh=8,Xh=9,dn=10,e0=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(e0||{});function Ii(t){return Array.isArray(t)&&typeof t[Ix]=="object"}function Yr(t){return Array.isArray(t)&&t[Ix]===!0}function Dx(t){return(t.flags&4)!==0}function Pl(t){return t.componentOffset>-1}function t0(t){return(t.flags&1)===1}function Qi(t){return!!t.template}function Tx(t){return(t[fe]&512)!==0}function Jo(t,e){let n=t.hasOwnProperty(Qh);return n?t[Qh]:null}var mv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ir(){return xx}function xx(t){return t.type.prototype.ngOnChanges&&(t.setInput=OL),FL}Ir.ngInherit=!0;function FL(){let t=Ax(this),e=t?.current;if(e){let n=t.previous;if(n===wa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OL(t,e,n,r){let i=this.declaredInputs[n],o=Ax(t)||VL(t,{previous:wa,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new mv(c&&c.currentValue,e,a===wa),t[r]=e}var Sx="__ngSimpleChanges__";function Ax(t){return t[Sx]||null}function VL(t,e){return t[Sx]=e}var RT=null;var zr=function(t,e,n){RT?.(t,e,n)},LL="svg",jL="math",BL=!1;function UL(){return BL}function Cr(t){for(;Array.isArray(t);)t=t[Wn];return t}function Mx(t,e){return Cr(e[t])}function Qn(t,e){return Cr(e[t.index])}function n0(t,e){return t.data[e]}function Px(t,e){return t[e]}function Xi(t,e){let n=e[t];return Ii(n)?n:n[Wn]}function r0(t){return(t[fe]&128)===128}function $L(t){return Yr(t[nn])}function Jh(t,e){return e==null?null:t[e]}function Rx(t){t[pa]=0}function HL(t){t[fe]&1024||(t[fe]|=1024,r0(t)&&_l(t))}function qL(t,e){for(;t>0;)e=e[Da],t--;return e}function Nx(t){return t[fe]&9216||t[Xo]?.dirty}function gv(t){Nx(t)?_l(t):t[fe]&64&&(UL()?(t[fe]|=1024,_l(t)):t[Qr].changeDetectionScheduler?.notify())}function _l(t){t[Qr].changeDetectionScheduler?.notify();let e=El(t);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!r0(e)));)e=El(e)}function zL(t,e){if((t[fe]&256)===256)throw new ne(911,!1);t[fl]===null&&(t[fl]=[]),t[fl].push(e)}function El(t){let e=t[nn];return Yr(e)?e[nn]:e}var be={lFrame:Ux(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function GL(){return be.lFrame.elementDepthCount}function WL(){be.lFrame.elementDepthCount++}function KL(){be.lFrame.elementDepthCount--}function kx(){return be.bindingsEnabled}function Rl(){return be.skipHydrationRootTNode!==null}function QL(t){return be.skipHydrationRootTNode===t}function YL(t){be.skipHydrationRootTNode=t}function ZL(){be.skipHydrationRootTNode=null}function Ge(){return be.lFrame.lView}function Yn(){return be.lFrame.tView}function pe(t){return be.lFrame.contextLView=t,t[un]}function me(t){return be.lFrame.contextLView=null,t}function or(){let t=Fx();for(;t!==null&&t.type===64;)t=t.parent;return t}function Fx(){return be.lFrame.currentTNode}function XL(){let t=be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Nl(t,e){let n=be.lFrame;n.currentTNode=t,n.isParent=e}function Ox(){return be.lFrame.isParent}function JL(){be.lFrame.isParent=!1}function ej(){return be.lFrame.contextLView}function tj(){let t=be.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nj(){return be.lFrame.bindingIndex}function rj(t){return be.lFrame.bindingIndex=t}function kl(){return be.lFrame.bindingIndex++}function Vx(t){let e=be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ij(){return be.lFrame.inI18n}function oj(t,e){let n=be.lFrame;n.bindingIndex=n.bindingRootIndex=t,yv(e)}function sj(){return be.lFrame.currentDirectiveIndex}function yv(t){be.lFrame.currentDirectiveIndex=t}function aj(t){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Lx(t){be.lFrame.currentQueryIndex=t}function cj(t){let e=t[ye];return e.type===2?e.declTNode:e.type===1?t[br]:null}function jx(t,e,n){if(n&Se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Se.Host);)if(i=cj(o),i===null||(o=o[Da],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=be.lFrame=Bx();return r.currentTNode=e,r.lView=t,!0}function i0(t){let e=Bx(),n=t[ye];be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Bx(){let t=be.lFrame,e=t===null?null:t.child;return e===null?Ux(t):e}function Ux(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $x(){let t=be.lFrame;return be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Hx=$x;function o0(){let t=$x();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lj(t){return(be.lFrame.contextLView=qL(t,be.lFrame.contextLView))[un]}function Ji(){return be.lFrame.selectedIndex}function es(t){be.lFrame.selectedIndex=t}function s0(){let t=be.lFrame;return n0(t.tView,t.selectedIndex)}function qx(){return be.lFrame.currentNamespace}var zx=!0;function a0(){return zx}function eo(t){zx=t}function uj(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=xx(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function c0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function qh(t,e,n){Gx(t,e,3,n)}function zh(t,e,n,r){(t[fe]&3)===n&&Gx(t,e,n,r)}function Wy(t,e){let n=t[fe];(n&3)===e&&(n&=16383,n+=1,t[fe]=n)}function Gx(t,e,n,r){let i=r!==void 0?t[pa]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[pa]+=65536),(a<o||o==-1)&&(dj(t,n,e,c),t[pa]=(t[pa]&4294901760)+c+2),c++}function NT(t,e){zr(4,t,e);let n=Jt(null);try{e.call(t)}finally{Jt(n),zr(5,t,e)}}function dj(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[fe]>>14<t[pa]>>16&&(t[fe]&3)===e&&(t[fe]+=16384,NT(a,o)):NT(a,o)}var ya=-1,ts=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function hj(t){return t instanceof ts}function fj(t){return(t.flags&8)!==0}function pj(t){return(t.flags&16)!==0}function Wx(t){return t!==ya}function ef(t){return t&32767}function mj(t){return t>>16}function tf(t,e){let n=mj(t),r=e;for(;n>0;)r=r[Da],n--;return r}var vv=!0;function nf(t){let e=vv;return vv=t,e}var gj=256,Kx=gj-1,Qx=5,yj=0,Gr={};function vj(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(dl)&&(r=n[dl]),r==null&&(r=n[dl]=yj++);let i=r&Kx,o=1<<i;e.data[t+(i>>Qx)]|=o}function rf(t,e){let n=Yx(t,e);if(n!==-1)return n;let r=e[ye];r.firstCreatePass&&(t.injectorIndex=e.length,Ky(r.data,t),Ky(e,null),Ky(r.blueprint,null));let i=l0(t,e),o=t.injectorIndex;if(Wx(i)){let s=ef(i),a=tf(i,e),c=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Ky(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yx(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function l0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tS(i),r===null)return ya;if(n++,i=i[Da],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ya}function wv(t,e,n){vj(t,e,n)}function wj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(fx(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Zx(t,e,n){if(n&Se.Optional||t!==void 0)return t;Jv(e,"NodeInjector")}function Xx(t,e,n,r){if(n&Se.Optional&&r===void 0&&(r=null),!(n&(Se.Self|Se.Host))){let i=t[_a],o=Fn(void 0);try{return i?i.get(e,r,n&Se.Optional):ux(e,r,n&Se.Optional)}finally{Fn(o)}}return Zx(r,e,n)}function Jx(t,e,n,r=Se.Default,i){if(t!==null){if(e[fe]&2048&&!(r&Se.Self)){let s=Ij(t,e,n,r,Gr);if(s!==Gr)return s}let o=eS(t,e,n,r,Gr);if(o!==Gr)return o}return Xx(e,n,r,i)}function eS(t,e,n,r,i){let o=Cj(n);if(typeof o=="function"){if(!jx(e,t,r))return r&Se.Host?Zx(i,n,r):Xx(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Se.Optional))Jv(n);else return s}finally{Hx()}}else if(typeof o=="number"){let s=null,a=Yx(t,e),c=ya,l=r&Se.Host?e[Kn][br]:null;for((a===-1||r&Se.SkipSelf)&&(c=a===-1?l0(t,e):e[a+8],c===ya||!FT(r,!1)?a=-1:(s=e[ye],a=ef(c),e=tf(c,e)));a!==-1;){let d=e[ye];if(kT(o,a,d.data)){let f=_j(a,e,n,s,r,l);if(f!==Gr)return f}c=e[a+8],c!==ya&&FT(r,e[ye].data[a+8]===l)&&kT(o,a,e)?(s=d,a=ef(c),e=tf(c,e)):a=-1}}return i}function _j(t,e,n,r,i,o){let s=e[ye],a=s.data[t+8],c=r==null?Pl(a)&&vv:r!=s&&(a.type&3)!==0,l=i&Se.Host&&o===a,d=Ej(a,s,n,c,l);return d!==null?Ea(e,s,d,a):Gr}function Ej(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,d=o>>20,f=r?a:a+d,v=i?a+d:l;for(let _=f;_<v;_++){let b=s[_];if(_<c&&n===b||_>=c&&b.type===n)return _}if(i){let _=s[c];if(_&&Qi(_)&&_.type===n)return c}return null}function Ea(t,e,n,r){let i=t[n],o=e.data;if(hj(i)){let s=i;s.resolving&&sL(oL(o[n]));let a=nf(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Fn(s.injectImpl):null,d=jx(t,r,Se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&uj(n,o[n],e)}finally{l!==null&&Fn(l),nf(a),s.resolving=!1,Hx()}}return i}function Cj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(dl)?t[dl]:void 0;return typeof e=="number"?e>=0?e&Kx:bj:e}function kT(t,e,n){let r=1<<t;return!!(n[e+(t>>Qx)]&r)}function FT(t,e){return!(t&Se.Self)&&!(t&Se.Host&&e)}var Yo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Jx(this._tNode,this._lView,e,Ef(r),n)}};function bj(){return new Yo(or(),Ge())}function Dr(t){return Ml(()=>{let e=t.prototype.constructor,n=e[Qh]||_v(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Qh]||_v(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _v(t){return ix(t)?()=>{let e=_v(In(t));return e&&e()}:Jo(t)}function Ij(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let a=eS(o,s,n,r|Se.Self,Gr);if(a!==Gr)return a;let c=o.parent;if(!c){let l=s[bx];if(l){let d=l.get(n,Gr,r);if(d!==Gr)return d}c=tS(s),s=s[Da]}o=c}return i}function tS(t){let e=t[ye],n=e.type;return n===2?e.declTNode:n===1?t[br]:null}function u0(t){return wj(or(),t)}var Vh="__parameters__";function Dj(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Tj(t,e,n){return Ml(()=>{let r=Dj(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(Vh)?c[Vh]:Object.defineProperty(c,Vh,{value:[]})[Vh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function xj(t){return typeof t=="function"}function d0(t,e){t.forEach(n=>Array.isArray(n)?d0(n,e):e(n))}function nS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function of(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Sj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Aj(t,e,n){let r=Fl(t,e);return r>=0?t[r|1]=n:(r=~r,Sj(t,r,e,n)),r}function Qy(t,e){let n=Fl(t,e);if(n>=0)return t[n|1]}function Fl(t,e){return Mj(t,e,1)}function Mj(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var hn=yL(Tj("Optional"),8);var ns=new z("ENVIRONMENT_INITIALIZER"),rS=new z("INJECTOR",-1),iS=new z("INJECTOR_DEF_TYPES"),sf=class{get(e,n=pl){if(n===pl){let r=new Error(`NullInjectorError: No provider for ${On(e)}!`);throw r.name="NullInjectorError",r}return n}};function os(t){return{\u0275providers:t}}function Ta(...t){return{\u0275providers:oS(!0,t),\u0275fromNgModule:!0}}function oS(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return d0(e,s=>{let a=s;Ev(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sS(i,o),n}function sS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];h0(i,o=>{e(o,r)})}}function Ev(t,e,n,r){if(t=In(t),!t)return!1;let i=null,o=IT(t),s=!o&&Zo(t);if(!o&&!s){let c=t.ngModule;if(o=IT(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ev(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{d0(o.imports,d=>{Ev(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&sS(l,e)}if(!a){let l=Jo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Gn},i),e({provide:iS,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;h0(c,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function h0(t,e){for(let n of t)ox(n)&&(n=n.\u0275providers),Array.isArray(n)?h0(n,e):e(n)}var Pj=We({provide:String,useValue:We});function aS(t){return t!==null&&typeof t=="object"&&Pj in t}function Rj(t){return!!(t&&t.useExisting)}function Nj(t){return!!(t&&t.useFactory)}function Ca(t){return typeof t=="function"}function kj(t){return!!t.useClass}var If=new z("Set Injector scope."),Gh={},Fj={},Yy;function f0(){return Yy===void 0&&(Yy=new sf),Yy}var ir=class{},Cl=class extends ir{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bv(e,s=>this.processProvider(s)),this.records.set(rS,ma(void 0,this)),i.has("environment")&&this.records.set(ir,ma(void 0,this));let o=this.records.get(If);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iS,Gn,Se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ki(this),r=Fn(void 0),i;try{return e()}finally{Ki(n),Fn(r)}}get(e,n=pl,r=Se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CT))return e[CT](this);r=Ef(r);let i,o=Ki(this),s=Fn(void 0);try{if(!(r&Se.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Bj(e)&&_f(e);l&&this.injectableDefInScope(l)?c=ma(Cv(e),Gh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Se.Self?f0():this.parent;return n=r&Se.Optional&&n===pl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yh]=a[Yh]||[]).unshift(On(e)),o)throw a;return wL(a,e,"R3InjectorError",this.source)}else throw a}finally{Fn(s),Ki(o)}}resolveInjectorInitializers(){let e=Ki(this),n=Fn(void 0),r;try{let i=this.get(ns,Gn,Se.Self);for(let o of i)o()}finally{Ki(e),Fn(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(On(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){e=In(e);let n=Ca(e)?e:In(e&&e.provide),r=Vj(e);if(!Ca(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ma(void 0,Gh,!0),i.factory=()=>fv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Gh&&(n.value=Fj,n.value=n.factory()),typeof n.value=="object"&&n.value&&jj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=In(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cv(t){let e=_f(t),n=e!==null?e.factory:Jo(t);if(n!==null)return n;if(t instanceof z)throw new ne(204,!1);if(t instanceof Function)return Oj(t);throw new ne(204,!1)}function Oj(t){if(t.length>0)throw new ne(204,!1);let n=lL(t);return n!==null?()=>n.factory(t):()=>new t}function Vj(t){if(aS(t))return ma(void 0,t.useValue);{let e=cS(t);return ma(e,Gh)}}function cS(t,e,n){let r;if(Ca(t)){let i=In(t);return Jo(i)||Cv(i)}else if(aS(t))r=()=>In(t.useValue);else if(Nj(t))r=()=>t.useFactory(...fv(t.deps||[]));else if(Rj(t))r=()=>L(In(t.useExisting));else{let i=In(t&&(t.useClass||t.provide));if(Lj(t))r=()=>new i(...fv(t.deps));else return Jo(i)||Cv(i)}return r}function ma(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Lj(t){return!!t.deps}function jj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Bj(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function bv(t,e){for(let n of t)Array.isArray(n)?bv(n,e):n&&ox(n)?bv(n.\u0275providers,e):e(n)}function to(t,e){t instanceof Cl&&t.assertNotDestroyed();let n,r=Ki(t),i=Fn(void 0);try{return e()}finally{Ki(r),Fn(i)}}function OT(t,e=null,n=null,r){let i=lS(t,e,n,r);return i.resolveInjectorInitializers(),i}function lS(t,e=null,n=null,r,i=new Set){let o=[n||Gn,Ta(t)];return r=r||(typeof t=="object"?void 0:On(t)),new Cl(o,e||f0(),r||null,i)}var fn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return OT({name:""},i,r,"");{let o=r.name??"";return OT({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=pl,e.NULL=new sf,e.\u0275prov=Q({token:e,providedIn:"any",factory:()=>L(rS)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Iv;function uS(t){Iv=t}function Df(){if(Iv!==void 0)return Iv;if(typeof document<"u")return document;throw new ne(210,!1)}var Tf=new z("AppId",{providedIn:"root",factory:()=>Uj}),Uj="ng",p0=new z("Platform Initializer"),Gt=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var m0=new z("CSP nonce",{providedIn:"root",factory:()=>Df().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),g0={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},dS=new z("ImageConfig",{providedIn:"root",factory:()=>g0});function $j(t){return t.ownerDocument.body}function hS(t){return t instanceof Function?t():t}function Lh(t){return(t??V(fn)).get(Gt)==="browser"}var Hj="ngSkipHydration",qj="ngskiphydration";function fS(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===qj)return!0}return!1}function pS(t){return t.hasAttribute(Hj)}function af(t){return(t.flags&128)===128}function zj(t){if(af(t))return!0;let e=t.parent;for(;e;){if(af(t)||fS(e))return!0;e=e.parent}return!1}var Ti=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ti||{}),Gj=/^>|^->|<!--|-->|--!>|<!-$/g,Wj=/(<|>)/g,Kj="\u200B$1\u200B";function Qj(t){return t.replace(Gj,e=>e.replace(Wj,Kj))}var mS=new Map,Yj=0;function Zj(){return Yj++}function Xj(t){mS.set(t[bf],t)}function Jj(t){mS.delete(t[bf])}var VT="__ngContext__";function rs(t,e){Ii(e)?(t[VT]=e[bf],Xj(e)):t[VT]=e}var eB;function y0(t,e){return eB(t,e)}function ga(t,e,n,r,i){if(r!=null){let o,s=!1;Yr(r)?o=r:Ii(r)&&(s=!0,r=r[Wn]);let a=Cr(r);t===0&&n!==null?i==null?_S(e,n,a):cf(e,n,a,i||null,!0):t===1&&n!==null?cf(e,n,a,i||null,!0):t===2?CS(e,a,s):t===3&&e.destroyNode(a),o!=null&&yB(e,t,o,n,i)}}function gS(t,e){return t.createText(e)}function tB(t,e,n){t.setValue(e,n)}function yS(t,e){return t.createComment(Qj(e))}function v0(t,e,n){return t.createElement(e,n)}function nB(t,e){vS(t,e),e[Wn]=null,e[br]=null}function rB(t,e,n,r,i,o){r[Wn]=i,r[br]=e,Sf(t,r,n,1,i,o)}function vS(t,e){e[Qr].changeDetectionScheduler?.notify(),Sf(t,e,e[ft],2,null,null)}function iB(t){let e=t[yl];if(!e)return Zy(t[ye],t);for(;e;){let n=null;if(Ii(e))n=e[yl];else{let r=e[dn];r&&(n=r)}if(!n){for(;e&&!e[Er]&&e!==t;)Ii(e)&&Zy(e[ye],e),e=e[nn];e===null&&(e=t),Ii(e)&&Zy(e[ye],e),n=e&&e[Er]}e=n}}function oB(t,e,n,r){let i=dn+r,o=n.length;r>0&&(n[i-1][Er]=e),r<o-dn?(e[Er]=n[i],nS(n,dn+r,e)):(n.push(e),e[Er]=null),e[nn]=n;let s=e[Cf];s!==null&&n!==s&&sB(s,e);let a=e[vl];a!==null&&a.insertView(t),gv(e),e[fe]|=128}function sB(t,e){let n=t[Xh],i=e[nn][nn][Kn];e[Kn]!==i&&(t[fe]|=e0.HasTransplantedViews),n===null?t[Xh]=[e]:n.push(e)}function wS(t,e){let n=t[Xh],r=n.indexOf(e);n.splice(r,1)}function bl(t,e){if(t.length<=dn)return;let n=dn+e,r=t[n];if(r){let i=r[Cf];i!==null&&i!==t&&wS(i,r),e>0&&(t[n-1][Er]=r[Er]);let o=of(t,dn+e);nB(r[ye],r);let s=o[vl];s!==null&&s.detachView(o[ye]),r[nn]=null,r[Er]=null,r[fe]&=-129}return r}function xf(t,e){if(!(e[fe]&256)){let n=e[ft];n.destroyNode&&Sf(t,e,n,3,null,null),iB(e)}}function Zy(t,e){if(!(e[fe]&256)){e[fe]&=-129,e[fe]|=256,e[Xo]&&GD(e[Xo]),cB(t,e),aB(t,e),e[ye].type===1&&e[ft].destroy();let n=e[Cf];if(n!==null&&Yr(e[nn])){n!==e[nn]&&wS(n,e);let r=e[vl];r!==null&&r.detachView(t)}Jj(e)}}function aB(t,e){let n=t.cleanup,r=e[gl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[gl]=null);let i=e[fl];if(i!==null){e[fl]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function cB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ts)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];zr(4,a,c);try{c.call(a)}finally{zr(5,a,c)}}else{zr(4,i,o);try{o.call(i)}finally{zr(5,i,o)}}}}}function lB(t,e,n){return uB(t,e.parent,n)}function uB(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Wr.None||o===Wr.Emulated)return null}return Qn(r,n)}}function cf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _S(t,e,n){t.appendChild(e,n)}function LT(t,e,n,r,i){r!==null?cf(t,e,n,r,i):_S(t,e,n)}function dB(t,e,n,r){t.removeChild(e,n,r)}function w0(t,e){return t.parentNode(e)}function hB(t,e){return t.nextSibling(e)}function fB(t,e,n){return mB(t,e,n)}function pB(t,e,n){return t.type&40?Qn(t,n):null}var mB=pB,jT;function _0(t,e,n,r){let i=lB(t,r,e),o=e[ft],s=r.parent||e[br],a=fB(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)LT(o,i,n[c],a,!1);else LT(o,i,n,a,!1);jT!==void 0&&jT(o,r,e,n,i)}function Wh(t,e){if(e!==null){let n=e.type;if(n&3)return Qn(e,t);if(n&4)return Dv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Wh(t,r);{let i=t[e.index];return Yr(i)?Dv(-1,i):Cr(i)}}else{if(n&32)return y0(e,t)()||Cr(t[e.index]);{let r=ES(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=El(t[Kn]);return Wh(i,r)}else return Wh(t,e.next)}}}return null}function ES(t,e){if(e!==null){let r=t[Kn][br],i=e.projection;return r.projection[i]}return null}function Dv(t,e){let n=dn+t+1;if(n<e.length){let r=e[n],i=r[ye].firstChild;if(i!==null)return Wh(r,i)}return e[Di]}function CS(t,e,n){let r=w0(t,e);r&&dB(t,r,e,n)}function bS(t){t.textContent=""}function E0(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&rs(Cr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)E0(t,e,n.child,r,i,o,!1),ga(e,t,i,a,o);else if(c&32){let l=y0(n,r),d;for(;d=l();)ga(e,t,i,d,o);ga(e,t,i,a,o)}else c&16?gB(t,e,r,n,i,o):ga(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Sf(t,e,n,r,i,o){E0(n,r,t.firstChild,e,i,o,!1)}function gB(t,e,n,r,i,o){let s=n[Kn],c=s[br].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];ga(e,t,i,d,o)}else{let l=c,d=s[nn];af(r)&&(l.flags|=128),E0(t,e,l,d,i,o,!0)}}function yB(t,e,n,r,i){let o=n[Di],s=Cr(n);o!==s&&ga(e,t,r,o,i);for(let a=dn;a<n.length;a++){let c=n[a];Sf(c[ye],c,t,e,r,o)}}function vB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ti.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ti.Important),t.setStyle(n,r,i,o))}}function wB(t,e,n){t.setAttribute(e,"style",n)}function IS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function DS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pv(t,e,r),i!==null&&IS(t,e,i),o!==null&&wB(t,e,o)}var jh;function _B(){if(jh===void 0&&(jh=null,_r.trustedTypes))try{jh=_r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jh}function BT(t){return _B()?.createScriptURL(t)||t}var lf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sx})`}};function xa(t){return t instanceof lf?t.changingThisBreaksApplicationSecurity:t}function C0(t,e){let n=EB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${sx})`)}return n===e}function EB(t){return t instanceof lf&&t.getTypeName()||null}var CB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TS(t){return t=String(t),t.match(CB)?t:"unsafe:"+t}var Af=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Af||{});function bB(t){let e=SS();return e?e.sanitize(Af.URL,t)||"":C0(t,"URL")?xa(t):TS(va(t))}function IB(t){let e=SS();if(e)return BT(e.sanitize(Af.RESOURCE_URL,t)||"");if(C0(t,"ResourceURL"))return BT(xa(t));throw new ne(904,!1)}function DB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?IB:bB}function xS(t,e,n){return DB(e,n)(t)}function SS(){let t=Ge();return t&&t[Qr].sanitizer}var Tv=class{};function TB(){let t=new ss;return V(Gt)==="browser"&&(t.store=xB(Df(),V(Tf))),t}var ss=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=Q({token:e,providedIn:"root",factory:TB});let t=e;return t})();function xB(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var AS="h",MS="b",xv=function(t){return t.FirstChild="f",t.NextSibling="n",t}(xv||{}),SB="e",AB="t",b0="c",PS="x",uf="r",MB="i",PB="n",RB="d",NB="__nghData__",RS=NB,Xy="ngh",kB="nghm",NS=()=>null;function FB(t,e,n=!1){let r=t.getAttribute(Xy);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=n?i:o?`|${o}`:"",a={};if(r!==""){let l=e.get(ss,null,{optional:!0});l!==null&&(a=l.get(RS,[])[Number(r)])}let c={data:a,firstChild:t.firstChild??null};return n&&(c.firstChild=t,Mf(c,0,t.nextSibling)),s?t.setAttribute(Xy,s):t.removeAttribute(Xy),c}function OB(){NS=FB}function I0(t,e,n=!1){return NS(t,e,n)}function VB(t){let e=t._lView;return e[ye].type===2?null:(Tx(e)&&(e=e[Vt]),e)}function LB(t){return t.textContent?.replace(/\s/gm,"")}function jB(t){let e=Df(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=LB(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Mf(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Sv(t,e){return t.segmentHeads?.[e]??null}function BB(t,e){let n=t.data,r=n[SB]?.[e]??null;return r===null&&n[b0]?.[e]&&(r=D0(t,e)),r}function kS(t,e){return t.data[b0]?.[e]??null}function D0(t,e){let n=kS(t,e)??[],r=0;for(let i of n)r+=i[uf]*(i[PS]??1);return r}function Pf(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[RB];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Av=class{},df=class{};function UB(t){let e=Error(`No component factory found for ${On(t)}.`);return e[$B]=t,e}var $B="ngComponent";var Mv=class{resolveComponentFactory(e){throw UB(e)}},Rf=(()=>{let e=class e{};e.NULL=new Mv;let t=e;return t})();function HB(){return T0(or(),Ge())}function T0(t,e){return new Tr(Qn(t,e))}var Tr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=HB;let t=e;return t})();var Il=class{},Zr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>qB();let t=e;return t})();function qB(){let t=Ge(),e=or(),n=Xi(e.index,t);return(Ii(n)?n:t)[ft]}var zB=(()=>{let e=class e{};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jy={};function Sa(t,e){let n=XD(t),r=n[il];return e?.equal&&(r.equal=e.equal),n.set=i=>Ty(r,i),n.update=i=>JD(r,i),n.asReadonly=GB.bind(n),n}function GB(){let t=this[il];if(t.readonlyFn===void 0){let e=()=>this();e[il]=t,t.readonlyFn=e}return t.readonlyFn}function hf(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Cr(o)),Yr(o)&&WB(o,r);let s=n.type;if(s&8)hf(t,e,n.child,r);else if(s&32){let a=y0(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ES(e,n);if(Array.isArray(a))r.push(...a);else{let c=El(e[Kn]);hf(c[ye],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function WB(t,e){for(let n=dn;n<t.length;n++){let r=t[n],i=r[ye].firstChild;i!==null&&hf(r[ye],r,i,e)}t[Di]!==t[Wn]&&e.push(t[Di])}var FS=[];function KB(t){return t[Xo]??QB(t)}function QB(t){let e=FS.pop()??Object.create(ZB);return e.lView=t,e}function YB(t){t.lView[Xo]!==t&&(t.lView=null,FS.push(t))}var ZB=Ve(G({},Iy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_l(t.lView)},consumerOnSignalRead(){this.lView[Xo]=this}});function OS(t){return LS(t[yl])}function VS(t){return LS(t[Er])}function LS(t){for(;t!==null&&!Yr(t);)t=t[Er];return t}var XB="ngOriginalError";function ev(t){return t[XB]}var xi=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ev(e);for(;n&&ev(n);)n=ev(n);return n||null}},jS=new z("",{providedIn:"root",factory:()=>V(xi).handleError.bind(void 0)}),Bh=new z(""),BS=!1,US=new z("",{providedIn:"root",factory:()=>BS});var Xr={};function C(t=1){$S(Yn(),Ge(),Ji()+t,!1)}function $S(t,e,n,r){if(!r)if((e[fe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&qh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zh(e,o,0,n)}es(n)}function P(t,e=Se.Default){let n=Ge();if(n===null)return L(t,e);let r=or();return Jx(r,n,In(t),e)}function JB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)es(~i);else{let o=i,s=n[++r],a=n[++r];oj(s,o);let c=e[o];a(2,c)}}}finally{es(-1)}}function Nf(t,e,n,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[Wn]=i,f[fe]=r|4|128|8|64,(l!==null||t&&t[fe]&2048)&&(f[fe]|=2048),Rx(f),f[nn]=f[Da]=t,f[un]=n,f[Qr]=s||t&&t[Qr],f[ft]=a||t&&t[ft],f[_a]=c||t&&t[_a]||null,f[br]=o,f[bf]=Zj(),f[Kr]=d,f[bx]=l,f[Kn]=e.type==2?t[Kn]:f,f}function kf(t,e,n,r,i){let o=t.data[e];if(o===null)o=eU(t,e,n,r,i),ij()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=XL();o.injectorIndex=s===null?-1:s.injectorIndex}return Nl(o,!0),o}function eU(t,e,n,r,i){let o=Fx(),s=Ox(),a=s?o:o&&o.parent,c=t.data[e]=sU(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function HS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qS(t,e,n,r,i){let o=Ji(),s=r&2;try{es(-1),s&&e.length>Vt&&$S(t,e,Vt,!1),zr(s?2:0,i),n(r,i)}finally{es(o),zr(s?3:1,i)}}function zS(t,e,n){if(Dx(e)){let r=Jt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Jt(r)}}}function GS(t,e,n){kx()&&(hU(t,e,n,Qn(n,e)),(n.flags&64)===64&&JS(t,e,n))}function WS(t,e,n=Qn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function KS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=x0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function x0(t,e,n,r,i,o,s,a,c,l,d){let f=Vt+r,v=f+i,_=tU(f,v),b=typeof l=="function"?l():l;return _[ye]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:d}}function tU(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xr);return n}function nU(t,e,n,r){let o=r.get(US,BS)||n===Wr.ShadowDom,s=t.selectRootElement(e,o);return rU(s),s}function rU(t){QS(t)}var QS=()=>null;function iU(t){pS(t)?bS(t):jB(t)}function oU(){QS=iU}function sU(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Rl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let o=t[i];r===null?$T(n,e,i,o):r.hasOwnProperty(i)&&$T(n,e,r[i],o)}return n}function $T(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function aU(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let d=r;d<i;d++){let f=o[d],v=n?n.get(f):null,_=v?v.inputs:null,b=v?v.outputs:null;c=UT(f.inputs,d,c,_),l=UT(f.outputs,d,l,b);let T=c!==null&&s!==null&&!mx(e)?bU(c,d,s):null;a.push(T)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function cU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function YS(t,e,n,r,i,o,s,a){let c=Qn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(S0(t,n,d,r,i),Pl(e)&&lU(n,e.index)):e.type&3?(r=cU(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function lU(t,e){let n=Xi(e,t);n[fe]&16||(n[fe]|=64)}function ZS(t,e,n,r){if(kx()){let i=r===null?null:{"":-1},o=pU(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&XS(t,e,n,s,i,a),i&&mU(n,r,i)}n.mergedAttrs=ml(n.mergedAttrs,n.attrs)}function XS(t,e,n,r,i,o){for(let l=0;l<r.length;l++)wv(rf(n,e),t,r[l].type);yU(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=HS(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=ml(n.mergedAttrs,d.hostAttrs),vU(t,n,e,c,d),gU(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}aU(t,n,o)}function uU(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;dU(s)!=a&&s.push(a),s.push(n,r,o)}}function dU(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hU(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Pl(n)&&wU(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rf(n,e),rs(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Ea(e,t,a,n);if(rs(l,e),s!==null&&CU(e,a-i,l,c,n,s),Qi(c)){let d=Xi(n.index,e);d[un]=Ea(e,t,a,n)}}}function JS(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=sj();try{es(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];yv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fU(c,l)}}finally{es(-1),yv(s)}}function fU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pU(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(TL(e,s.selectors,!1))if(r||(r=[]),Qi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Pv(t,e,c)}else r.unshift(s),Pv(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Pv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mU(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ne(-301,!1);r.push(e[i],o)}}}function gU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qi(e)&&(n[""]=t)}}function yU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vU(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Jo(i.type,!0)),s=new ts(o,Qi(i),P);t.blueprint[r]=s,n[r]=s,uU(t,e,r,HS(t,n,i.hostVars,Xr),i)}function wU(t,e,n){let r=Qn(e,t),i=KS(n),o=t[Qr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ff(t,Nf(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function _U(t,e,n,r,i,o){let s=Qn(t,e);EU(e[ft],s,o,t.value,n,r,i)}function EU(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?va(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function CU(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],d=s[a++];eA(r,n,c,l,d)}}function eA(t,e,n,r,i){let o=Jt(null);try{let s=t.inputTransforms;s!==null&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Jt(o)}}function bU(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}return r}function tA(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function nA(t,e){let n=t.contentQueries;if(n!==null){let r=Jt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Lx(o),a.contentQueries(2,e[s],s)}}}finally{Jt(r)}}}function Ff(t,e){return t[yl]?t[PT][Er]=e:t[yl]=e,t[PT]=e,e}function Rv(t,e,n){Lx(0);let r=Jt(null);try{e(t,n)}finally{Jt(r)}}function IU(t){return t[gl]||(t[gl]=[])}function DU(t){return t.cleanup||(t.cleanup=[])}function rA(t,e){let n=t[_a],r=n?n.get(xi,null):null;r&&r.handleError(e)}function S0(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=e[s],l=t.data[s];eA(l,c,r,a,i)}}function iA(t,e,n){let r=Mx(e,t);tB(t[ft],r,n)}var TU=100;function xU(t,e=!0){let n=t[Qr],r=n.rendererFactory,i=!1;i||r.begin?.();try{SU(t)}catch(o){throw e&&rA(t,o),o}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function SU(t){Nv(t,0);let e=0;for(;Nx(t);){if(e===TU)throw new ne(103,!1);e++,Nv(t,1)}}function AU(t,e,n,r){let i=e[fe];if((i&256)===256)return;let o=!1;!o&&e[Qr].inlineEffectRunner?.flush(),i0(e);let s=null,a=null;!o&&MU(t)&&(a=KB(e),s=qD(a));try{Rx(e),rj(t.bindingStartIndex),n!==null&&qS(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let f=t.preOrderCheckHooks;f!==null&&qh(e,f,null)}else{let f=t.preOrderHooks;f!==null&&zh(e,f,0,null),Wy(e,0)}if(PU(e),oA(e,0),t.contentQueries!==null&&nA(t,e),!o)if(c){let f=t.contentCheckHooks;f!==null&&qh(e,f)}else{let f=t.contentHooks;f!==null&&zh(e,f,1),Wy(e,1)}JB(t,e);let l=t.components;l!==null&&aA(e,l,0);let d=t.viewQuery;if(d!==null&&Rv(2,d,r),!o)if(c){let f=t.viewCheckHooks;f!==null&&qh(e,f)}else{let f=t.viewHooks;f!==null&&zh(e,f,2),Wy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gy]){for(let f of e[Gy])f();e[Gy]=null}o||(e[fe]&=-73)}catch(c){throw _l(e),c}finally{a!==null&&(zD(a,s),YB(a)),o0()}}function MU(t){return t.type!==2}function oA(t,e){for(let n=OS(t);n!==null;n=VS(n))for(let r=dn;r<n.length;r++){let i=n[r];sA(i,e)}}function PU(t){for(let e=OS(t);e!==null;e=VS(e)){if(!(e[fe]&e0.HasTransplantedViews))continue;let n=e[Xh];for(let r=0;r<n.length;r++){let i=n[r],o=i[nn];HL(i)}}}function RU(t,e,n){let r=Xi(e,t);sA(r,n)}function sA(t,e){r0(t)&&Nv(t,e)}function Nv(t,e){let r=t[ye],i=t[fe],o=t[Xo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Dy(o)),o&&(o.dirty=!1),t[fe]&=-9217,s)AU(r,t,r.template,t[un]);else if(i&8192){oA(t,1);let a=r.components;a!==null&&aA(t,a,1)}}function aA(t,e,n){for(let r=0;r<e.length;r++)RU(t,e[r],n)}function A0(t){for(t[Qr].changeDetectionScheduler?.notify();t;){t[fe]|=64;let e=El(t);if(Tx(t)&&!e)return t;t=e}return null}var ba=class{get rootNodes(){let e=this._lView,n=e[ye];return hf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(e){this._lView[un]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nn];if(Yr(e)){let n=e[Zh],r=n?n.indexOf(this):-1;r>-1&&(bl(e,r),of(n,r))}this._attachedToViewContainer=!1}xf(this._lView[ye],this._lView)}onDestroy(e){zL(this._lView,e)}markForCheck(){A0(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-129}reattach(){gv(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,xU(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vS(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e,gv(this._lView)}},Aa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=NU;let t=e;return t})();function NU(t){return kU(or(),Ge(),(t&16)===16)}function kU(t,e,n){if(Pl(t)&&!n){let r=Xi(t.index,e);return new ba(r,r)}else if(t.type&47){let r=e[Kn];return new ba(r,e)}return null}var HT=new Set;function no(t){HT.has(t)||(HT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var kv=class extends Dt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=tv(o),i&&(i=tv(i)),s&&(s=tv(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof _t&&e.add(a),a}};function tv(t){return e=>{setTimeout(t,void 0,e)}}var zt=kv;function qT(...t){}function FU(){let t=typeof _r.requestAnimationFrame=="function",e=_r[t?"requestAnimationFrame":"setTimeout"],n=_r[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ae=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=FU().nativeRequestAnimationFrame,LU(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ne(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,OU,qT,qT);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},OU={};function M0(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function VU(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_r,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fv(t),t.isCheckStableRunning=!0,M0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fv(t))}function LU(t){let e=()=>{VU(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(jU(a))return n.invokeTask(i,o,s,a);try{return zT(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),GT(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return zT(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),GT(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Fv(t),M0(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Fv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function GT(t){t._nesting--,M0(t)}function jU(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var cA=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function BU(t,e){let n=Xi(e,t),r=n[ye];UU(r,n);let i=n[Wn];i!==null&&n[Kr]===null&&(n[Kr]=I0(i,n[_a])),P0(r,n,n[un])}function UU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function P0(t,e,n){i0(e);try{let r=t.viewQuery;r!==null&&Rv(1,r,n);let i=t.template;i!==null&&qS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&nA(t,e),t.staticViewQueries&&Rv(2,t.viewQuery,n);let o=t.components;o!==null&&$U(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[fe]&=-5,o0()}}function $U(t,e){for(let n=0;n<e.length;n++)BU(t,e[n])}function Ov(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ET(i,a);else if(o==2){let c=a,l=e[++s];r=ET(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ff=class extends Rf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Zo(e);return new Dl(n,this.ngModule)}};function WT(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function HU(t){let e=t.toLowerCase();return e==="svg"?LL:e==="math"?jL:null}var Vv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ef(r);let i=this.injector.get(e,Jy,r);return i!==Jy||n===Jy?i:this.parentInjector.get(e,n,r)}},Dl=class extends df{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=WT(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return WT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ML(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof ir?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Vv(e,o):e,a=s.get(Il,null);if(a===null)throw new ne(407,!1);let c=s.get(zB,null),l=s.get(cA,null),d=s.get(Tv,null),f={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},v=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",b=r?nU(v,r,this.componentDef.encapsulation,s):v0(v,_,HU(_)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let M=null;b!==null&&(M=I0(b,s,!0));let O=x0(0,null,null,1,0,null,null,null,null,null,null),K=Nf(null,O,null,T,null,null,f,v,s,null,M);i0(K);let B,te;try{let ie=this.componentDef,ce,ze=null;ie.findHostDirectiveDefs?(ce=[],ze=new Map,ie.findHostDirectiveDefs(ie,ce,ze),ce.push(ie)):ce=[ie];let Pn=qU(K,b),zc=zU(Pn,b,ie,ce,K,f,v);te=n0(O,Vt),b&&KU(v,ie,b,r),n!==void 0&&QU(te,this.ngContentSelectors,n),B=WU(zc,ie,ce,ze,K,[YU]),P0(O,K,null)}finally{o0()}return new Lv(this.componentType,B,T0(te,K),K,te)}},Lv=class extends Av{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ba(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;S0(o[ye],o,i,e,n),this.previousInputValues.set(e,n);let s=Xi(this._tNode.index,o);A0(s)}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qU(t,e){let n=t[ye],r=Vt;return t[r]=e,kf(n,r,2,"#host",null)}function zU(t,e,n,r,i,o,s){let a=i[ye];GU(r,t,e,s);let c=null;e!==null&&(c=I0(e,i[_a]));let l=o.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Nf(i,KS(n),null,d,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Pv(a,t,r.length-1),Ff(i,f),i[t.index]=f}function GU(t,e,n,r){for(let i of t)e.mergedAttrs=ml(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ov(e,e.mergedAttrs,!0),n!==null&&DS(r,n,e))}function WU(t,e,n,r,i,o){let s=or(),a=i[ye],c=Qn(s,i);XS(a,i,s,n,null,r);for(let d=0;d<n.length;d++){let f=s.directiveStart+d,v=Ea(i,a,f,s);rs(v,i)}JS(a,i,s),c&&rs(c,i);let l=Ea(i,a,s.directiveStart+s.componentOffset,s);if(t[un]=i[un]=l,o!==null)for(let d of o)d(l,e);return zS(a,s,t),l}function KU(t,e,n,r){if(r)pv(t,n,["ng-version","17.0.9"]);else{let{attrs:i,classes:o}=PL(e.selectors[0]);i&&pv(t,n,i),o&&o.length>0&&IS(t,n,o.join(" "))}}function QU(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function YU(){let t=or();c0(Ge()[ye],t)}function ZU(t){return Object.getPrototypeOf(t.prototype).constructor}function pn(t){let e=ZU(t.type),n=!0,r=[t];for(;e;){let i;if(Qi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Uh(t.inputs),s.inputTransforms=Uh(t.inputTransforms),s.declaredInputs=Uh(t.declaredInputs),s.outputs=Uh(t.outputs);let a=i.hostBindings;a&&t$(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&JU(t,c),l&&e$(t,l),Oh(t.inputs,i.inputs),Oh(t.declaredInputs,i.declaredInputs),Oh(t.outputs,i.outputs),i.inputTransforms!==null&&(s.inputTransforms===null&&(s.inputTransforms={}),Oh(s.inputTransforms,i.inputTransforms)),Qi(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===pn&&(n=!1)}}e=Object.getPrototypeOf(e)}XU(r)}function XU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ml(i.hostAttrs,n=ml(n,i.hostAttrs))}}function Uh(t){return t===wa?{}:t===Gn?[]:t}function JU(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function e$(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function t$(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Of(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function n$(t,e,n){return t[e]=n}function Yi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function lA(t,e,n,r){let i=Yi(t,e,n);return Yi(t,e+1,r)||i}function Ma(t,e,n,r){let i=Ge(),o=kl();if(Yi(i,o,e)){let s=Yn(),a=s0();_U(a,i,t,e,n,r)}return Ma}function uA(t,e,n,r){return Yi(t,kl(),n)?e+va(n)+r:Xr}function r$(t,e,n,r,i,o){let s=nj(),a=lA(t,s,n,i);return Vx(2),a?e+va(n)+r+va(i)+o:Xr}function $h(t,e){return t<<17|e<<2}function is(t){return t>>17&32767}function i$(t){return(t&2)==2}function o$(t,e){return t&131071|e<<17}function jv(t){return t|2}function Ia(t){return(t&131068)>>2}function nv(t,e){return t&-131069|e<<2}function s$(t){return(t&1)===1}function Bv(t){return t|1}function a$(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=is(s),c=Ia(s);t[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Fl(f,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let v=is(t[a+1]);t[r+1]=$h(v,a),v!==0&&(t[v+1]=nv(t[v+1],r)),t[a+1]=o$(t[a+1],r)}else t[r+1]=$h(a,0),a!==0&&(t[a+1]=nv(t[a+1],r)),a=r;else t[r+1]=$h(c,0),a===0?a=r:t[c+1]=nv(t[c+1],r),c=r;l&&(t[r+1]=jv(t[r+1])),KT(t,d,r,!0),KT(t,d,r,!1),c$(e,d,t,r,o),s=$h(a,c),o?e.classBindings=s:e.styleBindings=s}function c$(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Fl(o,e)>=0&&(n[r+1]=Bv(n[r+1]))}function KT(t,e,n,r){let i=t[n+1],o=e===null,s=r?is(i):Ia(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];l$(c,e)&&(a=!0,t[s+1]=r?Bv(l):jv(l)),s=r?is(l):Ia(l)}a&&(t[n+1]=r?jv(i):Bv(i))}function l$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fl(t,e)>=0:!1}function Ie(t,e,n){let r=Ge(),i=kl();if(Yi(r,i,e)){let o=Yn(),s=s0();YS(o,s,r,t,e,r[ft],n,!1)}return Ie}function QT(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";S0(t,n,o[s],s,r)}function R0(t,e,n){return dA(t,e,n,!1),R0}function Vf(t,e){return dA(t,e,null,!0),Vf}function dA(t,e,n,r){let i=Ge(),o=Yn(),s=Vx(2);if(o.firstUpdatePass&&d$(o,t,s,r),e!==Xr&&Yi(i,s,e)){let a=o.data[Ji()];g$(o,a,i,i[ft],t,i[s+1]=y$(e,n),r,s)}}function u$(t,e){return e>=t.expandoStartIndex}function d$(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ji()],s=u$(t,n);v$(o,r)&&e===null&&!s&&(e=!1),e=h$(i,o,e,r),a$(i,o,e,n,s,r)}}function h$(t,e,n,r){let i=aj(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=rv(null,t,e,n,r),n=Tl(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=rv(i,t,e,n,r),o===null){let c=f$(t,e,r);c!==void 0&&Array.isArray(c)&&(c=rv(null,t,e,c[1],r),c=Tl(c,e.attrs,r),p$(t,e,r,c))}else o=m$(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function f$(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ia(r)!==0)return t[is(r)]}function p$(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[is(i)]=r}function m$(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Tl(r,s,n)}return Tl(r,e.attrs,n)}function rv(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Tl(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Tl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Aj(t,s,n?!0:e[++o]))}return t===void 0?null:t}function g$(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=s$(l)?YT(c,e,n,i,Ia(l),s):void 0;if(!pf(d)){pf(o)||i$(l)&&(o=YT(c,null,n,i,a,s));let f=Mx(Ji(),n);vB(r,s,f,i,o)}}function YT(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,v=n[i+1];v===Xr&&(v=f?Gn:void 0);let _=f?Qy(v,r):d===r?v:void 0;if(l&&!pf(_)&&(_=Qy(c,r)),pf(_)&&(a=_,s))return a;let b=t[i+1];i=s?is(b):Ia(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Qy(c,r))}return a}function pf(t){return t!==void 0}function y$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=On(xa(t)))),t}function v$(t,e){return(t.flags&(e?8:16))!==0}function hA(t){let e=t[wl]??[],r=t[nn][ft];for(let i of e)w$(i,r);t[wl]=Gn}function w$(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[uf];for(;n<i;){let o=r.nextSibling;CS(e,r,!1),r=o,n++}}}function fA(t){hA(t);for(let e=dn;e<t.length;e++)mf(t[e])}function mf(t){let e=t[ye];for(let n=Vt;n<e.bindingStartIndex;n++)if(Yr(t[n])){let r=t[n];fA(r)}else Ii(t[n])&&mf(t[n])}function _$(t){let e=t._views;for(let n of e){let r=VB(n);if(r!==null&&r[Wn]!==null)if(Ii(r))mf(r);else{let i=r[Wn];mf(i),fA(r)}}}var E$=new RegExp(`^(\\d+)*(${MS}|${AS})*(.*)`);function C$(t){let e=t.match(E$),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,d]of o.matchAll(/(f|n)(\d*)/g)){let f=parseInt(d,10)||1;a.push(l,f)}return[s,...a]}function b$(t){return!t.prev&&t.parent?.type===8}function iv(t){return t.index-Vt}function Lf(t,e,n,r){let i=null,o=iv(r),s=t.data[PB];if(s?.[o])i=D$(s[o],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(b$(r)){let l=iv(r.parent);i=Sv(t,l)}else{let l=Qn(c,n);if(a)i=l.firstChild;else{let d=iv(c),f=Sv(t,d);if(c.type===2&&f){let _=D0(t,d)+1;i=jf(_,f)}else i=l.nextSibling}}}return i}function jf(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function I$(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case xv.FirstChild:n=n.firstChild;break;case xv.NextSibling:n=n.nextSibling;break}}return n}function D$(t,e){let[n,...r]=C$(t),i;if(n===AS)i=e[Kn][Wn];else if(n===MS)i=$j(e[Kn][Wn]);else{let o=Number(n);i=Cr(e[o+Vt])}return I$(i,r)}function T$(t,e){let n=[];for(let r of e)for(let i=0;i<(r[PS]??1);i++){let o={data:r,firstChild:null};r[uf]>0&&(o.firstChild=t,t=jf(r[uf],t)),n.push(o)}return[t,n]}var pA=()=>null;function x$(t,e){let n=t[wl];return!e||n===null||n.length===0?null:n[0].data[MB]===e?n.shift():(hA(t),null)}function S$(){pA=x$}function xl(t,e){return pA(t,e)}var Uv=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ov(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function A$(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let c=t.at(o),l=e[o],d=ov(o,c,o,l,n);if(d!==0){d<0&&t.updateValue(o,l),o++;continue}let f=t.at(s),v=e[a],_=ov(s,f,a,v,n);if(_!==0){_<0&&t.updateValue(s,v),s--,a--;continue}let b=n(o,c),T=n(s,f),M=n(o,l);if(Object.is(M,T)){let O=n(a,v);Object.is(O,b)?(t.swap(o,s),t.updateValue(s,v),a--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(r??=new gf,i??=XT(t,o,s,n),$v(t,r,o,M))t.updateValue(o,l),o++,s++;else if(i.has(M))r.set(b,t.detach(o)),s--;else{let O=t.create(o,e[o]);t.attach(o,O),o++,s++}}for(;o<=a;)ZT(t,r,n,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=t.at(o),d=c.value,f=ov(o,l,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,c=a.next();else{r??=new gf,i??=XT(t,o,s,n);let v=n(o,d);if($v(t,r,o,v))t.updateValue(o,d),o++,s++,c=a.next();else if(!i.has(v))t.attach(o,t.create(o,d)),o++,s++,c=a.next();else{let _=n(o,l);r.set(_,t.detach(o)),s--}}}for(;!c.done;)ZT(t,r,n,t.length,c.value),c=a.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function $v(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function ZT(t,e,n,r,i){if($v(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function XT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var gf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function N0(t,e,n,r){let i=e.tView,s=t[fe]&4096?4096:16,a=Nf(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Cf]=c;let l=t[vl];return l!==null&&(a[vl]=l.createEmbeddedView(i)),P0(i,a,n),a}function mA(t,e){let n=dn+e;if(n<t.length)return t[n]}function Sl(t,e){return!e||e.firstChild===null||af(t)}function Bf(t,e,n,r=!0){let i=e[ye];if(oB(i,e,t,n),r){let s=Dv(n,t),a=e[ft],c=w0(a,t[Di]);c!==null&&rB(i,t[br],a,e,c,s)}let o=e[Kr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gA(t,e){let n=bl(t,e);return n!==void 0&&xf(n[ye],n),n}var Uf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=M$;let t=e;return t})();function M$(){let t=or();return R$(t,Ge())}var P$=Uf,yA=class extends P${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return T0(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){let e=l0(this._hostTNode,this._hostLView);if(Wx(e)){let n=tf(e,this._hostLView),r=ef(e),i=n[ye].data[r+8];return new Yo(i,n)}else return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=JT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-dn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=xl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Sl(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!xj(e),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new Dl(Zo(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let T=(s?l:this.parentInjector).get(ir,null);T&&(o=T)}let d=Zo(c.componentType??{}),f=xl(this._lContainer,d?.id??null),v=f?.firstChild??null,_=c.create(l,i,v,o);return this.insertImpl(_.hostView,a,Sl(this._hostTNode,f)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($L(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[nn],l=new yA(c,c[br],c[nn]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Bf(s,i,o,r),e.attachToViewContainerRef(),nS(sv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=JT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bl(this._lContainer,n);r&&(of(sv(this._lContainer),n),xf(r[ye],r))}detach(e){let n=this._adjustIndex(e,-1),r=bl(this._lContainer,n);return r&&of(sv(this._lContainer),n)!=null?new ba(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function JT(t){return t[Zh]}function sv(t){return t[Zh]||(t[Zh]=[])}function R$(t,e){let n,r=e[t.index];return Yr(r)?n=r:(n=tA(r,e,null,t),e[t.index]=n,Ff(e,n)),vA(n,e,t,r),new yA(n,t,e)}function N$(t,e){let n=t[ft],r=n.createComment(""),i=Qn(e,t),o=w0(n,i);return cf(n,o,r,hB(n,i),!1),r}var vA=wA,k0=()=>!1;function k$(t,e,n){return k0(t,e,n)}function wA(t,e,n,r){if(t[Di])return;let i;n.type&8?i=Cr(r):i=N$(e,n),t[Di]=i}function F$(t,e,n){if(t[Di]&&t[wl])return!0;let r=n[Kr],i=e.index-Vt;if(!r||zj(e)||Pf(r,i))return!1;let s=Sv(r,i),a=r.data[b0]?.[i],[c,l]=T$(s,a);return t[Di]=c,t[wl]=l,!0}function O$(t,e,n,r){k0(t,n,e)||wA(t,e,n,r)}function V$(){vA=O$,k0=F$}function L$(t,e,n,r,i,o,s,a,c){let l=e.consts,d=kf(e,t,4,s||null,Jh(l,a));ZS(e,n,d,Jh(l,c)),c0(e,d);let f=d.tView=x0(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function Y(t,e,n,r,i,o,s,a){let c=Ge(),l=Yn(),d=t+Vt,f=l.firstCreatePass?L$(d,l,c,e,n,r,i,o,s):l.data[d];Nl(f,!1);let v=_A(l,c,f,t);a0()&&_0(l,c,v,f),rs(v,c);let _=tA(v,c,v,f);return c[d]=_,Ff(c,_),k$(_,f,c),t0(f)&&GS(l,c,f),s!=null&&WS(c,f,a),Y}var _A=EA;function EA(t,e,n,r){return eo(!0),e[ft].createComment("")}function j$(t,e,n,r){let i=e[Kr],o=!i||Rl()||Pf(i,r);if(eo(o),o)return EA(t,e,n,r);let s=i.data[AB]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Lf(i,t,e,n);Mf(i,r,a);let c=D0(i,r);return jf(c,a)}function B$(){_A=j$}function Z(t,e,n){no("NgControlFlow");let r=Ge(),i=kl(),o=Gv(r,Vt+t),s=0;if(Yi(r,i,e)){let a=Jt(null);try{if(gA(o,s),e!==-1){let c=Wv(r[ye],Vt+e),l=xl(o,c.tView.ssrId),d=N0(r,c,n,{dehydratedView:l});Bf(o,d,s,Sl(c,l))}}finally{Jt(a)}}else{let a=mA(o,s);a!==void 0&&(a[un]=n)}}var Hv=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-dn}};function at(t,e){return e}var qv=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function ct(t,e,n,r,i,o,s,a,c,l,d){no("NgControlFlow");let f=c!==void 0,v=Ge(),_=a?s.bind(v[Kn][un]):s,b=new qv(f,_);v[Vt+t]=b,Y(t+1,e,n,r,i,o),f&&Y(t+2,c,l,d)}var zv=class extends Uv{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-dn}at(e){return this.getLView(e)[un].$implicit}attach(e,n){let r=n[Kr];this.needsIndexUpdate||=e!==this.length,Bf(this.lContainer,n,e,Sl(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,U$(this.lContainer,e)}create(e,n){let r=xl(this.lContainer,this.templateTNode.tView.ssrId);return N0(this.hostLView,this.templateTNode,new Hv(this.lContainer,n,e),{dehydratedView:r})}destroy(e){xf(e[ye],e)}updateValue(e,n){this.getLView(e)[un].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[un].$index=e}getLView(e){return $$(this.lContainer,e)}};function lt(t){let e=Jt(null),n=Ji();try{let r=Ge(),i=r[ye],o=r[n];if(o.liveCollection===void 0){let a=n+1,c=Gv(r,a),l=Wv(i,a);o.liveCollection=new zv(c,r,l)}else o.liveCollection.reset();let s=o.liveCollection;if(A$(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=kl(),c=s.length===0;if(Yi(r,a,c)){let l=n+2,d=Gv(r,l);if(c){let f=Wv(i,l),v=xl(d,f.tView.ssrId),_=N0(r,f,void 0,{dehydratedView:v});Bf(d,_,0,Sl(f,v))}else gA(d,0)}}}finally{Jt(e)}}function Gv(t,e){return t[e]}function U$(t,e){return bl(t,e)}function $$(t,e){return mA(t,e)}function Wv(t,e){return n0(t,e)}function H$(t,e,n,r,i,o){let s=e.consts,a=Jh(s,i),c=kf(e,t,2,r,a);return ZS(e,n,c,Jh(s,o)),c.attrs!==null&&Ov(c,c.attrs,!1),c.mergedAttrs!==null&&Ov(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function y(t,e,n,r){let i=Ge(),o=Yn(),s=Vt+t,a=i[ft],c=o.firstCreatePass?H$(s,o,i,e,n,r):o.data[s],l=CA(o,i,c,a,e,t);i[s]=l;let d=t0(c);return Nl(c,!0),DS(a,l,c),(c.flags&32)!==32&&a0()&&_0(o,i,l,c),GL()===0&&rs(l,i),WL(),d&&(GS(o,i,c),zS(o,c,i)),r!==null&&WS(i,c),y}function p(){let t=or();Ox()?JL():(t=t.parent,Nl(t,!1));let e=t;QL(e)&&ZL(),KL();let n=Yn();return n.firstCreatePass&&(c0(n,t),Dx(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fj(e)&&QT(n,e,Ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pj(e)&&QT(n,e,Ge(),e.stylesWithoutHost,!1),p}function R(t,e,n,r){return y(t,e,n,r),p(),R}var CA=(t,e,n,r,i,o)=>(eo(!0),v0(r,i,qx()));function q$(t,e,n,r,i,o){let s=e[Kr],a=!s||Rl()||Pf(s,o);if(eo(a),a)return v0(r,i,qx());let c=Lf(s,t,e,n);return kS(s,o)&&Mf(s,o,c.nextSibling),s&&(fS(n)||pS(c))&&Pl(n)&&(YL(n),bS(c)),c}function z$(){CA=q$}var G$=(t,e,n,r)=>(eo(!0),yS(e[ft],""));function W$(t,e,n,r){let i,o=e[Kr],s=!o||Rl();if(eo(s),s)return yS(e[ft],"");let a=Lf(o,t,e,n),c=BB(o,r);return Mf(o,r,a),i=jf(c,a),i}function K$(){G$=W$}function Be(){return Ge()}var Qo=void 0;function Q$(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Y$=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Q$],av={};function sr(t){let e=Z$(t),n=ex(e);if(n)return n;let r=e.split("-")[0];if(n=ex(r),n)return n;if(r==="en")return Y$;throw new ne(701,!1)}function ex(t){return t in av||(av[t]=_r.ng&&_r.ng.common&&_r.ng.common.locales&&_r.ng.common.locales[t]),av[t]}var Et=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Et||{});function Z$(t){return t.toLowerCase().replace(/_/g,"-")}var yf="en-US";var X$=yf;function J$(t){aL(t,"Expected localeId to be defined"),typeof t=="string"&&(X$=t.toLowerCase().replace(/_/g,"-"))}function as(t){return!!t&&typeof t.then=="function"}function bA(t){return!!t&&typeof t.subscribe=="function"}function k(t,e,n,r){let i=Ge(),o=Yn(),s=or();return t3(o,i,i[ft],s,t,e,r),k}function e3(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[gl],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function t3(t,e,n,r,i,o,s){let a=t0(r),l=t.firstCreatePass&&DU(t),d=e[un],f=IU(e),v=!0;if(r.type&3||s){let T=Qn(r,e),M=s?s(T):T,O=f.length,K=s?te=>s(Cr(te[r.index])):r.index,B=null;if(!s&&a&&(B=e3(t,e,i,r.index)),B!==null){let te=B.__ngLastListenerFn__||B;te.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,v=!1}else{o=nx(r,e,d,o,!1);let te=n.listen(M,i,o);f.push(o,te),l&&l.push(i,K,O,O+1)}}else o=nx(r,e,d,o,!1);let _=r.outputs,b;if(v&&_!==null&&(b=_[i])){let T=b.length;if(T)for(let M=0;M<T;M+=2){let O=b[M],K=b[M+1],ie=e[O][K].subscribe(o),ce=f.length;f.push(o,ie),l&&l.push(i,r.index,ce,-(ce+1))}}}function tx(t,e,n,r){try{return zr(6,e,n),n(r)!==!1}catch(i){return rA(t,i),!1}finally{zr(7,e,n)}}function nx(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Xi(t.index,e):e;A0(a);let c=tx(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=tx(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function oe(t=1){return lj(t)}function ro(t,e,n){return IA(t,"",e,"",n),ro}function IA(t,e,n,r,i){let o=Ge(),s=uA(o,e,n,r);if(s!==Xr){let a=Yn(),c=s0();YS(a,c,o,t,s,o[ft],i,!1)}return IA}function n3(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ar(t){let e=ej();return Px(e,Vt+t)}function w(t,e=""){let n=Ge(),r=Yn(),i=t+Vt,o=r.firstCreatePass?kf(r,i,1,e,null):r.data[i],s=DA(r,n,o,e,t);n[i]=s,a0()&&_0(r,n,s,o),Nl(o,!1)}var DA=(t,e,n,r,i)=>(eo(!0),gS(e[ft],r));function r3(t,e,n,r,i){let o=e[Kr],s=!o||Rl()||Pf(o,i);return eo(s),s?gS(e[ft],r):Lf(o,t,e,n)}function i3(){DA=r3}function X(t){return Me("",t,""),X}function Me(t,e,n){let r=Ge(),i=uA(r,t,e,n);return i!==Xr&&iA(r,Ji(),i),Me}function Ol(t,e,n,r,i){let o=Ge(),s=r$(o,t,e,n,r,i);return s!==Xr&&iA(o,Ji(),s),Ol}function o3(t,e,n){let r=Yn();if(r.firstCreatePass){let i=Qi(t);Kv(n,r.data,r.blueprint,i,!0),Kv(e,r.data,r.blueprint,i,!1)}}function Kv(t,e,n,r,i){if(t=In(t),Array.isArray(t))for(let o=0;o<t.length;o++)Kv(t[o],e,n,r,i);else{let o=Yn(),s=Ge(),a=or(),c=Ca(t)?t:In(t.provide),l=cS(t),d=a.providerIndexes&1048575,f=a.directiveStart,v=a.providerIndexes>>20;if(Ca(t)||!t.multi){let _=new ts(l,i,P),b=lv(c,e,i?d:d+v,f);b===-1?(wv(rf(a,s),o,c),cv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)):(n[b]=_,s[b]=_)}else{let _=lv(c,e,d+v,f),b=lv(c,e,d,d+v),T=_>=0&&n[_],M=b>=0&&n[b];if(i&&!M||!i&&!T){wv(rf(a,s),o,c);let O=c3(i?a3:s3,n.length,i,r,l);!i&&M&&(n[b].providerFactory=O),cv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=TA(n[i?b:_],l,!i&&r);cv(o,t,_>-1?_:b,O)}!i&&r&&M&&n[b].componentProviders++}}}function cv(t,e,n,r){let i=Ca(e),o=kj(e);if(i||o){let c=(o?In(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function TA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function s3(t,e,n,r){return Qv(this.multi,[])}function a3(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ea(n,n[ye],this.providerFactory.index,r);o=a.slice(0,s),Qv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Qv(i,o);return o}function Qv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function c3(t,e,n,r,i){let o=new ts(t,n,P);return o.multi=[],o.index=e,o.componentProviders=0,TA(o,i,r&&!n),o}function cr(t,e=[]){return n=>{n.providersResolver=(r,i)=>o3(r,i?i(t):t,e)}}var Zi=class{},Al=class{};var Yv=class extends Zi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ff(this);let i=_x(e);this._bootstrapComponents=hS(i.bootstrap),this._r3Injector=lS(e,n,[{provide:Zi,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver},...r],On(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zv=class extends Al{constructor(e){super(),this.moduleType=e}create(e){return new Yv(this.moduleType,e,[])}};var vf=class extends Zi{constructor(e){super(),this.componentFactoryResolver=new ff(this),this.instance=null;let n=new Cl([...e.providers,{provide:Zi,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],e.parent||f0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function F0(t,e,n=null){return new vf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var l3=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=oS(!1,r.type),o=i.length>0?F0([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Q({token:e,providedIn:"environment",factory:()=>new e(L(ir))});let t=e;return t})();function ae(t){no("NgStandalone"),t.getStandaloneInjector=e=>e.get(l3).getOrCreateStandaloneInjector(t)}function u3(t,e){let n=t[e];return n===Xr?void 0:n}function d3(t,e,n,r,i,o,s){let a=e+n;return lA(t,a,i,o)?n$(t,a+2,s?r.call(s,i,o):r(i,o)):u3(t,a+2)}function xr(t,e){let n=Yn(),r,i=t+Vt;n.firstCreatePass?(r=h3(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Jo(r.type,!0)),s,a=Fn(P);try{let c=nf(!1),l=o();return nf(c),n3(n,Ge(),i,l),l}finally{Fn(a)}}function h3(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Sr(t,e,n,r){let i=t+Vt,o=Ge(),s=Px(o,i);return f3(o,i)?d3(o,tj(),e,s.transform,n,r,s):s.transform(n,r)}function f3(t,e){return t[ye].data[e].pure}var Si=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$f=new Si("17.0.9");var Hf=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Xv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},O0=(()=>{let e=class e{compileModuleSync(r){return new Zv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=_x(r),s=hS(o.declarations).reduce((a,c)=>{let l=Zo(c);return l&&a.push(new Dl(l)),a},[]);return new Xv(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new en(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xA=new z("");var SA=new z("Application Initializer"),AA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=V(SA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(as(s))r.push(s);else if(bA(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pa=new z("appBootstrapListener");function p3(){ZD(()=>{throw new ne(600,!1)})}function m3(t){return t.isBoundToModule}function g3(t,e,n){try{let r=n();return as(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var io=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(jS),this.afterRenderEffectManager=V(cA),this.componentTypes=[],this.components=[],this.isStable=V(Vl).hasPendingTasks.pipe(H(r=>!r)),this._injector=V(ir)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof df;if(!this._injector.get(AA).done){let _=!o&&wx(r),b=!1;throw new ne(405,b)}let a;o?a=r:a=this._injector.get(Rf).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=m3(a)?void 0:this._injector.get(Zi),l=i||a.selector,d=a.create(fn.NULL,[],l,c),f=d.location.nativeElement,v=d.injector.get(xA,null);return v?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),uv(this.components,d),v?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;uv(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Pa,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uv(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ne(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Hh;function V0(t){Hh??=new WeakMap;let e=Hh.get(t);if(e)return e;let n=t.isStable.pipe(zn(r=>r)).toPromise().then(()=>{});return Hh.set(t,n),t.onDestroy(()=>Hh?.delete(t)),n}var y3=(()=>{let e=class e{constructor(){this.zone=V(Ae),this.applicationRef=V(io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v3(t){return[{provide:Ae,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{let e=V(y3,{optional:!0});return()=>e.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let e=V(C3);return()=>{e.initialize()}}},{provide:jS,useFactory:w3}]}function w3(){let t=V(Ae),e=V(xi);return n=>t.runOutsideAngular(()=>e.handleError(n))}function _3(t){let e=v3(()=>new Ae(E3(t)));return os([[],e])}function E3(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var C3=(()=>{let e=class e{constructor(){this.subscription=new _t,this.initialized=!1,this.zone=V(Ae),this.pendingTasks=V(Vl)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b3(){return typeof $localize<"u"&&$localize.locale||yf}var qf=new z("LocaleId",{providedIn:"root",factory:()=>V(qf,Se.Optional|Se.SkipSelf)||b3()});var MA=new z("PlatformDestroyListeners");var Kh=null;function I3(t=[],e){return fn.create({name:e,providers:[{provide:If,useValue:"platform"},{provide:MA,useValue:new Set([()=>Kh=null])},...t]})}function D3(t=[]){if(Kh)return Kh;let e=I3(t);return Kh=e,p3(),T3(e),e}function T3(t){t.get(p0,null)?.forEach(n=>n())}function L0(){return!1}function PA(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=D3(r),o=[_3(),...n||[]],a=new vf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ae);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(xi,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:_=>{l.handleError(_)}})});let f=()=>a.destroy(),v=i.get(MA);return v.add(f),a.onDestroy(()=>{d.unsubscribe(),v.delete(f)}),g3(l,c,()=>{let _=a.get(AA);return _.runInitializers(),_.donePromise.then(()=>{let b=a.get(qf,yf);J$(b||yf);let T=a.get(io);return e!==void 0&&T.bootstrap(e),T})})})}catch(e){return Promise.reject(e)}}var rx=!1;function x3(){rx||(rx=!0,OB(),z$(),i3(),K$(),B$(),V$(),S$(),oU())}function S3(t,e){return V0(t)}function RA(){return os([{provide:Bh,useFactory:()=>{let t=!0;return Lh()&&(t=!!V(ss,{optional:!0})?.get(RS,null)),t&&no("NgHydration"),t}},{provide:ns,useValue:()=>{Lh()&&V(Bh)&&(A3(),x3())},multi:!0},{provide:US,useFactory:()=>Lh()&&V(Bh)},{provide:Pa,useFactory:()=>{if(Lh()&&V(Bh)){let t=V(io),e=V(fn);return()=>{S3(t,e).then(()=>{Ae.assertInAngularZone(),_$(t)})}}return()=>{}},multi:!0}])}function A3(){let t=Df(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===kB){e=n;break}if(!e)throw new ne(-507,!1)}function Ar(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function j0(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var H0=null;function Ri(){return H0}function OA(t){H0||(H0=t)}var Xf=class{},Ln=new z("DocumentToken"),VA=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>V(M3))(),providedIn:"platform"});let t=e;return t})();var M3=(()=>{let e=class e extends VA{constructor(){super(),this._doc=V(Ln),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ri().getBaseHref(this._doc)}onPopState(r){let i=Ri().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ri().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function LA(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function NA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function cs(t){return t&&t[0]!=="?"?"?"+t:t}var Ra=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>V(jA))(),providedIn:"root"});let t=e;return t})(),P3=new z("appBaseHref"),jA=(()=>{let e=class e extends Ra{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(Ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return LA(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+cs(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+cs(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+cs(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(VA),L(P3,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jl=(()=>{let e=class e{constructor(r){this._subject=new zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=k3(NA(kA(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+cs(i))}normalize(r){return e.stripTrailingSlash(N3(this._basePath,kA(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+cs(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+cs(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=cs,e.joinWithSlash=LA,e.stripTrailingSlash=NA,e.\u0275fac=function(i){return new(i||e)(L(Ra))},e.\u0275prov=Q({token:e,factory:()=>R3(),providedIn:"root"});let t=e;return t})();function R3(){return new jl(L(Ra))}function N3(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kA(t){return t.replace(/\/index.html$/,"")}function k3(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Dn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Dn||{}),Ke=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ke||{}),Zn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Zn||{}),Mi=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Mi||{});function F3(t){return sr(t)[Et.LocaleId]}function O3(t,e,n){let r=sr(t),i=[r[Et.DayPeriodsFormat],r[Et.DayPeriodsStandalone]],o=lr(i,e);return lr(o,n)}function V3(t,e,n){let r=sr(t),i=[r[Et.DaysFormat],r[Et.DaysStandalone]],o=lr(i,e);return lr(o,n)}function L3(t,e,n){let r=sr(t),i=[r[Et.MonthsFormat],r[Et.MonthsStandalone]],o=lr(i,e);return lr(o,n)}function j3(t,e){let r=sr(t)[Et.Eras];return lr(r,e)}function zf(t,e){let n=sr(t);return lr(n[Et.DateFormat],e)}function Gf(t,e){let n=sr(t);return lr(n[Et.TimeFormat],e)}function Wf(t,e){let r=sr(t)[Et.DateTimeFormat];return lr(r,e)}function tp(t,e){let n=sr(t),r=n[Et.NumberSymbols][e];if(typeof r>"u"){if(e===Mi.CurrencyDecimal)return n[Et.NumberSymbols][Mi.Decimal];if(e===Mi.CurrencyGroup)return n[Et.NumberSymbols][Mi.Group]}return r}function BA(t){if(!t[Et.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Et.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function B3(t){let e=sr(t);return BA(e),(e[Et.ExtraData][2]||[]).map(r=>typeof r=="string"?B0(r):[B0(r[0]),B0(r[1])])}function U3(t,e,n){let r=sr(t);BA(r);let i=[r[Et.ExtraData][0],r[Et.ExtraData][1]],o=lr(i,e)||[];return lr(o,n)||[]}function lr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function B0(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var $3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ll={},H3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Pi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Pi||{}),je=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(je||{}),Le=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Le||{});function q3(t,e,n,r){let i=J3(t);e=Ai(n,e)||e;let s=[],a;for(;e;)if(a=H3.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=$A(r,c),i=X3(i,r,!0));let l="";return s.forEach(d=>{let f=Y3(d);l+=f?f(i,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Jf(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ai(t,e){let n=F3(t);if(Ll[n]=Ll[n]||{},Ll[n][e])return Ll[n][e];let r="";switch(e){case"shortDate":r=zf(t,Zn.Short);break;case"mediumDate":r=zf(t,Zn.Medium);break;case"longDate":r=zf(t,Zn.Long);break;case"fullDate":r=zf(t,Zn.Full);break;case"shortTime":r=Gf(t,Zn.Short);break;case"mediumTime":r=Gf(t,Zn.Medium);break;case"longTime":r=Gf(t,Zn.Long);break;case"fullTime":r=Gf(t,Zn.Full);break;case"short":let i=Ai(t,"shortTime"),o=Ai(t,"shortDate");r=Kf(Wf(t,Zn.Short),[i,o]);break;case"medium":let s=Ai(t,"mediumTime"),a=Ai(t,"mediumDate");r=Kf(Wf(t,Zn.Medium),[s,a]);break;case"long":let c=Ai(t,"longTime"),l=Ai(t,"longDate");r=Kf(Wf(t,Zn.Long),[c,l]);break;case"full":let d=Ai(t,"fullTime"),f=Ai(t,"fullDate");r=Kf(Wf(t,Zn.Full),[d,f]);break}return r&&(Ll[n][e]=r),r}function Kf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Mr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function z3(t,e){return Mr(t,3).substring(0,e)}function Tt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=G3(t,o);if((n>0||a>-n)&&(a+=n),t===je.Hours)a===0&&n===-12&&(a=12);else if(t===je.FractionalSeconds)return z3(a,e);let c=tp(s,Mi.MinusSign);return Mr(a,e,c,r,i)}}function G3(t,e){switch(t){case je.FullYear:return e.getFullYear();case je.Month:return e.getMonth();case je.Date:return e.getDate();case je.Hours:return e.getHours();case je.Minutes:return e.getMinutes();case je.Seconds:return e.getSeconds();case je.FractionalSeconds:return e.getMilliseconds();case je.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ze(t,e,n=Dn.Format,r=!1){return function(i,o){return W3(i,o,t,e,n,r)}}function W3(t,e,n,r,i,o){switch(n){case Le.Months:return L3(e,i,r)[t.getMonth()];case Le.Days:return V3(e,i,r)[t.getDay()];case Le.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=B3(e),d=U3(e,i,r),f=l.findIndex(v=>{if(Array.isArray(v)){let[_,b]=v,T=s>=_.hours&&a>=_.minutes,M=s<b.hours||s===b.hours&&a<b.minutes;if(_.hours<b.hours){if(T&&M)return!0}else if(T||M)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return O3(e,i,r)[s<12?0:1];case Le.Eras:return j3(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Qf(t){return function(e,n,r){let i=-1*r,o=tp(n,Mi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Pi.Short:return(i>=0?"+":"")+Mr(s,2,o)+Mr(Math.abs(i%60),2,o);case Pi.ShortGMT:return"GMT"+(i>=0?"+":"")+Mr(s,1,o);case Pi.Long:return"GMT"+(i>=0?"+":"")+Mr(s,2,o)+":"+Mr(Math.abs(i%60),2,o);case Pi.Extended:return r===0?"Z":(i>=0?"+":"")+Mr(s,2,o)+":"+Mr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var K3=0,Zf=4;function Q3(t){let e=Jf(t,K3,1).getDay();return Jf(t,0,1+(e<=Zf?Zf:Zf+7)-e)}function UA(t){return Jf(t.getFullYear(),t.getMonth(),t.getDate()+(Zf-t.getDay()))}function U0(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=UA(n),s=Q3(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mr(i,t,tp(r,Mi.MinusSign))}}function Yf(t,e=!1){return function(n,r){let o=UA(n).getFullYear();return Mr(o,t,tp(r,Mi.MinusSign),e)}}var $0={};function Y3(t){if($0[t])return $0[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ze(Le.Eras,Ke.Abbreviated);break;case"GGGG":e=Ze(Le.Eras,Ke.Wide);break;case"GGGGG":e=Ze(Le.Eras,Ke.Narrow);break;case"y":e=Tt(je.FullYear,1,0,!1,!0);break;case"yy":e=Tt(je.FullYear,2,0,!0,!0);break;case"yyy":e=Tt(je.FullYear,3,0,!1,!0);break;case"yyyy":e=Tt(je.FullYear,4,0,!1,!0);break;case"Y":e=Yf(1);break;case"YY":e=Yf(2,!0);break;case"YYY":e=Yf(3);break;case"YYYY":e=Yf(4);break;case"M":case"L":e=Tt(je.Month,1,1);break;case"MM":case"LL":e=Tt(je.Month,2,1);break;case"MMM":e=Ze(Le.Months,Ke.Abbreviated);break;case"MMMM":e=Ze(Le.Months,Ke.Wide);break;case"MMMMM":e=Ze(Le.Months,Ke.Narrow);break;case"LLL":e=Ze(Le.Months,Ke.Abbreviated,Dn.Standalone);break;case"LLLL":e=Ze(Le.Months,Ke.Wide,Dn.Standalone);break;case"LLLLL":e=Ze(Le.Months,Ke.Narrow,Dn.Standalone);break;case"w":e=U0(1);break;case"ww":e=U0(2);break;case"W":e=U0(1,!0);break;case"d":e=Tt(je.Date,1);break;case"dd":e=Tt(je.Date,2);break;case"c":case"cc":e=Tt(je.Day,1);break;case"ccc":e=Ze(Le.Days,Ke.Abbreviated,Dn.Standalone);break;case"cccc":e=Ze(Le.Days,Ke.Wide,Dn.Standalone);break;case"ccccc":e=Ze(Le.Days,Ke.Narrow,Dn.Standalone);break;case"cccccc":e=Ze(Le.Days,Ke.Short,Dn.Standalone);break;case"E":case"EE":case"EEE":e=Ze(Le.Days,Ke.Abbreviated);break;case"EEEE":e=Ze(Le.Days,Ke.Wide);break;case"EEEEE":e=Ze(Le.Days,Ke.Narrow);break;case"EEEEEE":e=Ze(Le.Days,Ke.Short);break;case"a":case"aa":case"aaa":e=Ze(Le.DayPeriods,Ke.Abbreviated);break;case"aaaa":e=Ze(Le.DayPeriods,Ke.Wide);break;case"aaaaa":e=Ze(Le.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":e=Ze(Le.DayPeriods,Ke.Abbreviated,Dn.Standalone,!0);break;case"bbbb":e=Ze(Le.DayPeriods,Ke.Wide,Dn.Standalone,!0);break;case"bbbbb":e=Ze(Le.DayPeriods,Ke.Narrow,Dn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ze(Le.DayPeriods,Ke.Abbreviated,Dn.Format,!0);break;case"BBBB":e=Ze(Le.DayPeriods,Ke.Wide,Dn.Format,!0);break;case"BBBBB":e=Ze(Le.DayPeriods,Ke.Narrow,Dn.Format,!0);break;case"h":e=Tt(je.Hours,1,-12);break;case"hh":e=Tt(je.Hours,2,-12);break;case"H":e=Tt(je.Hours,1);break;case"HH":e=Tt(je.Hours,2);break;case"m":e=Tt(je.Minutes,1);break;case"mm":e=Tt(je.Minutes,2);break;case"s":e=Tt(je.Seconds,1);break;case"ss":e=Tt(je.Seconds,2);break;case"S":e=Tt(je.FractionalSeconds,1);break;case"SS":e=Tt(je.FractionalSeconds,2);break;case"SSS":e=Tt(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Qf(Pi.Short);break;case"ZZZZZ":e=Qf(Pi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qf(Pi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qf(Pi.Long);break;default:return null}return $0[t]=e,e}function $A(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Z3(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function X3(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=$A(e,i);return Z3(t,r*(o-i))}function J3(t){if(FA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Jf(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match($3))return e4(r)}let e=new Date(t);if(!FA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function e4(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function FA(t){return t instanceof Date&&!isNaN(t.valueOf())}function HA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function t4(t,e){return new ne(2100,!1)}var n4="mediumDate",r4=new z("DATE_PIPE_DEFAULT_TIMEZONE"),i4=new z("DATE_PIPE_DEFAULT_OPTIONS"),Na=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??n4,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return q3(r,a,s||this.locale,c)}catch(a){throw t4(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(P(qf,16),P(r4,24),P(i4,24))},e.\u0275pipe=gx({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var q0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jt({type:e}),e.\u0275inj=Lt({});let t=e;return t})(),qA="browser",o4="server";function oo(t){return t===o4}var ep=class{};var zA=t=>t.src,s4=new z("ImageLoader",{providedIn:"root",factory:()=>zA});var a4=new z("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set}),c4=(()=>{let e=class e{constructor(){this.preloadedImages=V(a4),this.document=V(Ln)}createPreloadLinkTag(r,i,o,s){if(this.preloadedImages.has(i))return;this.preloadedImages.add(i);let a=r.createElement("link");r.setAttribute(a,"as","image"),r.setAttribute(a,"href",i),r.setAttribute(a,"rel","preload"),r.setAttribute(a,"fetchpriority","high"),s&&r.setAttribute(a,"imageSizes",s),o&&r.setAttribute(a,"imageSrcset",o),r.appendChild(this.document.head,a)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var l4=/^((\s*\d+w\s*(,|$)){1,})$/;var u4=[1,2],d4=640;var h4=1920,f4=1080;var GA=(()=>{let e=class e{constructor(){this.imageLoader=V(s4),this.config=p4(V(dS)),this.renderer=V(Zr),this.imgElement=V(Tr).nativeElement,this.injector=V(fn),this.isServer=oo(V(Gt)),this.preloadLinkCreator=V(c4),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){no("NgOptimizedImage"),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");let r=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),r,this.sizes)}ngOnChanges(r){if(r.ngSrc&&!r.ngSrc.isFirstChange()){let i=this._renderedSrc;this.updateSrcAndSrcset(!0);let o=this._renderedSrc;this.lcpObserver!==null&&i&&o&&i!==o&&this.injector.get(Ae).runOutsideAngular(()=>{this.lcpObserver?.updateImage(i,o)})}}callImageLoader(r){let i=r;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){let r={src:this.ngSrc};this._renderedSrc=this.callImageLoader(r)}return this._renderedSrc}getRewrittenSrcset(){let r=l4.test(this.ngSrcset);return this.ngSrcset.split(",").filter(o=>o!=="").map(o=>{o=o.trim();let s=r?parseFloat(o):parseFloat(o)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:s})} ${o}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:r}=this.config,i=r;return this.sizes?.trim()==="100vw"&&(i=r.filter(s=>s>=d4)),i.map(s=>`${this.callImageLoader({src:this.ngSrc,width:s})} ${s}w`).join(", ")}updateSrcAndSrcset(r=!1){r&&(this._renderedSrc=null);let i=this.getRewrittenSrc();this.setHostAttribute("src",i);let o;return this.ngSrcset?o=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(o=this.getAutomaticSrcset()),o&&this.setHostAttribute("srcset",o),o}getFixedSrcset(){return u4.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let r=!1;return this.sizes||(r=this.width>h4||this.height>f4),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==zA&&!r}ngOnDestroy(){}setHostAttribute(r,i){this.renderer.setAttribute(this.imgElement,r,i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(i,o){i&2&&R0("position",o.fill?"absolute":null)("width",o.fill?"100%":null)("height",o.fill?"100%":null)("inset",o.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",m4],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",j0],height:["height","height",j0],loading:"loading",priority:["priority","priority",Ar],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",Ar],fill:["fill","fill",Ar],src:"src",srcset:"srcset"},standalone:!0,features:[Of,Ir]});let t=e;return t})();function p4(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},g0,t,e)}function m4(t){return typeof t=="string"?t:xa(t)}var rp=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var JA=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(JA||{}),z0=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new rp,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var ip=class t extends z0{constructor(e={}){super(e),this.type=JA.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var v4=new z("");var WA="b",KA="h",QA="s",YA="st",ZA="u",XA="rt",np=new z(""),w4=["GET","HEAD"];function _4(t,e){let d=V(np),{isCacheActive:n}=d,r=MD(d,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!w4.includes(o)||i===!1||r.filter?.(t)===!1)return e(t);let s=V(ss),a=C4(t),c=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[WA]:f,[XA]:v,[KA]:_,[QA]:b,[YA]:T,[ZA]:M}=c,O=f;switch(v){case"arraybuffer":O=new TextEncoder().encode(f).buffer;break;case"blob":O=new Blob([f]);break}let K=new rp(_);return re(new ip({body:O,headers:K,status:b,statusText:T,url:M}))}return e(t).pipe(ht(f=>{f instanceof ip&&s.set(a,{[WA]:f.body,[KA]:E4(f.headers,l),[QA]:f.status,[YA]:f.statusText,[ZA]:f.url||"",[XA]:t.responseType})}))}function E4(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function C4(t){let{params:e,method:n,responseType:r,url:i}=t,o=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),s=n+"."+r+"."+i+"?"+o,a=b4(s);return a}function b4(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function e1(t){return[{provide:np,useFactory:()=>(no("NgHttpTransferCache"),G({isCacheActive:!0},t))},{provide:v4,useValue:_4,multi:!0,deps:[ss,np]},{provide:Pa,multi:!0,useFactory:()=>{let e=V(io),n=V(np);return()=>{V0(e).then(()=>{n.isCacheActive=!1})}}}]}var K0=class extends Xf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Q0=class t extends K0{static makeCurrent(){OA(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=I4();return n==null?null:D4(n)}resetBaseElement(){Bl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return HA(document.cookie,e)}},Bl=null;function I4(){return Bl=Bl||document.querySelector("base"),Bl?Bl.getAttribute("href"):null}function D4(t){return new URL(t,document.baseURI).pathname}var T4=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Y0=new z("EventManagerPlugins"),i1=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ne(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(Y0),L(Ae))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),op=class{constructor(e){this._doc=e}},G0="ng-app-id",o1=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${G0}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(G0),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(G0,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(Ln),L(Tf),L(m0,8),L(Gt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),W0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},X0=/%COMP%/g,s1="%COMP%",x4=`_nghost-${s1}`,S4=`_ngcontent-${s1}`,A4=!0,M4=new z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>A4});function P4(t){return S4.replace(X0,t)}function R4(t){return x4.replace(X0,t)}function a1(t,e){return e.map(n=>n.replace(X0,t))}var t1=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=oo(c),this.defaultRenderer=new Ul(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wr.ShadowDom&&(i=Ve(G({},i),{encapsulation:Wr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof sp?o.applyToHost(r):o instanceof $l&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(i.encapsulation){case Wr.Emulated:s=new sp(l,d,i,this.appId,f,a,c,v);break;case Wr.ShadowDom:return new Z0(l,d,r,i,a,c,this.nonce,v);default:s=new $l(l,d,i,f,a,c,v);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(i1),L(o1),L(Tf),L(M4),L(Ln),L(Gt),L(Ae),L(m0))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Ul=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(W0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(n1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(n1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=W0[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=W0[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ti.DashCase|Ti.Important)?e.style.setProperty(n,r,i&Ti.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ti.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ri().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function n1(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Z0=class extends Ul{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=a1(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$l=class extends Ul{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?a1(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sp=class extends $l{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=P4(l),this.hostAttr=R4(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},N4=(()=>{let e=class e extends op{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(Ln))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),r1=["alt","control","meta","shift"],k4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},O4=(()=>{let e=class e extends op{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ri().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),r1.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=k4[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),r1.forEach(a=>{if(a!==o){let c=F4[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(Ln))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})();function c1(t,e){return PA(G({rootComponent:t},V4(e)))}function V4(t){return{appProviders:[...$4,...t?.providers??[]],platformProviders:U4}}function L4(){Q0.makeCurrent()}function j4(){return new xi}function B4(){return uS(document),document}var U4=[{provide:Gt,useValue:qA},{provide:p0,useValue:L4,multi:!0},{provide:Ln,useFactory:B4,deps:[]}];var $4=[{provide:If,useValue:"root"},{provide:xi,useFactory:j4,deps:[]},{provide:Y0,useClass:N4,multi:!0,deps:[Ln,Ae,Gt]},{provide:Y0,useClass:O4,multi:!0,deps:[Ln]},t1,o1,i1,{provide:Il,useExisting:t1},{provide:ep,useClass:T4,deps:[]},[]];function H4(){return new J0(L(Ln))}var J0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(Ln))},e.\u0275prov=Q({token:e,factory:function(i){let o=null;return i?o=new i:o=H4(),o},providedIn:"root"});let t=e;return t})();function l1(...t){let e=[],n=new Set,r=n.has(1);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return os([[],RA(),n.has(0)||r?[]:e1({}),e])}var we="primary",ru=Symbol("RouteTitle"),iw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function La(t){return new iw(t)}function z4(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function G4(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jr(t[n],e[n]))return!1;return!0}function Jr(t,e){let n=t?ow(t):void 0,r=e?ow(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!m1(t[i],e[i]))return!1;return!0}function ow(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function m1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function lo(t){return Ly(t)?t:as(t)?Fe(Promise.resolve(t)):re(t)}var W4={exact:y1,subset:v1},g1={exact:K4,subset:Q4,ignored:()=>!0};function u1(t,e,n){return W4[n.paths](t.root,e.root,n.matrixParams)&&g1[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function K4(t,e){return Jr(t,e)}function y1(t,e,n){if(!us(t.segments,e.segments)||!lp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!y1(t.children[r],e.children[r],n))return!1;return!0}function Q4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>m1(t[n],e[n]))}function v1(t,e,n){return w1(t,e,e.segments,n)}function w1(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!us(i,n)||e.hasChildren()||!lp(i,n,r))}else if(t.segments.length===n.length){if(!us(t.segments,n)||!lp(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!v1(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!us(t.segments,i)||!lp(t.segments,i,r)||!t.children[we]?!1:w1(t.children[we],e,o,r)}}function lp(t,e,n){return e.every((r,i)=>g1[n](t[i].parameters,r.parameters))}var so=class{constructor(e=new Ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return X4.serialize(this)}},Ue=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return up(this)}},ls=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=La(this.parameters)),this._parameterMap}toString(){return E1(this)}};function Y4(t,e){return us(t,e)&&t.every((n,r)=>Jr(n.parameters,e[r].parameters))}function us(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Z4(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===we&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==we&&(n=n.concat(e(i,r)))}),n}var Mw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>new hp)(),providedIn:"root"});let t=e;return t})(),hp=class{parse(e){let n=new aw(e);return new so(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Hl(e.root,!0)}`,r=t5(e.queryParams),i=typeof e.fragment=="string"?`#${J4(e.fragment)}`:"";return`${n}${r}${i}`}},X4=new hp;function up(t){return t.segments.map(e=>E1(e)).join("/")}function Hl(t,e){if(!t.hasChildren())return up(t);if(e){let n=t.children[we]?Hl(t.children[we],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${Hl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Z4(t,(r,i)=>i===we?[Hl(t.children[we],!1)]:[`${i}:${Hl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[we]!=null?`${up(t)}/${n[0]}`:`${up(t)}/(${n.join("//")})`}}function _1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ap(t){return _1(t).replace(/%3B/gi,";")}function J4(t){return encodeURI(t)}function sw(t){return _1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(t){return decodeURIComponent(t)}function d1(t){return dp(t.replace(/\+/g,"%20"))}function E1(t){return`${sw(t.path)}${e5(t.parameters)}`}function e5(t){return Object.entries(t).map(([e,n])=>`;${sw(e)}=${sw(n)}`).join("")}function t5(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ap(n)}=${ap(i)}`).join("&"):`${ap(n)}=${ap(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var n5=/^[^\/()?;#]+/;function ew(t){let e=t.match(n5);return e?e[0]:""}var r5=/^[^\/()?;=#]+/;function i5(t){let e=t.match(r5);return e?e[0]:""}var o5=/^[^=?&#]+/;function s5(t){let e=t.match(o5);return e?e[0]:""}var a5=/^[^&#]+/;function c5(t){let e=t.match(a5);return e?e[0]:""}var aw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[we]=new Ue(e,n)),r}parseSegment(){let e=ew(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new ls(dp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=i5(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ew(this.remaining);i&&(r=i,this.capture(r))}e[dp(n)]=dp(r)}parseQueryParam(e){let n=s5(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=c5(this.remaining);s&&(r=s,this.capture(r))}let i=d1(n),o=d1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ew(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ne(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[we]:new Ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function C1(t){return t.segments.length>0?new Ue([],{[we]:t}):t}function b1(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=b1(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ue(t.segments,e);return l5(n)}function l5(t){if(t.numberOfChildren===1&&t.children[we]){let e=t.children[we];return new Ue(t.segments.concat(e.segments),e.children)}return t}function ja(t){return t instanceof so}function u5(t,e,n=null,r=null){let i=I1(t);return D1(i,e,n,r)}function I1(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ue(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=C1(r);return e??i}function D1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return tw(i,i,i,n,r);let o=d5(e);if(o.toRoot())return tw(i,i,new Ue([],{}),n,r);let s=h5(o,i,t),a=s.processChildren?Gl(s.segmentGroup,s.index,o.commands):x1(s.segmentGroup,s.index,o.commands);return tw(i,s.segmentGroup,a,n,r)}function fp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ql(t){return typeof t=="object"&&t!=null&&t.outlets}function tw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;t===e?s=n:s=T1(t,e,n);let a=C1(b1(s));return new so(a,o,i)}function T1(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=T1(o,e,n)}),new Ue(t.segments,r)}var pp=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fp(r[0]))throw new ne(4003,!1);let i=r.find(Ql);if(i&&i!==r.at(-1))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function d5(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pp(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new pp(n,e,r)}var Oa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function h5(t,e,n){if(t.isAbsolute)return new Oa(e,!0,0);if(!n)return new Oa(e,!1,NaN);if(n.parent===null)return new Oa(n,!0,0);let r=fp(t.commands[0])?0:1,i=n.segments.length-1+r;return f5(n,i,t.numberOfDoubleDots)}function f5(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new Oa(r,!1,i-o)}function p5(t){return Ql(t[0])?t[0].outlets:{[we]:t}}function x1(t,e,n){if(t||(t=new Ue([],{})),t.segments.length===0&&t.hasChildren())return Gl(t,e,n);let r=m5(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ue(t.segments.slice(0,r.pathIndex),{});return o.children[we]=new Ue(t.segments.slice(r.pathIndex),t.children),Gl(o,0,i)}else return r.match&&i.length===0?new Ue(t.segments,{}):r.match&&!t.hasChildren()?cw(t,e,n):r.match?Gl(t,0,i):cw(t,e,n)}function Gl(t,e,n){if(n.length===0)return new Ue(t.segments,{});{let r=p5(n),i={};if(Object.keys(r).some(o=>o!==we)&&t.children[we]&&t.numberOfChildren===1&&t.children[we].segments.length===0){let o=Gl(t.children[we],e,n);return new Ue(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=x1(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(t.segments,i)}}function m5(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ql(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!f1(c,l,s))return o;r+=2}else{if(!f1(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ql(o)){let c=g5(o.outlets);return new Ue(r,c)}if(i===0&&fp(n[0])){let c=t.segments[e];r.push(new ls(c.path,h1(n[0]))),i++;continue}let s=Ql(o)?o.outlets[we]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fp(a)?(r.push(new ls(s,h1(a))),i+=2):(r.push(new ls(s,{})),i++)}return new Ue(r,{})}function g5(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=cw(new Ue([],{}),0,r))}),e}function h1(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function f1(t,e,n){return t==n.path&&Jr(e,n.parameters)}var Wl="imperative",ur=class{constructor(e,n){this.id=e,this.url=n}},Yl=class extends ur{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ao=class extends ur{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},co=class extends ur{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ds=class extends ur{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Zl=class extends ur{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mp=class extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lw=class extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uw=class extends ur{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dw=class extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hw=class extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fw=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pw=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mw=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gw=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yw=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vw=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xl=class{},Jl=class{constructor(e){this.url=e}};var ww=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ep,this.attachRef=null}},Ep=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ww,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=_w(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=_w(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ew(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ew(e,this._root).map(n=>n.value)}};function _w(t,e){if(t===e.value)return e;for(let n of e.children){let r=_w(t,n);if(r)return r}return null}function Ew(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ew(t,n);if(r.length)return r.unshift(e),r}return[]}var Xn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yp=class extends gp{constructor(e,n){super(e),this.snapshot=n,Rw(this,e)}toString(){return this.snapshot.toString()}};function S1(t){let e=y5(t),n=new en([new ls("",{})]),r=new en({}),i=new en({}),o=new en({}),s=new en(""),a=new rn(n,r,o,s,i,we,t,e.root);return a.snapshot=e.root,new yp(new Xn(a,[]),e)}function y5(t){let e={},n={},r={},i="",o=new eu([],e,r,i,n,we,t,null,{});return new vp("",new Xn(o,[]))}var rn=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(l=>l[ru]))??re(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(e=>La(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(e=>La(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pw(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),t.params),data:G(G({},e.data),t.data),resolve:G(G(G(G({},t.data),e.data),i?.data),t._resolvedData)}:r={params:G({},t.params),data:G({},t.data),resolve:G(G({},t.data),t._resolvedData??{})},i&&M1(i)&&(r.resolve[ru]=i.title),r}var eu=class{get title(){return this.data?.[ru]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=La(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vp=class extends gp{constructor(e,n){super(n),this.url=e,Rw(this,n)}toString(){return A1(this._root)}};function Rw(t,e){e.value._routerState=t,e.children.forEach(n=>Rw(t,n))}function A1(t){let e=t.children.length>0?` { ${t.children.map(A1).join(", ")} } `:"";return`${t.value}${e}`}function nw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jr(e.params,n.params)||t.paramsSubject.next(n.params),G4(e.url,n.url)||t.urlSubject.next(n.url),Jr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Cw(t,e){let n=Jr(t.params,e.params)&&Y4(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Cw(t.parent,e.parent))}function M1(t){return typeof t.title=="string"||t.title===null}var Nw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.parentContexts=V(Ep),this.location=V(Uf),this.changeDetector=V(Aa),this.environmentInjector=V(ir),this.inputBinder=V(kw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new bw(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ir]});let t=e;return t})(),bw=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===rn?this.route:e===Ep?this.childContexts:this.parent.get(e,n)}},kw=new z("");function v5(t,e,n){let r=tu(t,e._root,n?n._root:void 0);return new yp(r,e)}function tu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=w5(t,e,n);return new Xn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tu(t,a)),s}}let r=_5(e.value),i=e.children.map(o=>tu(t,o));return new Xn(r,i)}}function w5(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return tu(t,r,i);return tu(t,r)})}function _5(t){return new rn(new en(t.url),new en(t.params),new en(t.queryParams),new en(t.fragment),new en(t.data),t.outlet,t.component,t)}var P1="ngNavigationCancelingError";function R1(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ja(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=N1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function N1(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[P1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function E5(t){return k1(t)&&ja(t.url)}function k1(t){return t&&t[P1]}var C5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["ng-component"]],standalone:!0,features:[ae],decls:1,vars:0,template:function(i,o){i&1&&R(0,"router-outlet")},dependencies:[Nw],encapsulation:2});let t=e;return t})();function b5(t,e){return t.providers&&!t._injector&&(t._injector=F0(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Fw(t){let e=t.children&&t.children.map(Fw),n=e?Ve(G({},t),{children:e}):G({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==we&&(n.component=C5),n}function ei(t){return t.outlet||we}function I5(t,e){let n=t.filter(r=>ei(r)===e);return n.push(...t.filter(r=>ei(r)!==e)),n}function iu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var D5=(t,e,n,r)=>H(i=>(new Iw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Iw=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Fa(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Fa(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(nw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=iu(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},wp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Va=class{constructor(e,n){this.component=e,this.route=n}};function T5(t,e,n){let r=t._root,i=e?e._root:null;return ql(r,i,n,[r.value])}function x5(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ua(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ax(t)?t:e.get(t):r}function ql(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fa(e);return t.children.forEach(s=>{S5(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kl(a,n.getContext(s),i)),i}function S5(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=A5(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ql(t,e,a?a.children:null,r,i):ql(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Va(a.outlet.component,s))}else s&&Kl(e,a,i),i.canActivateChecks.push(new wp(r)),o.component?ql(t,null,a?a.children:null,r,i):ql(t,null,n,r,i);return i}function A5(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!us(t.url,e.url);case"pathParamsOrQueryParamsChange":return!us(t.url,e.url)||!Jr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cw(t,e)||!Jr(t.queryParams,e.queryParams);case"paramsChange":default:return!Cw(t,e)}}function Kl(t,e,n){let r=Fa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Kl(s,e.children.getContext(o),n):Kl(s,null,n):Kl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Va(e.outlet.component,i)):n.canDeactivateChecks.push(new Va(null,i)):n.canDeactivateChecks.push(new Va(null,i))}function ou(t){return typeof t=="function"}function M5(t){return typeof t=="boolean"}function P5(t){return t&&ou(t.canLoad)}function R5(t){return t&&ou(t.canActivate)}function N5(t){return t&&ou(t.canActivateChild)}function k5(t){return t&&ou(t.canDeactivate)}function F5(t){return t&&ou(t.canMatch)}function F1(t){return t instanceof Ci||t?.name==="EmptyError"}var cp=Symbol("INITIAL_VALUE");function Ba(){return dt(t=>Ph(t.map(e=>e.pipe(bi(1),Ko(cp)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===cp)return cp;if(n===!1||n instanceof so)return n}return!0}),tn(e=>e!==cp),bi(1)))}function O5(t,e){return Ot(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?re(Ve(G({},n),{guardsResult:!0})):V5(s,r,i,t).pipe(Ot(a=>a&&M5(a)?L5(r,o,t,e):re(a)),H(a=>Ve(G({},n),{guardsResult:a})))})}function V5(t,e,n,r){return Fe(t).pipe(Ot(i=>H5(i.component,i.route,n,e,r)),zn(i=>i!==!0,!0))}function L5(t,e,n,r){return Fe(e).pipe(Go(i=>da(B5(i.route.parent,r),j5(i.route,r),$5(t,i.path,n),U5(t,i.route,n))),zn(i=>i!==!0,!0))}function j5(t,e){return t!==null&&e&&e(new yw(t)),re(!0)}function B5(t,e){return t!==null&&e&&e(new mw(t)),re(!0)}function U5(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>Rh(()=>{let s=iu(e)??n,a=Ua(o,s),c=R5(a)?a.canActivate(e,t):to(s,()=>a(e,t));return lo(c).pipe(zn())}));return re(i).pipe(Ba())}function $5(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>x5(s)).filter(s=>s!==null).map(s=>Rh(()=>{let a=s.guards.map(c=>{let l=iu(s.node)??n,d=Ua(c,l),f=N5(d)?d.canActivateChild(r,t):to(l,()=>d(r,t));return lo(f).pipe(zn())});return re(a).pipe(Ba())}));return re(o).pipe(Ba())}function H5(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let c=iu(e)??i,l=Ua(a,c),d=k5(l)?l.canDeactivate(t,e,n,r):to(c,()=>l(t,e,n,r));return lo(d).pipe(zn())});return re(s).pipe(Ba())}function q5(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=Ua(s,t),c=P5(a)?a.canLoad(e,n):to(t,()=>a(e,n));return lo(c)});return re(o).pipe(Ba(),O1(r))}function O1(t){return Ry(ht(e=>{if(ja(e))throw R1(t,e)}),H(e=>e===!0))}function z5(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=Ua(s,t),c=F5(a)?a.canMatch(e,n):to(t,()=>a(e,n));return lo(c)});return re(o).pipe(Ba(),O1(r))}var nu=class{constructor(e){this.segmentGroup=e||null}},_p=class extends Error{constructor(e){super(),this.urlTree=e}};function ka(t){return ua(new nu(t))}function G5(t){return ua(new ne(4e3,!1))}function W5(t){return ua(N1(!1,3))}var Dw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[we])return G5(e.redirectTo);i=i.children[we]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new _p(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new so(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ue(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Tw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K5(t,e,n,r,i){let o=Ow(t,e,n);return o.matched?(r=b5(e,r),z5(r,e,n,i).pipe(H(s=>s===!0?o:G({},Tw)))):re(o)}function Ow(t,e,n){if(e.path==="**")return Q5(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?G({},Tw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||z4)(n,t,e);if(!i)return G({},Tw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?G(G({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Q5(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function p1(t,e,n,r){return n.length>0&&X5(t,n,r)?{segmentGroup:new Ue(e,Z5(r,new Ue(n,t.children))),slicedSegments:[]}:n.length===0&&J5(t,n,r)?{segmentGroup:new Ue(t.segments,Y5(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ue(t.segments,t.children),slicedSegments:n}}function Y5(t,e,n,r){let i={};for(let o of n)if(Cp(t,e,o)&&!r[ei(o)]){let s=new Ue([],{});i[ei(o)]=s}return G(G({},r),i)}function Z5(t,e){let n={};n[we]=e;for(let r of t)if(r.path===""&&ei(r)!==we){let i=new Ue([],{});n[ei(r)]=i}return n}function X5(t,e,n){return n.some(r=>Cp(t,e,r)&&ei(r)!==we)}function J5(t,e,n){return n.some(r=>Cp(t,e,r))}function Cp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function eH(t,e,n,r){return ei(t)!==r&&(r===we||!Cp(e,n,t))?!1:Ow(e,t,n).matched}function tH(t,e,n){return e.length===0&&!t.children[n]}var xw=class{};function nH(t,e,n,r,i,o,s="emptyOnly"){return new Sw(t,e,n,r,i,s,o).recognize()}var rH=31,Sw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Dw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=p1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(n=>{let r=new eu([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),i=new Xn(r,n),o=new vp("",i),s=u5(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,we).pipe(Gi(r=>{if(r instanceof _p)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nu?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Pw(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(H(o=>o instanceof Xn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Fe(i).pipe(Go(o=>{let s=r.children[o],a=I5(n,o);return this.processSegmentGroup(e,a,s,o)}),Wo((o,s)=>(o.push(...s),o)),Wi(null),Hy(),Ot(o=>{if(o===null)return ka(r);let s=V1(o);return iH(s),re(s)}))}processSegment(e,n,r,i,o,s){return Fe(n).pipe(Go(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Gi(c=>{if(c instanceof nu)return re(null);throw c}))),zn(a=>!!a),Gi(a=>{if(F1(a))return tH(r,i,o)?re(new xw):ka(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return eH(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ka(i):ka(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=Ow(n,i,o);if(!a)return ka(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rH&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(Ot(v=>this.processSegment(e,r,n,v.concat(d),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=K5(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:d,remainingSegments:f,parameters:v}=a,_=new eu(d,v,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,sH(r),ei(r),r.component??r._loadedComponent??null,r,aH(r)),{segmentGroup:b,slicedSegments:T}=p1(n,d,f,c);if(T.length===0&&b.hasChildren())return this.processChildren(l,c,b).pipe(H(O=>O===null?null:new Xn(_,O)));if(c.length===0&&T.length===0)return re(new Xn(_,[]));let M=ei(r)===o;return this.processSegment(l,c,b,T,M?we:o,!0).pipe(H(O=>new Xn(_,O instanceof Xn?[O]:[])))}))):ka(n)))}getChildConfig(e,n,r){return n.children?re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?re({routes:n._loadedRoutes,injector:n._loadedInjector}):q5(e,n,r,this.urlSerializer).pipe(Ot(i=>i?this.configLoader.loadChildren(e,n).pipe(ht(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):W5(n))):re({routes:[],injector:e})}};function iH(t){t.sort((e,n)=>e.value.outlet===we?-1:n.value.outlet===we?1:e.value.outlet.localeCompare(n.value.outlet))}function oH(t){let e=t.value.routeConfig;return e&&e.path===""}function V1(t){let e=[],n=new Set;for(let r of t){if(!oH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=V1(r.children);e.push(new Xn(r.value,i))}return e.filter(r=>!n.has(r))}function sH(t){return t.data||{}}function aH(t){return t.resolve||{}}function cH(t,e,n,r,i,o){return Ot(s=>nH(t,e,n,r,s.extractedUrl,i,o).pipe(H(({state:a,tree:c})=>Ve(G({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function lH(t,e){return Ot(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return re(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of L1(c))s.add(l);let a=0;return Fe(s).pipe(Go(c=>o.has(c)?uH(c,r,t,e):(c.data=Pw(c,c.parent,t).resolve,re(void 0))),ht(()=>a++),fa(1),Ot(c=>a===s.size?re(n):Nn))})}function L1(t){let e=t.children.map(n=>L1(n)).flat();return[t,...e]}function uH(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!M1(i)&&(o[ru]=i.title),dH(o,t,e,r).pipe(H(s=>(t._resolvedData=s,t.data=Pw(t,t.parent,n).resolve,null)))}function dH(t,e,n,r){let i=ow(t);if(i.length===0)return re({});let o={};return Fe(i).pipe(Ot(s=>hH(t[s],e,n,r).pipe(zn(),ht(a=>{o[s]=a}))),fa(1),Uy(o),Gi(s=>F1(s)?Nn:ua(s)))}function hH(t,e,n,r){let i=iu(e)??r,o=Ua(t,i),s=o.resolve?o.resolve(e,n):to(i,()=>o(e,n));return lo(s)}function rw(t){return dt(e=>{let n=t(e);return n?Fe(n).pipe(H(()=>e)):re(e)})}var j1=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===we);return i}getResolvedTitleForRoute(r){return r.data[ru]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>V(fH))(),providedIn:"root"});let t=e;return t})(),fH=(()=>{let e=class e extends j1{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(J0))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vw=new z("",{providedIn:"root",factory:()=>({})}),Lw=new z("ROUTES"),pH=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(O0)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return re(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lo(r.loadComponent()).pipe(H(B1),ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ha(()=>{this.componentLoaders.delete(r)})),o=new sa(i,()=>new Dt).pipe(oa());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=mH(i,this.compiler,r,this.onLoadEndListener).pipe(ha(()=>{this.childrenLoaders.delete(i)})),a=new sa(s,()=>new Dt).pipe(oa());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mH(t,e,n,r){return lo(t.loadChildren()).pipe(H(B1),Ot(i=>i instanceof Al||Array.isArray(i)?re(i):Fe(e.compileModuleAsync(i))),H(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Lw,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fw),injector:o}}))}function gH(t){return t&&typeof t=="object"&&"default"in t}function B1(t){return gH(t)?t.default:t}var jw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>V(yH))(),providedIn:"root"});let t=e;return t})(),yH=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vH=new z("");var wH=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt,this.transitionAbortSubject=new Dt,this.configLoader=V(pH),this.environmentInjector=V(ir),this.urlSerializer=V(Mw),this.rootContexts=V(Ep),this.location=V(jl),this.inputBindingEnabled=V(kw,{optional:!0})!==null,this.titleStrategy=V(j1),this.options=V(Vw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(jw),this.createViewTransition=V(vH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let r=o=>this.events.next(new fw(o)),i=o=>this.events.next(new pw(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ve(G(G({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new en({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tn(s=>s.id!==0),H(s=>Ve(G({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),dt(s=>{this.currentTransition=s;let a=!1,c=!1;return re(s).pipe(ht(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ve(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dt(l=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let v="";return this.events.next(new ds(l.id,this.urlSerializer.serialize(l.rawUrl),v,0)),l.resolve(null),Nn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(dt(v=>{let _=this.transitions?.getValue();return this.events.next(new Yl(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),_!==this.transitions?.getValue()?Nn:Promise.resolve(v)}),cH(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ht(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=Ve(G({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let _=new mp(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:v,extractedUrl:_,source:b,restoredState:T,extras:M}=l,O=new Yl(v,this.urlSerializer.serialize(_),b,T);this.events.next(O);let K=S1(this.rootComponentType).snapshot;return this.currentTransition=s=Ve(G({},l),{targetSnapshot:K,urlAfterRedirects:_,extras:Ve(G({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,re(s)}else{let v="";return this.events.next(new ds(l.id,this.urlSerializer.serialize(l.extractedUrl),v,1)),l.resolve(null),Nn}}),ht(l=>{let d=new lw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),H(l=>(this.currentTransition=s=Ve(G({},l),{guards:T5(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),O5(this.environmentInjector,l=>this.events.next(l)),ht(l=>{if(s.guardsResult=l.guardsResult,ja(l.guardsResult))throw R1(this.urlSerializer,l.guardsResult);let d=new uw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),tn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",3),!1)),rw(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(ht(d=>{let f=new dw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),dt(d=>{let f=!1;return re(d).pipe(lH(this.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",2)}}))}),ht(d=>{let f=new hw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),rw(l=>{let d=f=>{let v=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(f.routeConfig).pipe(ht(_=>{f.component=_}),H(()=>{})));for(let _ of f.children)v.push(...d(_));return v};return Ph(d(l.targetSnapshot.root)).pipe(Wi(null),bi(1))}),rw(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:l,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?Fe(f).pipe(H(()=>s)):re(s)}),H(l=>{let d=v5(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ve(G({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),ht(()=>{this.events.next(new Xl)}),D5(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),bi(1),ht({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ao(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),zy(this.transitionAbortSubject.pipe(ht(l=>{throw l}))),ha(()=>{if(!a&&!c){let l="";this.cancelNavigationTransition(s,l,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Gi(l=>{if(c=!0,k1(l))this.events.next(new co(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),E5(l)?this.events.next(new Jl(l.url)):s.resolve(!1);else{this.events.next(new Zl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(d){s.reject(d)}}return Nn}))}))}cancelNavigationTransition(r,i,o){let s=new co(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _H(t){return t!==Wl}var EH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>V(CH))(),providedIn:"root"});let t=e;return t})(),Aw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CH=(()=>{let e=class e extends Aw{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>(()=>V(bH))(),providedIn:"root"});let t=e;return t})(),bH=(()=>{let e=class e extends U1{constructor(){super(...arguments),this.location=V(jl),this.urlSerializer=V(Mw),this.options=V(Vw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(jw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new so,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=S1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Yl)this.stateMemento=this.createStateMemento();else if(r instanceof ds)this.rawUrlTree=i.initialUrl;else if(r instanceof mp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Xl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof co&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Zl?this.restoreHistory(i,!0):r instanceof ao&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=G(G({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=G(G({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(zl||{});function IH(t,e){t.events.pipe(tn(n=>n instanceof ao||n instanceof co||n instanceof Zl||n instanceof ds),H(n=>n instanceof ao||n instanceof ds?zl.COMPLETE:(n instanceof co?n.code===0||n.code===1:!1)?zl.REDIRECTING:zl.FAILED),tn(n=>n!==zl.REDIRECTING),bi(1)).subscribe(()=>{e()})}function DH(t){throw t}var TH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ue=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(Hf),this.stateManager=V(U1),this.options=V(Vw,{optional:!0})||{},this.pendingTasks=V(Vl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(wH),this.urlSerializer=V(Mw),this.location=V(jl),this.urlHandlingStrategy=V(jw),this._events=new Dt,this.errorHandler=this.options.errorHandler||DH,this.navigated=!1,this.routeReuseStrategy=V(EH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Lw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(kw,{optional:!0}),this.eventsSubscription=new _t,this.isNgZoneEnabled=V(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof co&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof ao)this.navigated=!0;else if(i instanceof Jl){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_H(o.source)};this.scheduleNavigation(a,Wl,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}AH(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=G({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Fw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=G(G({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let v;try{let _=o?o.snapshot:this.routerState.snapshot.root;v=I1(_)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),v=this.currentUrlTree.root}return D1(v,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ja(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Wl,null,i)}navigate(r,i={skipLocationChange:!1}){return SH(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=G({},TH):i===!1?o=G({},xH):o=i,ja(r))return u1(this.currentUrlTree,r,o);let s=this.parseUrl(r);return u1(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((v,_)=>{c=v,l=_});let f=this.pendingTasks.add();return IH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(v=>Promise.reject(v))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ne(4008,!1)}function AH(t){return!(t instanceof Xl)&&!(t instanceof Jl)}var $1=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:xS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(P(ue),P(rn),u0("tabindex"),P(Zr),P(Tr),P(Ra))},e.\u0275dir=tt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&k("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ma("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ar],skipLocationChange:["skipLocationChange","skipLocationChange",Ar],replaceUrl:["replaceUrl","replaceUrl",Ar],routerLink:"routerLink"},standalone:!0,features:[Of,Ir]});let t=e;return t})();var MH=new z("");function H1(t,...e){return os([{provide:Lw,multi:!0,useValue:t},[],{provide:rn,useFactory:PH,deps:[ue]},{provide:Pa,multi:!0,useFactory:RH},e.map(n=>n.\u0275providers)])}function PH(t){return t.routerState.root}function RH(){let t=V(fn);return e=>{let n=t.get(io);if(e!==n.components[0])return;let r=t.get(ue),i=t.get(NH);t.get(kH)===1&&r.initialNavigation(),t.get(FH,null,Se.Optional)?.setUpPreloading(),t.get(MH,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var NH=new z("",{factory:()=>new Dt}),kH=new z("",{providedIn:"root",factory:()=>1});var FH=new z("");var OH="firebase",VH="10.7.1";ln(OH,VH,"app");var dr=new Si("ANGULARFIRE2_VERSION");function Ip(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var su=(t,e)=>{let n=e?[e]:ih(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Pr=class{constructor(){return su(LH)}},LH="app-check";function $a(){}var bp=class{zone;delegate;constructor(e,n=Oy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Bw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$a,{},$a,$a)),n.pipe(ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ti=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bp(Zone.current)),this.insideAngular=n.run(()=>new bp(Zone.current,cl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Ae))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function jH(t){return Dp().ngZone.runOutsideAngular(()=>t())}function hs(t){return Dp().ngZone.run(()=>t())}function Tn(t){return BH(Dp())(t)}function BH(t){return function(n){return n=n.lift(new Bw(t.ngZone)),n.pipe(rr(t.outsideAngular),qn(t.insideAngular))}}var UH=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),hs(()=>t.apply(void 0,r))},Ha=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=hs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$a,{},$a,$a))),r[o]=UH(r[o],n));let i=jH(()=>t.apply(this,r));if(!e)if(i instanceof _e){let o=Dp();return i.pipe(rr(o.outsideAngular),qn(o.insideAngular))}else return hs(()=>i);return i instanceof _e?i.pipe(Tn):i instanceof Promise?hs(()=>new Promise((o,s)=>i.then(a=>hs(()=>o(a)),a=>hs(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:hs(()=>i)};var Ni=class{constructor(e){return e}},fs=class{constructor(){return ih()}};function $H(t){return t&&t.length===1?t[0]:new Ni(nl())}var Uw=new z("angularfire2._apps"),HH={provide:Ni,useFactory:$H,deps:[[new hn,Uw]]},qH={provide:fs,deps:[[new hn,Uw]]};function zH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var GH=(()=>{class t{constructor(n){ln("angularfire",dr.full,"core"),ln("angularfire",dr.full,"app"),ln("angular",$f.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(Gt))};static \u0275mod=jt({type:t});static \u0275inj=Lt({providers:[HH,qH]})}return t})();function z1(t,...e){return{ngModule:GH,providers:[{provide:Uw,useFactory:zH(t),multi:!0,deps:[Ae,fn,ti,...e]}]}}var G1=Ha(UD,!0);var WH=new Map,KH={activated:!1,tokenObservers:[]},QH={initialized:!1,enabled:!1};function Rr(t){return WH.get(t)||Object.assign({},KH)}function Z1(){return QH}var YH="https://content-firebaseappcheck.googleapis.com/v1";var ZH="exchangeDebugToken",W1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ate=24*60*60*1e3;var Hw=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return A(this,null,function*(){this.stop();try{this.pending=new Ey,this.pending.promise.catch(n=>{}),yield XH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ey,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function XH(t){return new Promise(e=>{setTimeout(e,t)})}var JH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},uo=new jD("appCheck","AppCheck",JH);function X1(t){if(!Rr(t).activated)throw uo.create("use-before-activation",{appName:t.name})}function J1(r,i){return A(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(_){throw uo.create("fetch-network-error",{originalErrorMessage:_?.message})}if(c.status!==200)throw uo.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(_){throw uo.create("fetch-parse-error",{originalErrorMessage:_?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw uo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,v=Date.now();return{token:l.token,expireTimeMillis:v+f,issuedAtTimeMillis:v}})}function eM(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${YH}/projects/${n}/apps/${r}:${ZH}?key=${i}`,body:{debug_token:e}}}var e6="firebase-app-check-database",t6=1,qw="firebase-app-check-store";var Tp=null;function n6(){return Tp||(Tp=new Promise((t,e)=>{try{let n=indexedDB.open(e6,t6);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(uo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(qw,{keyPath:"compositeKey"})}}}catch(n){e(uo.create("storage-open",{originalErrorMessage:n?.message}))}}),Tp)}function r6(t,e){return i6(o6(t),e)}function i6(t,e){return A(this,null,function*(){let r=(yield n6()).transaction(qw,"readwrite"),o=r.objectStore(qw).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(uo.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function o6(t){return`${t.options.appId}-${t.name}`}var zw=new rh("@firebase/app-check");function $w(t,e){return nh()?r6(t,e).catch(n=>{zw.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function tM(){return Z1().enabled}function nM(){return A(this,null,function*(){let t=Z1();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var s6={error:"UNKNOWN_ERROR"};function a6(t){return kD.encodeString(JSON.stringify(t),!1)}function Gw(t,e=!1){return A(this,null,function*(){let n=t.app;X1(n);let r=Rr(n),i=r.token,o;if(i&&!au(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(au(c)?i=c:yield $w(n,void 0))}if(!e&&i&&au(i))return{token:i.token};let s=!1;if(tM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=J1(eM(n,yield nM()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield $w(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Rr(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?zw.warn(c.message):zw.error(c),o=c}let a;return i?o?au(i)?a={token:i.token,internalError:o}:a=Q1(o):(a={token:i.token},r.token=i,yield $w(n,i)):a=Q1(o),s&&d6(n,a),a})}function c6(t){return A(this,null,function*(){let e=t.app;X1(e);let{provider:n}=Rr(e);if(tM()){let r=yield nM(),{token:i}=yield J1(eM(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function l6(t,e,n,r){let{app:i}=t,o=Rr(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&au(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),K1(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>K1(t))}function rM(t,e){let n=Rr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function K1(t){let{app:e}=t,n=Rr(e),r=n.tokenRefresher;r||(r=u6(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function u6(t){let{app:e}=t;return new Hw(()=>A(this,null,function*(){let n=Rr(e),r;if(n.token?r=yield Gw(t,!0):r=yield Gw(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Rr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},W1.RETRIAL_MIN_WAIT,W1.RETRIAL_MAX_WAIT)}function d6(t,e){let n=Rr(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function au(t){return t.expireTimeMillis-Date.now()>0}function Q1(t){return{token:a6(s6),error:t}}var Ww=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Rr(this.app);for(let n of e)rM(this.app,n.next);return Promise.resolve()}};function h6(t,e){return new Ww(t,e)}function f6(t){return{getToken:e=>Gw(t,e),getLimitedUseToken:()=>c6(t),addTokenListener:e=>l6(t,"INTERNAL",e),removeTokenListener:e=>rM(t.app,e)}}var p6="@firebase/app-check",m6="0.8.1";var g6="app-check",Y1="app-check-internal";function y6(){tl(new $o(g6,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return h6(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Y1).initialize()})),tl(new $o(Y1,t=>{let e=t.getProvider("app-check").getImmediate();return f6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ln(p6,m6)}y6();var v6=["localhost","0.0.0.0","127.0.0.1"],Ute=typeof window<"u"&&v6.includes(window.location.hostname);var w6="firebase",_6="10.7.1";Hn.registerVersion(w6,_6,"app-compat");var E6=["ngOnDestroy"],sM=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(E6.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{let f=d?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})});var xp=class{constructor(e){return e}},qa=new z("angularfire2.app.options"),za=new z("angularfire2.app.name");function cu(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Hn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Hn.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;C6("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xp(s)}var C6=(t,...e)=>{L0()&&typeof console<"u"&&console[t](...e)},b6={provide:xp,useFactory:cu,deps:[qa,Ae,[new hn,za]]},aM=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:qa,useValue:n},{provide:za,useValue:r}]}}constructor(n){Hn.registerVersion("angularfire",dr.full,"core"),Hn.registerVersion("angularfire",dr.full,"app-compat"),Hn.registerVersion("angular",$f.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(Gt))};static \u0275mod=jt({type:t});static \u0275inj=Lt({providers:[b6]})}return t})();function Sp(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return I6(i,s)||(oM("error",`${e} was already initialized on the ${n} Firebase App with different settings.${D6?" You may need to reload as Firebase is not HMR aware.":""}`),oM("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function I6(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var D6=typeof module<"u"&&!!module.hot,oM=(t,...e)=>{L0()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Kw=new z("angularfire2.auth.use-emulator"),Qw=new z("angularfire2.auth.settings"),Yw=new z("angularfire2.auth.tenant-id"),Zw=new z("angularfire2.auth.langugage-code"),Xw=new z("angularfire2.auth.use-device-language"),Jw=new z("angularfire.auth.persistence"),e_=(t,e,n,r,i,o,s,a)=>Sp(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),Ga=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,d,f,v,_){let b=new Dt,T=re(void 0).pipe(qn(s.outsideAngular),dt(()=>o.runOutsideAngular(()=>import("./chunk-RFLKQ2PV.js"))),H(()=>cu(n,o,r)),H(M=>e_(M,o,a,l,d,f,c,v)),kh({bufferSize:1,refCount:!1}));if(oo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=re(null);else{T.pipe(zn()).subscribe();let M=T.pipe(dt(B=>B.getRedirectResult().then(te=>te,()=>null)),Tn,kh({bufferSize:1,refCount:!1})),O=T.pipe(dt(B=>new _e(te=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(ie=>te.next(ie),ie=>te.error(ie),()=>te.complete()))})))),K=T.pipe(dt(B=>new _e(te=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(ie=>te.next(ie),ie=>te.error(ie),()=>te.complete()))}))));this.authState=M.pipe(Fh(O),rr(s.outsideAngular),qn(s.insideAngular)),this.user=M.pipe(Fh(K),rr(s.outsideAngular),qn(s.insideAngular)),this.idToken=this.user.pipe(dt(B=>B?Fe(B.getIdToken()):re(null))),this.idTokenResult=this.user.pipe(dt(B=>B?Fe(B.getIdTokenResult()):re(null))),this.credential=By(M,b,this.authState.pipe(tn(B=>!B))).pipe(H(B=>B?.user?B:null),rr(s.outsideAngular),qn(s.insideAngular))}return sM(this,T,o,{spy:{apply:(M,O,K)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&K.then(B=>b.next(B))}}})}static \u0275fac=function(r){return new(r||t)(L(qa),L(za,8),L(Gt),L(Ae),L(ti),L(Kw,8),L(Qw,8),L(Yw,8),L(Zw,8),L(Xw,8),L(Jw,8),L(Pr,8))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var T6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={},U,C_=C_||{},de=T6||self;function $p(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function x6(t){return Object.prototype.hasOwnProperty.call(t,t_)&&t[t_]||(t[t_]=++S6)}var t_="closure_uid_"+(1e9*Math.random()>>>0),S6=0;function A6(t,e,n){return t.call.apply(t.bind,arguments)}function M6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function mn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?mn=A6:mn=M6,mn.apply(null,arguments)}function Ap(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ho(){this.s=this.s,this.o=this.o}var P6=0;ho.prototype.s=!1;ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),P6!=0)&&x6(this)};ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var EM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function b_(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lM(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if($p(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function gn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}gn.prototype.h=function(){this.defaultPrevented=!0};var R6=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};de.addEventListener("test",n,e),de.removeEventListener("test",n,e)}catch{}return t}();function pu(t){return/^[\s\xa0]*$/.test(t)}function Hp(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function ni(t){return Hp().indexOf(t)!=-1}function I_(t){return I_[" "](t),t}I_[" "]=function(){};function N6(t,e){var n=E9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var k6=ni("Opera"),Ya=ni("Trident")||ni("MSIE"),CM=ni("Edge"),s_=CM||Ya,bM=ni("Gecko")&&!(Hp().toLowerCase().indexOf("webkit")!=-1&&!ni("Edge"))&&!(ni("Trident")||ni("MSIE"))&&!ni("Edge"),F6=Hp().toLowerCase().indexOf("webkit")!=-1&&!ni("Edge");function IM(){var t=de.document;return t?t.documentMode:void 0}var a_;e:{if(Mp="",Pp=function(){var t=Hp();if(bM)return/rv:([^\);]+)(\)|;)/.exec(t);if(CM)return/Edge\/([\d\.]+)/.exec(t);if(Ya)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(F6)return/WebKit\/(\S+)/.exec(t);if(k6)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Pp&&(Mp=Pp?Pp[1]:""),Ya&&(Rp=IM(),Rp!=null&&Rp>parseFloat(Mp))){a_=String(Rp);break e}a_=Mp}var Mp,Pp,Rp,c_;de.document&&Ya?(n_=IM(),c_=n_||parseInt(a_,10)||void 0):c_=void 0;var n_,O6=c_;function mu(t,e){if(gn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bM){e:{try{I_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:V6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mu.$.h.call(this)}}Kt(mu,gn);var V6={2:"touch",3:"pen",4:"mouse"};mu.prototype.h=function(){mu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bu="closure_listenable_"+(1e6*Math.random()|0),L6=0;function j6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++L6,this.fa=this.ia=!1}function qp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function D_(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function B6(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function DM(t){let e={};for(let n in t)e[n]=t[n];return e}var uM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TM(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<uM.length;o++)n=uM[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zp(t){this.src=t,this.g={},this.h=0}zp.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=u_(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new j6(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function l_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=EM(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(qp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function u_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var T_="closure_lm_"+(1e6*Math.random()|0),r_={};function xM(t,e,n,r,i){if(r&&r.once)return AM(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)xM(t,e[o],n,r,i);return null}return n=A_(n),t&&t[bu]?t.O(e,n,Cu(r)?!!r.capture:!!r,i):SM(t,e,n,!1,r,i)}function SM(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Cu(i)?!!i.capture:!!i,a=S_(t);if(a||(t[T_]=a=new zp(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=U6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)R6||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(PM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function U6(){function t(n){return e.call(t.src,t.listener,n)}let e=$6;return t}function AM(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)AM(t,e[o],n,r,i);return null}return n=A_(n),t&&t[bu]?t.P(e,n,Cu(r)?!!r.capture:!!r,i):SM(t,e,n,!0,r,i)}function MM(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)MM(t,e[o],n,r,i);else r=Cu(r)?!!r.capture:!!r,n=A_(n),t&&t[bu]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=u_(o,n,r,i),-1<n&&(qp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=S_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=u_(e,n,r,i)),(n=-1<t?e[t]:null)&&x_(n))}function x_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bu])l_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(PM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=S_(e))?(l_(n,t),n.h==0&&(n.src=null,e[T_]=null)):qp(t)}}}function PM(t){return t in r_?r_[t]:r_[t]="on"+t}function $6(t,e){if(t.fa)t=!0;else{e=new mu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&x_(t),t=n.call(r,e)}return t}function S_(t){return t=t[T_],t instanceof zp?t:null}var i_="__closure_events_fn_"+(1e9*Math.random()>>>0);function A_(t){return typeof t=="function"?t:(t[i_]||(t[i_]=function(e){return t.handleEvent(e)}),t[i_])}function Wt(){ho.call(this),this.i=new zp(this),this.S=this,this.J=null}Kt(Wt,ho);Wt.prototype[bu]=!0;Wt.prototype.removeEventListener=function(t,e,n,r){MM(this,t,e,n,r)};function sn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new gn(e,t);else if(e instanceof gn)e.target=e.target||t;else{var i=e;e=new gn(r,t),TM(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Np(s,r,!0,e)&&i}if(s=e.g=t,i=Np(s,r,!0,e)&&i,i=Np(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Np(s,r,!1,e)&&i}Wt.prototype.N=function(){if(Wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qp(n[r]);delete t.g[e],t.h--}}this.J=null};Wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Np(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&l_(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var M_=de.JSON.stringify,d_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function H6(){var t=P_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var h_=class{constructor(){this.h=this.g=null}add(e,n){let r=RM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},RM=new d_(()=>new f_,t=>t.reset()),f_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function q6(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function z6(t){de.setTimeout(()=>{throw t},0)}var gu,yu=!1,P_=new h_,NM=()=>{let t=de.Promise.resolve(void 0);gu=()=>{t.then(G6)}},G6=()=>{for(var t;t=H6();){try{t.h.call(t.g)}catch(n){z6(n)}var e=RM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yu=!1};function Gp(t,e){Wt.call(this),this.h=t||1,this.g=e||de,this.j=mn(this.qb,this),this.l=Date.now()}Kt(Gp,Wt);U=Gp.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(R_(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function R_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Gp.$.N.call(this),R_(this),delete this.g};function N_(t,e,n){if(typeof t=="function")n&&(t=mn(t,n));else if(t&&typeof t.handleEvent=="function")t=mn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function kM(t){t.g=N_(()=>{t.g=null,t.i&&(t.i=!1,kM(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var p_=class extends ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kM(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function vu(t){ho.call(this),this.h=t,this.g={}}Kt(vu,ho);var dM=[];function FM(t,e,n,r){Array.isArray(n)||(n&&(dM[0]=n.toString()),n=dM);for(var i=0;i<n.length;i++){var o=xM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function OM(t){D_(t.g,function(e,n){this.g.hasOwnProperty(n)&&x_(e)},t),t.g={}}vu.prototype.N=function(){vu.$.N.call(this),OM(this)};vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wp(){this.g=!0}Wp.prototype.Ea=function(){this.g=!1};function W6(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var d=l[0];l=l[1];var f=d.split("_");s=2<=f.length&&f[1]=="type"?s+(d+"="+l+"&"):s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function K6(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Ka(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Y6(t,n)+(r?" "+r:"")})}function Q6(t,e){t.info(function(){return"TIMEOUT: "+e})}Wp.prototype.info=function(){};function Y6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return M_(n)}catch{return e}}var ys={},hM=null;function Kp(){return hM=hM||new Wt}ys.Ta="serverreachability";function VM(t){gn.call(this,ys.Ta,t)}Kt(VM,gn);function wu(t){let e=Kp();sn(e,new VM(e))}ys.STAT_EVENT="statevent";function LM(t,e){gn.call(this,ys.STAT_EVENT,t),this.stat=e}Kt(LM,gn);function xn(t){let e=Kp();sn(e,new LM(e,t))}ys.Ua="timingevent";function jM(t,e){gn.call(this,ys.Ua,t),this.size=e}Kt(jM,gn);function Iu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var Qp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function k_(){}k_.prototype.h=null;function fM(t){return t.h||(t.h=t.i())}function UM(){}var Du={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function F_(){gn.call(this,"d")}Kt(F_,gn);function O_(){gn.call(this,"c")}Kt(O_,gn);var m_;function Yp(){}Kt(Yp,k_);Yp.prototype.g=function(){return new XMLHttpRequest};Yp.prototype.i=function(){return{}};m_=new Yp;function Tu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new vu(this),this.P=Z6,t=s_?125:void 0,this.V=new Gp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $M}function $M(){this.i=null,this.g="",this.h=!1}var Z6=45e3,HM={},g_={};U=Tu.prototype;U.setTimeout=function(t){this.P=t};function y_(t,e,n){t.L=1,t.A=Xp(Fi(e)),t.u=n,t.S=!0,qM(t,null)}function qM(t,e){t.G=Date.now(),xu(t),t.B=Fi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),XM(n.i,"t",r),t.o=0,n=t.l.J,t.h=new $M,t.g=wP(t.l,n?e:null,!t.u),0<t.O&&(t.M=new p_(mn(t.Pa,t,t.g),t.O)),FM(t.U,t.g,"readystatechange",t.nb),e=t.I?DM(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),wu(),W6(t.j,t.v,t.B,t.m,t.W,t.u)}U.nb=function(t){t=t.target;let e=this.M;e&&ri(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{let d=ri(this.g);var e=this.g.Ia();let f=this.g.da();if(!(3>d)&&(d!=3||s_||this.g&&(this.h.h||this.g.ja()||yM(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?wu(3):wu(2)),Zp(this);var n=this.g.da();this.ca=n;t:if(zM(this)){var r=yM(this.g);t="";var i=r.length,o=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),fu(this);var s="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,K6(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pu(a)){var l=a;break t}}l=null}if(n=l)Ka(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,v_(this,n);else{this.i=!1,this.s=3,xn(12),ps(this),fu(this);break e}}this.S?(GM(this,d,s),s_&&this.i&&d==3&&(FM(this.U,this.V,"tick",this.mb),this.V.start())):(Ka(this.j,this.m,s,null),v_(this,s)),d==4&&ps(this),this.i&&!this.J&&(d==4?mP(this.l,this):(this.i=!1,xu(this)))}else v9(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),ps(this),fu(this)}}}catch{}finally{}};function zM(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function GM(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=X6(t,n),i==g_){e==4&&(t.s=4,xn(14),r=!1),Ka(t.j,t.m,null,"[Incomplete Response]");break}else if(i==HM){t.s=4,xn(15),Ka(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ka(t.j,t.m,i,null),v_(t,i);zM(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,xn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$_(e),e.M=!0,xn(11))):(Ka(t.j,t.m,n,"[Invalid Chunked Response]"),ps(t),fu(t))}U.mb=function(){if(this.g){var t=ri(this.g),e=this.g.ja();this.o<e.length&&(Zp(this),GM(this,t,e),this.i&&t!=4&&xu(this))}};function X6(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?g_:(n=Number(e.substring(n,r)),isNaN(n)?HM:(r+=1,r+n>e.length?g_:(e=e.slice(r,r+n),t.o=r+n,e)))}U.cancel=function(){this.J=!0,ps(this)};function xu(t){t.Y=Date.now()+t.P,WM(t,t.P)}function WM(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Iu(mn(t.lb,t),e)}function Zp(t){t.C&&(de.clearTimeout(t.C),t.C=null)}U.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Q6(this.j,this.B),this.L!=2&&(wu(),xn(17)),ps(this),this.s=2,fu(this)):WM(this,this.Y-t)};function fu(t){t.l.H==0||t.J||mP(t.l,t)}function ps(t){Zp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,R_(t.V),OM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function v_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||w_(n.i,t))){if(!t.K&&w_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Lp(n),tm(n);else break e;U_(n),xn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Iu(mn(n.ib,n),6e3));if(1>=tP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ms(n,11)}else if((t.K||n.g==t)&&Lp(n),!pu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let d=l[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));let f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));let v=l[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let _=t.g;if(_){let b=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=r.i;o.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(V_(o,o.h),o.h=null))}if(r.F){let T=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,nt(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=vP(r,r.J?r.pa:null,r.Y),s.K){nP(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Zp(a),xu(a)),r.g=s}else fP(r);0<n.j.length&&nm(n)}else l[0]!="stop"&&l[0]!="close"||ms(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ms(n,7):B_(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}wu(4)}catch{}}function J6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function e9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($p(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function KM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($p(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=e9(t),r=J6(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var QM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function t9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function gs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof gs){this.h=t.h,Op(this,t.j),this.s=t.s,this.g=t.g,Vp(this,t.m),this.l=t.l;var e=t.i,n=new _u;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pM(this,n),this.o=t.o}else t&&(e=String(t).match(QM))?(this.h=!1,Op(this,e[1]||"",!0),this.s=du(e[2]||""),this.g=du(e[3]||"",!0),Vp(this,e[4]),this.l=du(e[5]||"",!0),pM(this,e[6]||"",!0),this.o=du(e[7]||"")):(this.h=!1,this.i=new _u(null,this.h))}gs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hu(e,mM,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hu(e,mM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hu(n,n.charAt(0)=="/"?i9:r9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hu(n,s9)),t.join("")};function Fi(t){return new gs(t)}function Op(t,e,n){t.j=n?du(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pM(t,e,n){e instanceof _u?(t.i=e,a9(t.i,t.h)):(n||(e=hu(e,o9)),t.i=new _u(e,t.h))}function nt(t,e,n){t.i.set(e,n)}function Xp(t){return nt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function du(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,n9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function n9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mM=/[#\/\?@]/g,r9=/[#\?:]/g,i9=/[#\?]/g,o9=/[#\?@]/g,s9=/#/g;function _u(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fo(t){t.g||(t.g=new Map,t.h=0,t.i&&t9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=_u.prototype;U.add=function(t,e){fo(this),this.i=null,t=Za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YM(t,e){fo(t),e=Za(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ZM(t,e){return fo(t),e=Za(t,e),t.g.has(e)}U.forEach=function(t,e){fo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){fo(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};U.Z=function(t){fo(this);let e=[];if(typeof t=="string")ZM(this,t)&&(e=e.concat(this.g.get(Za(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return fo(this),this.i=null,t=Za(this,t),ZM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function XM(t,e,n){YM(t,e),0<n.length&&(t.i=null,t.g.set(Za(t,e),b_(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function a9(t,e){e&&!t.j&&(fo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YM(this,r),XM(this,i,n))},t)),t.j=e}var c9=class{constructor(t,e){this.g=t,this.map=e}};function JM(t){this.l=t||l9,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var l9=10;function eP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tP(t){return t.h?1:t.g?t.g.size:0}function w_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function V_(t,e){t.g?t.g.add(e):t.h=e}function nP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}JM.prototype.cancel=function(){if(this.i=rP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function rP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return b_(t.i)}var u9=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function d9(){this.g=new u9}function h9(t,e,n){let r=n||"";try{KM(t,function(i,o){let s=i;Cu(i)&&(s=M_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function f9(t,e){let n=new Wp;if(de.Image){let r=new Image;r.onload=Ap(kp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ap(kp,n,r,"TestLoadImage: error",!1,e),r.onabort=Ap(kp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ap(kp,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function kp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Su(t){this.l=t.ec||null,this.j=t.ob||!1}Kt(Su,k_);Su.prototype.g=function(){return new Jp(this.l,this.j)};Su.prototype.i=function(t){return function(){return t}}({});function Jp(t,e){Wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=L_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt(Jp,Wt);var L_=0;U=Jp.prototype;U.open=function(t,e){if(this.readyState!=L_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Eu(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Au(this)),this.readyState=L_};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Eu(this)),this.g&&(this.readyState=3,Eu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function iP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Au(this):Eu(this),this.readyState==3&&iP(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,Au(this))};U.Ya=function(t){this.g&&(this.response=t,Au(this))};U.ka=function(){this.g&&Au(this)};function Au(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Eu(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Eu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var p9=de.JSON.parse;function pt(t){Wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oP,this.L=this.M=!1}Kt(pt,Wt);var oP="",m9=/^https?$/i,g9=["POST","PUT"];U=pt.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():m_.g(),this.C=this.u?fM(this.u):fM(m_),this.g.onreadystatechange=mn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){gM(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=EM(g9,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cP(this),0<this.B&&((this.L=y9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mn(this.ua,this)):this.A=N_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gM(this,o)}};function y9(t){return Ya&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof C_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))};function gM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sP(t),em(t)}function sP(t){t.F||(t.F=!0,sn(t,"complete"),sn(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sn(this,"complete"),sn(this,"abort"),em(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),em(this,!0)),pt.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?aP(this):this.kb())};U.kb=function(){aP(this)};function aP(t){if(t.h&&typeof C_<"u"&&(!t.C[1]||ri(t)!=4||t.da()!=2)){if(t.v&&ri(t)==4)N_(t.La,0,t);else if(sn(t,"readystatechange"),ri(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(QM)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!m9.test(i?i.toLowerCase():"")}n=r}if(n)sn(t,"complete"),sn(t,"success");else{t.m=6;try{var o=2<ri(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",sP(t)}}finally{em(t)}}}}function em(t,e){if(t.g){cP(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sn(t,"ready");try{n.onreadystatechange=r}catch{}}}function cP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function ri(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),p9(e)}};function yM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function v9(t){let e={};t=(t.g&&2<=ri(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(pu(t[r]))continue;var n=q6(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}B6(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function lP(t){let e="";return D_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function j_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):nt(t,e,n))}function lu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uP(t){this.Ga=0,this.j=[],this.l=new Wp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lu("baseRetryDelayMs",5e3,t),this.hb=lu("retryDelaySeedMs",1e4,t),this.eb=lu("forwardChannelMaxRetries",2,t),this.xa=lu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new JM(t&&t.concurrentRequestLimit),this.Ja=new d9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=uP.prototype;U.ra=8;U.H=1;function B_(t){if(dP(t),t.H==3){var e=t.W++,n=Fi(t.I);if(nt(n,"SID",t.K),nt(n,"RID",e),nt(n,"TYPE","terminate"),Mu(t,n),e=new Tu(t,t.l,e),e.L=2,e.A=Xp(Fi(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.A,n=!0),n||(e.g=wP(e.l,null),e.g.ha(e.A)),e.G=Date.now(),xu(e)}yP(t)}function tm(t){t.g&&($_(t),t.g.cancel(),t.g=null)}function dP(t){tm(t),t.u&&(de.clearTimeout(t.u),t.u=null),Lp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function nm(t){if(!eP(t.i)&&!t.m){t.m=!0;var e=t.Na;gu||NM(),yu||(gu(),yu=!0),P_.add(e,t),t.C=0}}function w9(t,e){return tP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Iu(mn(t.Na,t,e),gP(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Tu(this,this.l,t),o=this.s;if(this.U&&(o?(o=DM(o),TM(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hP(this,i,e),n=Fi(this.I),nt(n,"RID",t),nt(n,"CVER",22),this.F&&nt(n,"X-HTTP-Session-Id",this.F),Mu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(lP(o)))+"&"+e:this.o&&j_(n,this.o,o)),V_(this.i,i),this.bb&&nt(n,"TYPE","init"),this.P?(nt(n,"$req",e),nt(n,"SID","null"),i.aa=!0,y_(i,n,null)):y_(i,n,e),this.H=2}}else this.H==3&&(t?vM(this,t):this.j.length==0||eP(this.i)||vM(this))};function vM(t,e){var n;e?n=e.m:n=t.W++;let r=Fi(t.I);nt(r,"SID",t.K),nt(r,"RID",n),nt(r,"AID",t.V),Mu(t,r),t.o&&t.s&&j_(r,t.o,t.s),n=new Tu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),V_(t.i,n),y_(n,r,e)}function Mu(t,e){t.na&&D_(t.na,function(n,r){nt(e,r,n)}),t.h&&KM({},function(n,r){nt(e,r,n)})}function hP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?mn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,d=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{h9(d,s,"req"+l+"_")}catch{r&&r(d)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gu||NM(),yu||(gu(),yu=!0),P_.add(e,t),t.A=0}}function U_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Iu(mn(t.Ma,t),gP(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,pP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Iu(mn(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xn(10),tm(this),pP(this))};function $_(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function pP(t){t.g=new Tu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fi(t.wa);nt(e,"RID","rpc"),nt(e,"SID",t.K),nt(e,"AID",t.V),nt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&nt(e,"TO",t.qa),nt(e,"TYPE","xmlhttp"),Mu(t,e),t.o&&t.s&&j_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Xp(Fi(e)),n.u=null,n.S=!0,qM(n,t)}U.ib=function(){this.v!=null&&(this.v=null,tm(this),U_(this),xn(19))};function Lp(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function mP(t,e){var n=null;if(t.g==e){Lp(t),$_(t),t.g=null;var r=2}else if(w_(t.i,e))n=e.F,nP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Kp(),sn(r,new jM(r,n)),nm(t)}else fP(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&w9(t,e)||r==2&&U_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ms(t,5);break;case 4:ms(t,10);break;case 3:ms(t,6);break;default:ms(t,2)}}}function gP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ms(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=mn(t.pb,t);n||(n=new gs("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||Op(n,"https"),Xp(n)),f9(n.toString(),r)}else xn(2);t.H=0,t.h&&t.h.za(e),yP(t),dP(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xn(2)):(this.l.info("Failed to ping google.com"),xn(1))};function yP(t){if(t.H=0,t.ma=[],t.h){let e=rP(t.i);(e.length!=0||t.j.length!=0)&&(lM(t.ma,e),lM(t.ma,t.j),t.i.i.length=0,b_(t.j),t.j.length=0),t.h.ya()}}function vP(t,e,n){var r=n instanceof gs?Fi(n):new gs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Vp(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new gs(null);r&&Op(o,r),e&&(o.g=e),i&&Vp(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&nt(r,n,e),nt(r,"VER",t.ra),Mu(t,r),r}function wP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new pt(new Su({ob:n})):new pt(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function _P(){}U=_P.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function jp(){if(Ya&&!(10<=Number(O6)))throw Error("Environmental error: no available transport.")}jp.prototype.g=function(t,e){return new Jn(t,e)};function Jn(t,e){Wt.call(this),this.g=new uP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!pu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xa(this)}Kt(Jn,Wt);Jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=vP(t,null,t.Y),nm(t)};Jn.prototype.close=function(){B_(this.g)};Jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=M_(t),t=n);e.j.push(new c9(e.fb++,t)),e.H==3&&nm(e)};Jn.prototype.N=function(){this.g.h=null,delete this.j,B_(this.g),delete this.g,Jn.$.N.call(this)};function EP(t){F_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kt(EP,F_);function CP(){O_.call(this),this.status=1}Kt(CP,O_);function Xa(t){this.g=t}Kt(Xa,_P);Xa.prototype.Ba=function(){sn(this.g,"a")};Xa.prototype.Aa=function(t){sn(this.g,new EP(t))};Xa.prototype.za=function(t){sn(this.g,new CP)};Xa.prototype.ya=function(){sn(this.g,"b")};function _9(){this.blockSize=-1}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kt(Nr,_9);Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function o_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Nr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)o_(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){o_(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){o_(this,r),i=0;break}}this.h=i,this.i+=e};Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function He(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var E9={};function H_(t){return-128<=t&&128>t?N6(t,function(e){return new He([e|0],0>e?-1:0)}):new He([t|0],0>t?-1:0)}function ii(t){if(isNaN(t)||!isFinite(t))return Qa;if(0>t)return on(ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=__;return new He(e,0)}function bP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return on(bP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ii(Math.pow(e,8)),r=Qa,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ii(Math.pow(e,o)),r=r.R(o).add(ii(s))):(r=r.R(n),r=r.add(ii(s)))}return r}var __=4294967296,Qa=H_(0),E_=H_(1),wM=H_(16777216);U=He.prototype;U.ea=function(){if(hr(this))return-on(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:__+r)*e,e*=__}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ki(this))return"0";if(hr(this))return"-"+on(this).toString(t);for(var e=ii(Math.pow(t,6)),n=this,r="";;){var i=Up(n,e).g;n=Bp(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ki(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ki(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hr(t){return t.h==-1}U.X=function(t){return t=Bp(this,t),hr(t)?-1:ki(t)?0:1};function on(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new He(n,~t.h).add(E_)}U.abs=function(){return hr(this)?on(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new He(n,n[n.length-1]&-2147483648?-1:0)};function Bp(t,e){return t.add(on(e))}U.R=function(t){if(ki(this)||ki(t))return Qa;if(hr(this))return hr(t)?on(this).R(on(t)):on(on(this).R(t));if(hr(t))return on(this.R(on(t)));if(0>this.X(wM)&&0>t.X(wM))return ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Fp(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Fp(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Fp(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Fp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new He(n,0)};function Fp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function uu(t,e){this.g=t,this.h=e}function Up(t,e){if(ki(e))throw Error("division by zero");if(ki(t))return new uu(Qa,Qa);if(hr(t))return e=Up(on(t),e),new uu(on(e.g),on(e.h));if(hr(e))return e=Up(t,on(e)),new uu(on(e.g),e.h);if(30<t.g.length){if(hr(t)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=E_,r=e;0>=r.X(t);)n=_M(n),r=_M(r);var i=Wa(n,1),o=Wa(r,1);for(r=Wa(r,2),n=Wa(n,2);!ki(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Wa(r,1),n=Wa(n,1)}return e=Bp(t,i.R(e)),new uu(i,e)}for(i=Qa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=ii(n),s=o.R(e);hr(s)||0<s.X(t);)n-=r,o=ii(n),s=o.R(e);ki(o)&&(o=E_),i=i.add(o),t=Bp(t,s)}return new uu(i,t)}U.gb=function(t){return Up(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new He(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new He(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new He(n,this.h^t.h)};function _M(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new He(n,t.h)}function Wa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new He(i,t.h)}jp.prototype.createWebChannel=jp.prototype.g;Jn.prototype.send=Jn.prototype.u;Jn.prototype.open=Jn.prototype.m;Jn.prototype.close=Jn.prototype.close;Qp.NO_ERROR=0;Qp.TIMEOUT=8;Qp.HTTP_ERROR=6;BM.COMPLETE="complete";UM.EventType=Du;Du.OPEN="a";Du.CLOSE="b";Du.ERROR="c";Du.MESSAGE="d";Wt.prototype.listen=Wt.prototype.O;pt.prototype.listenOnce=pt.prototype.P;pt.prototype.getLastError=pt.prototype.Sa;pt.prototype.getLastErrorCode=pt.prototype.Ia;pt.prototype.getStatus=pt.prototype.da;pt.prototype.getResponseJson=pt.prototype.Wa;pt.prototype.getResponseText=pt.prototype.ja;pt.prototype.send=pt.prototype.ha;pt.prototype.setWithCredentials=pt.prototype.Oa;Nr.prototype.digest=Nr.prototype.l;Nr.prototype.reset=Nr.prototype.reset;Nr.prototype.update=Nr.prototype.j;He.prototype.add=He.prototype.add;He.prototype.multiply=He.prototype.R;He.prototype.modulo=He.prototype.gb;He.prototype.compare=He.prototype.X;He.prototype.toNumber=He.prototype.ea;He.prototype.toString=He.prototype.toString;He.prototype.getBits=He.prototype.D;He.fromNumber=ii;He.fromString=bP;var IP=kr.createWebChannelTransport=function(){return new jp},DP=kr.getStatEventTarget=function(){return Kp()},rm=kr.ErrorCode=Qp,TP=kr.EventType=BM,xP=kr.Event=ys,q_=kr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hne=kr.FetchXmlHttpFactory=Su,Pu=kr.WebChannel=UM,SP=kr.XhrIo=pt,AP=kr.Md5=Nr,vs=kr.Integer=He;var MP="@firebase/firestore";var Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");var Sc="10.7.0";var _o=new rh("@firebase/firestore");function rc(){return _o.logLevel}function zC(t){_o.setLogLevel(t)}function F(t,...e){if(_o.logLevel<=Hr.DEBUG){let n=e.map(GC);_o.debug(`Firestore (${Sc}): ${t}`,...n)}}function Ct(t,...e){if(_o.logLevel<=Hr.ERROR){let n=e.map(GC);_o.error(`Firestore (${Sc}): ${t}`,...n)}}function pr(t,...e){if(_o.logLevel<=Hr.WARN){let n=e.map(GC);_o.warn(`Firestore (${Sc}): ${t}`,...n)}}function GC(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+t;throw Ct(e),new Error(e)}function J(t,e){t||W()}function AR(t,e){t||W()}function $(t,e){return t}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N=class extends LD{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var pm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Q_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}},Y_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Z_=class{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>A(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(J(typeof r.accessToken=="string"),new pm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return J(e===null||typeof e=="string"),new Mt(e)}},X_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},J_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new X_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(J(typeof n.token=="string"),this.R=n.token,new eE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function C9(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var mm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=C9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function hc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function MR(t){return t+"\0"}var ut=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ut(0,0))}static max(){return new t(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gm=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends gm{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new N(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},b9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bt=class t extends gm{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return b9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new N(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new N(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new N(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new N(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var fc=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function nE(t){return t.fields.find(e=>e.kind===2)}function _s(t){return t.fields.filter(e=>e.kind!==2)}fc.UNKNOWN_ID=-1;var lc=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Hu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,mr.min())}};function PR(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new mr(i,j.empty(),e)}function RR(t){return new mr(t.readTime,t.key,-1)}var mr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),j.empty(),-1)}static max(){return new t(ee.max(),j.empty(),-1)}};function WC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ym=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Po(t){return A(this,null,function*(){if(t.code!==D.FAILED_PRECONDITION||t.message!==NR)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var I=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var vm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Pt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ts(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=KC(r.target.error);this.V.reject(new Ts(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Ts(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new iE(n)}},Eo=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(th())===12.2&&Ct("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Es(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!nh())return!1;if(t.C())return!0;let e=th(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return A(this,null,function*(){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new Ts(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new N(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new N(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Ts(e,s))},i.onupgradeneeded=o=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return A(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=vm.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),I.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(F("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},rE=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Es(this.k.delete())}},Ts=class extends N{constructor(e,n){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Ro(t){return t.name==="IndexedDbTransactionError"}var iE=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Es(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Es(this.store.add(e))}get(e){return Es(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Es(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Es(this.store.count())}W(e,n){let r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){let i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{let i=this.store.getAll(r.range);return new I((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new I((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){F("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new I((r,i)=>{n.onerror=o=>{let s=KC(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new I((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new rE(a),l=n(a.primaryKey,a.value,c);if(l instanceof I){let d=l.catch(f=>(c.done(),I.reject(f)));r.push(d)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Es(t){return new I((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=KC(r.target.error);n(i)}})}var PP=!1;function KC(t){let e=Eo.S(th());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PP||(PP=!0,setTimeout(()=>{throw r},0)),r}}return t}var oE=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){F("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>A(this,null,function*(){this.task=null;try{F("IndexBackiller",`Documents written: ${yield this.X.te()}`)}catch(n){Ro(n)?F("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield Po(n)}yield this.ee(6e4)}))}},sE=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return A(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let r=new Set,i=n,o=!0;return I.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return F("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(F("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{let s=RR(o);WC(s,r)>0&&(r=s)}),new mr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var er=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fd(t){return t==null}function qu(t){return t===0&&1/t==-1/0}function kR(t){return typeof t=="number"&&Number.isInteger(t)&&!qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Sn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RP(e)),e=I9(t.get(n),e);return RP(e)}function I9(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function RP(t){return t+""}function oi(t){let e=t.length;if(J(e>=2),e===2)return J(t.charAt(0)===""&&t.charAt(1)===""),Oe.emptyPath();let n=e-2,r=[],i="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&W(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:W()}o=s+2}return new Oe(r)}var NP=["userId","batchId"];function cm(t,e){return[t,Sn(e)]}function FR(t,e,n){return[t,Sn(e),n]}var D9={},T9=["prefixPath","collectionGroup","readTime","documentId"],x9=["prefixPath","collectionGroup","documentId"],S9=["collectionGroup","readTime","prefixPath","documentId"],A9=["canonicalId","targetId"],M9=["targetId","path"],P9=["path","targetId"],R9=["collectionId","parent"],N9=["indexId","uid"],k9=["uid","sequenceNumber"],F9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],O9=["indexId","uid","orderedDocumentKey"],V9=["userId","collectionPath","documentId"],L9=["userId","collectionPath","largestBatchId"],j9=["userId","collectionGroup","largestBatchId"],OR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B9=[...OR,"documentOverlays"],VR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LR=VR,U9=[...LR,"indexConfiguration","indexState","indexEntries"];var zu=class extends ym{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function Yt(t,e){let n=$(t);return Eo.M(n.ae,e)}function kP(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rt=class t{constructor(e,n){this.comparator=e,this.root=n||ai.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}},cc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ai=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ai(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class t{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wm(this.data.getIterator())}getIteratorFrom(e){return new wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ja(t){return t.hasNext()?t.getNext():void 0}var tr=class t{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Qe(bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var _m=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function BR(){return typeof atob<"u"}var Qt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _m("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qt.EMPTY_BYTE_STRING=new Qt("");var $9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(J(!!t),typeof t=="string"){let e=0,n=$9.exec(t);if(J(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}function ug(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function QC(t){let e=t.mapValue.fields.__previous_value__;return ug(e)?QC(e):e}function Gu(t){let e=Co(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var aE=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Io=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lm={nullValue:"NULL_VALUE"};function xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ug(t)?4:UR(t)?9007199254740991:10:W()}function ui(t,e){if(t===e)return!0;let n=xs(t);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Co(i.timestampValue),a=Co(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return bo(i.bytesValue).isEqual(bo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return mt(i.geoPointValue.latitude)===mt(o.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return mt(i.integerValue)===mt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=mt(i.doubleValue),a=mt(o.doubleValue);return s===a?qu(s)===qu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kP(s)!==kP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ui(s[c],a[c])))return!1;return!0}(t,e);default:return W()}}function Wu(t,e){return(t.values||[]).find(n=>ui(n,e))!==void 0}function Do(t,e){if(t===e)return 0;let n=xs(t),r=xs(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=mt(o.integerValue||o.doubleValue),c=mt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return FP(t.timestampValue,e.timestampValue);case 4:return FP(Gu(t),Gu(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,s){let a=bo(o),c=bo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=ge(a[l],c[l]);if(d!==0)return d}return ge(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ge(mt(o.latitude),mt(s.latitude));return a!==0?a:ge(mt(o.longitude),mt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=Do(a[l],c[l]);if(d)return d}return ge(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===vo.mapValue&&s===vo.mapValue)return 0;if(o===vo.mapValue)return 1;if(s===vo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let v=ge(c[f],d[f]);if(v!==0)return v;let _=Do(a[c[f]],l[d[f]]);if(_!==0)return _}return ge(c.length,d.length)}(t.mapValue,e.mapValue);default:throw W()}}function FP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=Co(t),r=Co(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function pc(t){return cE(t)}function cE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=cE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${cE(n.fields[s])}`;return i+"}"}(t.mapValue):W()}function Ss(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lE(t){return!!t&&"integerValue"in t}function Ku(t){return!!t&&"arrayValue"in t}function OP(t){return!!t&&"nullValue"in t}function VP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function um(t){return!!t&&"mapValue"in t}function Lu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function H9(t){return"nullValue"in t?lm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ss(Io.empty(),j.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:W()}function q9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ss(Io.empty(),j.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vo:W()}function LP(t,e){let n=Do(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jP(t,e){let n=Do(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var vn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ls(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Lu(this.value))}};function $R(t){let e=[];return Ls(t.fields,(n,r)=>{let i=new bt([n]);if(um(r)){let o=$R(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new tr(e)}var Rt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var di=class{constructor(e,n){this.position=e,this.inclusive=n}};function BP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=j.comparator(j.fromName(s.referenceValue),n.key):r=Do(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}var As=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function z9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Em=class{},Pe=class t extends Em{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hE(e,n,r):n==="array-contains"?new mE(e,r):n==="in"?new Cm(e,r):n==="not-in"?new gE(e,r):n==="array-contains-any"?new yE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fE(e,r):new pE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qe=class t extends Em{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return mc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function mc(t){return t.op==="and"}function uE(t){return t.op==="or"}function YC(t){return HR(t)&&mc(t)}function HR(t){for(let e of t.filters)if(e instanceof qe)return!1;return!0}function dE(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(YC(t))return t.filters.map(e=>dE(e)).join(",");{let e=t.filters.map(n=>dE(n)).join(",");return`${t.op}(${e})`}}function qR(t,e){return t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.field.isEqual(i.field)&&ui(r.value,i.value)}(t,e):t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qR(s,i.filters[a]),!0):!1}(t,e):void W()}function zR(t,e){let n=t.filters.concat(e);return qe.create(n,t.op)}function GR(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${pc(n.value)}`}(t):t instanceof qe?function(n){return n.op.toString()+" {"+n.getFilters().map(GR).join(" ,")+"}"}(t):"Filter"}var hE=class extends Pe{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},fE=class extends Pe{constructor(e,n){super(e,"in",n),this.keys=WR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},pE=class extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=WR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function WR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var mE=class extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ku(n)&&Wu(n.arrayValue,this.value)}},Cm=class extends Pe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}},gE=class extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}},yE=class extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ku(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}};var vE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function wE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new vE(t,e,n,r,i,o,s)}function Ms(t){let e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pc(r)).join(",")),e.ce=n}return e.ce}function pd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UP(t.startAt,e.startAt)&&UP(t.endAt,e.endAt)}function bm(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Im(t,e){return t.filters.filter(n=>n instanceof Pe&&n.field.isEqual(e))}function $P(t,e,n){let r=lm,i=!0;for(let o of Im(t,e)){let s=lm,a=!0;switch(o.op){case"<":case"<=":s=H9(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=lm}LP({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];LP({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function HP(t,e,n){let r=vo,i=!0;for(let o of Im(t,e)){let s=vo,a=!0;switch(o.op){case">=":case">":s=q9(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=vo}jP({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];jP({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}var Fr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function KR(t,e,n,r,i,o,s,a){return new Fr(t,e,n,r,i,o,s,a)}function Ac(t){return new Fr(t)}function qP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZC(t){return t.collectionGroup!==null}function uc(t){let e=$(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qe(bt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new As(o,r))}),n.has(bt.keyField().canonicalString())||e.le.push(new As(bt.keyField(),r))}return e.le}function An(t){let e=$(t);return e.he||(e.he=G9(e,uc(t))),e.he}function G9(t,e){if(t.limitType==="F")return wE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new As(i.field,o)});let n=t.endAt?new di(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new di(t.startAt.position,t.startAt.inclusive):null;return wE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _E(t,e){let n=t.filters.concat([e]);return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dm(t,e,n){return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return pd(An(t),An(e))&&t.limitType===e.limitType}function QR(t){return`${Ms(An(t))}|lt:${t.limitType}`}function ic(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GR(i)).join(", ")}]`),fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pc(i)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):j.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of uc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=BP(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,uc(r),i)||r.endAt&&!function(s,a,c){let l=BP(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,uc(r),i))}(t,e)}function YR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZR(t){return(e,n)=>{let r=!1;for(let i of uc(t)){let o=W9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function W9(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Do(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var hi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return jR(this.inner)}size(){return this.innerSize}};var K9=new rt(j.comparator);function jn(){return K9}var XR=new rt(j.comparator);function Ou(...t){let e=XR;for(let n of t)e=e.insert(n.key,n);return e}function JR(t){let e=XR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return ju()}function eN(){return ju()}function ju(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}var Q9=new rt(j.comparator),Y9=new Qe(j.comparator);function ve(...t){let e=Y9;for(let n of t)e=e.add(n);return e}var Z9=new Qe(ge);function XC(){return Z9}function tN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function nN(t){return{integerValue:""+t}}function rN(t,e){return kR(e)?nN(e):tN(t,e)}var gc=class{constructor(){this._=void 0}};function X9(t,e,n){return t instanceof To?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ug(o)&&(o=QC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Li?oN(t,e):t instanceof ji?sN(t,e):function(i,o){let s=iN(i,o),a=zP(s)+zP(i.Ie);return lE(s)&&lE(i.Ie)?nN(a):tN(i.serializer,a)}(t,e)}function J9(t,e,n){return t instanceof Li?oN(t,e):t instanceof ji?sN(t,e):n}function iN(t,e){return t instanceof xo?function(r){return lE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var To=class extends gc{},Li=class extends gc{constructor(e){super(),this.elements=e}};function oN(t,e){let n=aN(e);for(let r of t.elements)n.some(i=>ui(i,r))||n.push(r);return{arrayValue:{values:n}}}var ji=class extends gc{constructor(e){super(),this.elements=e}};function sN(t,e){let n=aN(e);for(let r of t.elements)n=n.filter(i=>!ui(i,r));return{arrayValue:{values:n}}}var xo=class extends gc{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function zP(t){return mt(t.integerValue||t.doubleValue)}function aN(t){return Ku(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ps=class{constructor(e,n){this.field=e,this.transform=n}};function eq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Li&&i instanceof Li||r instanceof ji&&i instanceof ji?hc(r.elements,i.elements,ui):r instanceof xo&&i instanceof xo?ui(r.Ie,i.Ie):r instanceof To&&i instanceof To}(t.transform,e.transform)}var EE=class{constructor(e,n){this.version=e,this.transformResults=n}},gt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var yc=class{};function cN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ao(t.key,gt.none()):new So(t.key,t.data,gt.none());{let n=t.data,r=vn.empty(),i=new Qe(bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Or(t.key,r,new tr(i.toArray()),gt.none())}}function tq(t,e,n){t instanceof So?function(i,o,s){let a=i.value.clone(),c=WP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Or?function(i,o,s){if(!dm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=WP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(lN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bu(t,e,n,r){return t instanceof So?function(o,s,a,c){if(!dm(o.precondition,s))return a;let l=o.value.clone(),d=KP(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Or?function(o,s,a,c){if(!dm(o.precondition,s))return a;let l=KP(o.fieldTransforms,c,s),d=s.data;return d.setAll(lN(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return dm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function nq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=iN(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function GP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,(o,s)=>eq(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var So=class extends yc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Or=class extends yc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function WP(t,e,n){let r=new Map;J(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,J9(s,a,n[i]))}return r}function KP(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,X9(o,s,e))}return r}var Ao=class extends yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qu=class extends yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yu=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&tq(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=eN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=cN(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(n,r)=>GP(n,r))&&hc(this.baseMutations,e.baseMutations,(n,r)=>GP(n,r))}},CE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){J(e.mutations.length===r.length);let i=function(){return Q9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Zu=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var bE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var St,Re;function uN(t){switch(t){default:return W();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function dN(t){if(t===void 0)return Ct("GRPC error has no .code"),D.UNKNOWN;switch(t){case St.OK:return D.OK;case St.CANCELLED:return D.CANCELLED;case St.UNKNOWN:return D.UNKNOWN;case St.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case St.INTERNAL:return D.INTERNAL;case St.UNAVAILABLE:return D.UNAVAILABLE;case St.UNAUTHENTICATED:return D.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case St.NOT_FOUND:return D.NOT_FOUND;case St.ALREADY_EXISTS:return D.ALREADY_EXISTS;case St.PERMISSION_DENIED:return D.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case St.ABORTED:return D.ABORTED;case St.OUT_OF_RANGE:return D.OUT_OF_RANGE;case St.UNIMPLEMENTED:return D.UNIMPLEMENTED;case St.DATA_LOSS:return D.DATA_LOSS;default:return W()}}(Re=St||(St={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var QP=null;function hN(){return new TextEncoder}var rq=new vs([4294967295,4294967295],0);function YP(t){let e=hN().encode(t),n=new AP;return n.update(e),new Uint8Array(n.digest())}function ZP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vs([n,r],0),new vs([i,o],0)]}var IE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=vs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(vs.fromNumber(r)));return i.compare(rq)===1&&(i=new vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=YP(e),[r,i]=ZP(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=YP(e),[r,i]=ZP(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ds=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Xu=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ju.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new rt(ge),jn(),ve())}},Ju=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var dc=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Tm=class{constructor(e,n){this.targetId=e,this.fe=n}},xm=class{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Sm=class{constructor(){this.ge=0,this.pe=JP(),this.ye=Qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ve(),n=ve(),r=ve();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new Ju(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=JP()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,J(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},DE=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=jn(),this.Qe=XP(),this.Ke=new rt(ge)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(bm(o))if(r===0){let s=new j(o.path);this.We(n,s,Rt.newNoDocument(s,ee.min()))}else J(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}QP?.tt(function(d,f,v,_,b){var T,M,O,K,B,te;let ie={localCacheCount:d,existenceFilterCount:f.count,databaseId:v.database,projectId:v.projectId},ce=f.unchangedNames;return ce&&(ie.bloomFilter={applied:b===0,hashCount:(T=ce?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(K=(O=(M=ce?.bits)===null||M===void 0?void 0:M.bitmap)===null||O===void 0?void 0:O.length)!==null&&K!==void 0?K:0,padding:(te=(B=ce?.bits)===null||B===void 0?void 0:B.padding)!==null&&te!==void 0?te:0,mightContain:ze=>{var Pn;return(Pn=_?.mightContain(ze))!==null&&Pn!==void 0&&Pn}}),ie}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=bo(r).toUint8Array()}catch(c){if(c instanceof _m)return pr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new IE(s,i,o)}catch(c){return pr(c instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&bm(a.target)){let c=new j(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,Rt.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ve();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new Xu(e,n,this.Ke,this.qe,r);return this.qe=jn(),this.Qe=XP(),this.Ke=new rt(ge),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Sm,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Qe(ge),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Sm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function XP(){return new rt(j.comparator)}function JP(){return new rt(j.comparator)}var iq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sq=(()=>({and:"AND",or:"OR"}))(),TE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function xE(t,e){return t.useProto3Json||fd(e)?e:{value:e}}function vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aq(t,e){return vc(t,e.toTimestamp())}function It(t){return J(!!t),ee.fromTimestamp(function(n){let r=Co(n);return new ut(r.seconds,r.nanos)}(t))}function JC(t,e){return function(r){return new Oe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function pN(t){let e=Oe.fromString(t);return J(bN(e)),e}function ed(t,e){return JC(t.databaseId,e.path)}function ci(t,e){let n=pN(e);if(n.get(1)!==t.databaseId.projectId)throw new N(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(gN(n))}function SE(t,e){return JC(t.databaseId,e)}function mN(t){let e=pN(t);return e.length===4?Oe.emptyPath():gN(e)}function td(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gN(t){return J(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eR(t,e,n){return{name:ed(t,e),fields:n.value.mapValue.fields}}function yN(t,e,n){let r=ci(t,e.name),i=It(e.updateTime),o=e.createTime?It(e.createTime):ee.min(),s=new vn({mapValue:{fields:e.fields}}),a=Rt.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function cq(t,e){return"found"in e?function(r,i){J(!!i.found),i.found.name,i.found.updateTime;let o=ci(r,i.found.name),s=It(i.found.updateTime),a=i.found.createTime?It(i.found.createTime):ee.min(),c=new vn({mapValue:{fields:i.found.fields}});return Rt.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){J(!!i.missing),J(!!i.readTime);let o=ci(r,i.missing),s=It(i.readTime);return Rt.newNoDocument(o,s)}(t,e):W()}function lq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(J(d===void 0||typeof d=="string"),Qt.fromBase64String(d||"")):(J(d===void 0||d instanceof Uint8Array),Qt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let d=l.code===void 0?D.UNKNOWN:dN(l.code);return new N(d,l.message||"")}(s);n=new xm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ci(t,r.document.name),o=It(r.document.updateTime),s=r.document.createTime?It(r.document.createTime):ee.min(),a=new vn({mapValue:{fields:r.document.fields}}),c=Rt.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new dc(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ci(t,r.document),o=r.readTime?It(r.readTime):ee.min(),s=Rt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new dc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ci(t,r.document),o=r.removedTargetIds||[];n=new dc([],o,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new bE(i,o),a=r.targetId;n=new Tm(a,s)}}return n}function nd(t,e){let n;if(e instanceof So)n={update:eR(t,e.key,e.value)};else if(e instanceof Ao)n={delete:ed(t,e.key)};else if(e instanceof Or)n={update:eR(t,e.key,e.data),updateMask:mq(e.fieldMask)};else{if(!(e instanceof Qu))return W();n={verify:ed(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof To)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Li)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ji)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xo)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function AE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?gt.updateTime(It(o.updateTime)):o.exists!==void 0?gt.exists(o.exists):gt.none()}(e.currentDocument):gt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)J(a.setToServerValue==="REQUEST_TIME"),c=new To;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Li(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new ji(d)}else"increment"in a?c=new xo(s,a.increment):W();let l=bt.fromServerFormat(a.fieldPath);return new Ps(l,c)}(t,i)):[];if(e.update){e.update.name;let i=ci(t,e.update.name),o=new vn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new tr(l.map(d=>bt.fromServerFormat(d)))}(e.updateMask);return new Or(i,o,s,n,r)}return new So(i,o,n,r)}if(e.delete){let i=ci(t,e.delete);return new Ao(i,n)}if(e.verify){let i=ci(t,e.verify);return new Qu(i,n)}return W()}function uq(t,e){return t&&t.length>0?(J(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?It(i.updateTime):It(o);return s.isEqual(ee.min())&&(s=It(o)),new EE(s,i.transformResults||[])}(n,e))):[]}function vN(t,e){return{documents:[SE(t,e.path)]}}function wN(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=SE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=SE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return CN(qe.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(c){if(c.length!==0)return c.map(l=>function(f){return{field:oc(f.field),direction:hq(f.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=xE(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function _N(t){let e=mN(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){J(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){let v=EN(f);return v instanceof qe&&YC(v)?v.getFilters():[v]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(v=>function(b){return new As(sc(b.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(f){let v;return v=typeof f=="object"?f.value:f,fd(v)?null:v}(n.limit));let c=null;n.startAt&&(c=function(f){let v=!!f.before,_=f.values||[];return new di(_,v)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let v=!f.before,_=f.values||[];return new di(_,v)}(n.endAt)),KR(e,i,s,o,a,"F",c,l)}function dq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=sc(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=sc(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=sc(n.unaryFilter.field);return Pe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=sc(n.unaryFilter.field);return Pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(sc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qe.create(n.compositeFilter.filters.map(r=>EN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function hq(t){return iq[t]}function fq(t){return oq[t]}function pq(t){return sq[t]}function oc(t){return{fieldPath:t.canonicalString()}}function sc(t){return bt.fromServerFormat(t.fieldPath)}function CN(t){return t instanceof Pe?function(n){if(n.op==="=="){if(VP(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NAN"}};if(OP(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VP(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NAN"}};if(OP(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(n.field),op:fq(n.op),value:n.value}}}(t):t instanceof qe?function(n){let r=n.getFilters().map(i=>CN(i));return r.length===1?r[0]:{compositeFilter:{op:pq(n.op),filters:r}}}(t):W()}function mq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var wc=class t{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=Qt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Am=class{constructor(e){this.ut=e}};function gq(t,e){let n;if(e.document)n=yN(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=j.fromSegments(e.noDocument.path),i=Ns(e.noDocument.readTime);n=Rt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return W();{let r=j.fromSegments(e.unknownDocument.path),i=Ns(e.unknownDocument.version);n=Rt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let o=new ut(i[0],i[1]);return ee.fromTimestamp(o)}(e.readTime)),n}function tR(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:ed(o,s.key),fields:s.data.value.mapValue.fields,updateTime:vc(o,s.version.toTimestamp()),createTime:vc(o,s.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rs(e.version)};else{if(!e.isUnknownDocument())return W();r.unknownDocument={path:n.path.toArray(),version:Rs(e.version)}}return r}function Mm(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rs(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ns(t){let e=new ut(t.seconds,t.nanoseconds);return ee.fromTimestamp(e)}function Cs(t,e){let n=(e.baseMutations||[]).map(o=>AE(t.ut,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>AE(t.ut,o)),i=ut.fromMillis(e.localWriteTimeMs);return new Yu(e.batchId,i,n,r)}function Vu(t){let e=Ns(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ns(t.lastLimboFreeSnapshotVersion):ee.min(),r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return J(o.documents.length===1),An(Ac(mN(o.documents[0])))}(t.query):function(o){return An(_N(o))}(t.query),new wc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Qt.fromBase64String(t.resumeToken))}function IN(t,e){let n=Rs(e.snapshotVersion),r=Rs(e.lastLimboFreeSnapshotVersion),i;i=bm(e.target)?vN(t.ut,e.target):wN(t.ut,e.target);let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ms(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function eb(t){let e=_N({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dm(e,e.limit,"L"):e}function z_(t,e){return new Zu(e.largestBatchId,AE(t.ut,e.overlayMutation))}function nR(t,e){let n=e.path.lastSegment();return[t,Sn(e.path.popLast()),n]}function rR(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Rs(r.readTime),documentKey:Sn(r.documentKey.path),largestBatchId:r.largestBatchId}}var ME=class{getBundleMetadata(e,n){return iR(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ns(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return iR(e).put(function(i){return{bundleId:i.id,createTime:Rs(It(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return oR(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:eb(o.bundledQuery),readTime:Ns(o.readTime)}}(r)})}saveNamedQuery(e,n){return oR(e).put(function(i){return{name:i.name,readTime:Rs(It(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function iR(t){return Yt(t,"bundles")}function oR(t){return Yt(t,"namedQueries")}var Pm=class t{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return Ru(e).get(nR(this.userId,n)).next(r=>r?z_(this.serializer,r):null)}getOverlays(e,n){let r=si();return I.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((o,s)=>{let a=new Zu(n,s);i.push(this.lt(e,a))}),I.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(s=>i.add(Sn(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ru(e).H("collectionPathOverlayIndex",a))}),I.waitFor(o)}getOverlaysForCollection(e,n,r){let i=si(),o=Sn(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ru(e).W("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=z_(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let o=si(),s,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ru(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{let f=z_(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}lt(e,n){return Ru(e).put(function(i,o,s){let[a,c,l]=nR(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:nd(i.ut,s.mutation)}}(this.serializer,this.userId,n))}};function Ru(t){return Yt(t,"documentOverlays")}var Oi=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(mt(e.integerValue));else if("doubleValue"in e){let r=mt(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),qu(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(bo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?UR(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),j.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Oi.St=new Oi;function yq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function sR(t){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=yq(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}var PE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{let i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){let n=this.Bt(e),r=sR(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){let n=this.Bt(e),r=sR(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){let n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){let n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},RE=class{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}},NE=class{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}},bs=class{constructor(){this.Wt=new PE,this.Gt=new RE(this.Wt),this.zt=new NE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}};var Is=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function po(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=aR(t.arrayValue,e.arrayValue),n!==0?n:(n=aR(t.directionalValue,e.directionalValue),n!==0?n:j.comparator(t.documentKey,e.documentKey)))}function aR(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Rm=class{constructor(e){this.Jt=new Qe((n,r)=>bt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(J(e.collectionGroup===this.collectionId),this.Xt)return!1;let n=nE(e);if(n!==void 0&&!this.tn(n))return!1;let r=_s(e),i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){let a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.Yt.length||!this.rn(this.Yt[s++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Qe(bt.comparator),n=[];for(let r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new lc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new lc(r.field,0))}for(let r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new lc(r.field,r.dir==="asc"?0:1)));return new fc(fc.UNKNOWN_ID,this.collectionId,n,Hu.empty())}tn(e){for(let n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function DN(t){var e,n;if(J(t instanceof Pe||t instanceof qe),t instanceof Pe){if(t instanceof Cm){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Pe.create(t.field,"==",o)))||[];return qe.create(i,"or")}return t}let r=t.filters.map(i=>DN(i));return qe.create(r,t.op)}function vq(t){if(t.getFilters().length===0)return[];let e=OE(DN(t));return J(TN(e)),kE(e)||FE(e)?[e]:e.getFilters()}function kE(t){return t instanceof Pe}function FE(t){return t instanceof qe&&YC(t)}function TN(t){return kE(t)||FE(t)||function(n){if(n instanceof qe&&uE(n)){for(let r of n.getFilters())if(!kE(r)&&!FE(r))return!1;return!0}return!1}(t)}function OE(t){if(J(t instanceof Pe||t instanceof qe),t instanceof Pe)return t;if(t.filters.length===1)return OE(t.filters[0]);let e=t.filters.map(r=>OE(r)),n=qe.create(e,t.op);return n=Nm(n),TN(n)?n:(J(n instanceof qe),J(mc(n)),J(n.filters.length>1),n.filters.reduce((r,i)=>tb(r,i)))}function tb(t,e){let n;return J(t instanceof Pe||t instanceof qe),J(e instanceof Pe||e instanceof qe),n=t instanceof Pe?e instanceof Pe?function(i,o){return qe.create([i,o],"and")}(t,e):cR(t,e):e instanceof Pe?cR(e,t):function(i,o){if(J(i.filters.length>0&&o.filters.length>0),mc(i)&&mc(o))return zR(i,o.getFilters());let s=uE(i)?i:o,a=uE(i)?o:i,c=s.filters.map(l=>tb(l,a));return qe.create(c,"or")}(t,e),Nm(n)}function cR(t,e){if(mc(e))return zR(e,t.getFilters());{let n=e.filters.map(r=>tb(t,r));return qe.create(n,"or")}}function Nm(t){if(J(t instanceof Pe||t instanceof qe),t instanceof Pe)return t;let e=t.getFilters();if(e.length===1)return Nm(e[0]);if(HR(t))return t;let n=e.map(i=>Nm(i)),r=[];return n.forEach(i=>{i instanceof Pe?r.push(i):i instanceof qe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:qe.create(r,t.op)}var VE=class{constructor(){this.on=new rd}addToCollectionParentIndex(e,n){return this.on.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(mr.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}},rd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Oe.comparator)).toArray()}};var im=new Uint8Array(0),LE=class{constructor(e,n){this.user=e,this.databaseId=n,this._n=new rd,this.an=new hi(r=>Ms(r),(r,i)=>pd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});let o={collectionId:r,parent:Sn(i)};return lR(e).put(o)}return I.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[MR(n),""],!1,!0);return lR(e).W(i).next(o=>{for(let s of o){if(s.collectionId!==n)break;r.push(oi(s.parent))}return r})}addFieldIndex(e,n){let r=Nu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let o=r.add(i);if(n.indexState){let s=tc(e);return o.next(a=>{s.put(rR(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let r=Nu(e),i=tc(e),o=ec(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Nu(e),r=ec(e),i=tc(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return I.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new Rm(r).sn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let r=ec(e),i=!0,o=new Map;return I.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ve(),a=[];return I.forEach(o,(c,l)=>{F("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(te=>`${te.fieldPath}:${te.kind}`).join(",")}`}(c)} to execute ${Ms(n)}`);let d=function(B,te){let ie=nE(te);if(ie===void 0)return null;for(let ce of Im(B,ie.fieldPath))switch(ce.op){case"array-contains-any":return ce.value.arrayValue.values||[];case"array-contains":return[ce.value]}return null}(l,c),f=function(B,te){let ie=new Map;for(let ce of _s(te))for(let ze of Im(B,ce.fieldPath))switch(ze.op){case"==":case"in":ie.set(ce.fieldPath.canonicalString(),ze.value);break;case"not-in":case"!=":return ie.set(ce.fieldPath.canonicalString(),ze.value),Array.from(ie.values())}return null}(l,c),v=function(B,te){let ie=[],ce=!0;for(let ze of _s(te)){let Pn=ze.kind===0?$P(B,ze.fieldPath,B.startAt):HP(B,ze.fieldPath,B.startAt);ie.push(Pn.value),ce&&(ce=Pn.inclusive)}return new di(ie,ce)}(l,c),_=function(B,te){let ie=[],ce=!0;for(let ze of _s(te)){let Pn=ze.kind===0?HP(B,ze.fieldPath,B.endAt):$P(B,ze.fieldPath,B.endAt);ie.push(Pn.value),ce&&(ce=Pn.inclusive)}return new di(ie,ce)}(l,c),b=this.ln(c,l,v),T=this.ln(c,l,_),M=this.hn(c,l,f),O=this.Pn(c.indexId,d,b,v.inclusive,T,_.inclusive,M);return I.forEach(O,K=>r.j(K,n.limit).next(B=>{B.forEach(te=>{let ie=j.fromSegments(te.documentKey);s.has(ie)||(s=s.add(ie),a.push(ie))})}))}).next(()=>a)}return I.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=vq(qe.create(e.filters,"and")).map(r=>wE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){let c=(n!=null?n.length:1)*Math.max(r.length,o.length),l=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let v=n?this.In(n[f/l]):im,_=this.Tn(e,v,r[f%l],i),b=this.En(e,v,o[f%l],s),T=a.map(M=>this.Tn(e,v,M,!0));d.push(...this.createRange(_,b,T))}return d}Tn(e,n,r,i){let o=new Is(e,j.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){let o=new Is(e,j.empty(),n,r);return i?o.Ht():o}cn(e,n){let r=new Rm(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2,i=this.un(n);return I.forEach(i,o=>this.cn(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let l=new Qe(bt.comparator),d=!1;for(let f of c.filters)for(let v of f.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?d=!0:l=l.add(v.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){let r=new bs;for(let i of _s(e)){let o=n.data.field(i.fieldPath);if(o==null)return null;let s=r.jt(i.kind);Oi.St.ht(o,s)}return r.Ut()}In(e){let n=new bs;return Oi.St.ht(e,n.jt(0)),n.Ut()}An(e,n){let r=new bs;return Oi.St.ht(Ss(this.databaseId,n),r.jt(function(o){let s=_s(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new bs);let o=0;for(let s of _s(e)){let a=r[o++];for(let c of i)if(this.Rn(n,s.fieldPath)&&Ku(a))i=this.Vn(i,s,a);else{let l=c.jt(s.kind);Oi.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new bs;c.seed(a.Ut()),Oi.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof Pe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=Nu(e),i=tc(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{let s=[];return I.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(d,f){let v=f?new Hu(f.sequenceNumber,new mr(Ns(f.readTime),new j(oi(f.documentKey)),f.largestBatchId)):Hu.empty(),_=d.fields.map(([b,T])=>new lc(bt.fromServerFormat(b),T));return new fc(d.indexId,d.collectionGroup,_,v)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=Nu(e),o=tc(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>I.forEach(a,c=>o.put(rR(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){let r=new Map;return I.forEach(n,(i,o)=>{let s=r.get(i.collectionGroup);return(s?I.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),I.forEach(a,c=>this.gn(e,i,c).next(l=>{let d=this.pn(o,c);return l.isEqual(d)?I.resolve():this.yn(e,o,c,l,d)}))))})}wn(e,n,r,i){return ec(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return ec(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){let i=ec(e),o=new Qe(po);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new Is(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new Qe(po),i=this.dn(n,e);if(i==null)return r;let o=nE(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Ku(s))for(let a of s.arrayValue.values||[])r=r.add(new Is(n.indexId,e.key,this.In(a),i))}else r=r.add(new Is(n.indexId,e.key,im,i));return r}yn(e,n,r,i,o){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,d,f,v){let _=c.getIterator(),b=l.getIterator(),T=Ja(_),M=Ja(b);for(;T||M;){let O=!1,K=!1;if(T&&M){let B=d(T,M);B<0?K=!0:B>0&&(O=!0)}else T!=null?K=!0:O=!0;O?(f(M),M=Ja(b)):K?(v(T),T=Ja(_)):(T=Ja(_),M=Ja(b))}}(i,o,po,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),I.waitFor(s)}fn(e){let n=1;return tc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>po(s,a)).filter((s,a,c)=>!a||po(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=po(s,e),c=po(s,n);if(a===0)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);let o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,im,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,im,[]];o.push(IDBKeyRange.bound(a,c))}return o}bn(e,n){return po(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(uR)}getMinOffset(e,n){return I.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||W())).next(uR)}};function lR(t){return Yt(t,"collectionParents")}function ec(t){return Yt(t,"indexEntries")}function Nu(t){return Yt(t,"indexConfiguration")}function tc(t){return Yt(t,"indexState")}function uR(t){J(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;WC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new mr(e.readTime,e.documentKey,n)}var dR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function xN(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.Y({range:s},(d,f,v)=>(a++,v.delete()));o.push(c.next(()=>{J(a===1)}));let l=[];for(let d of n.mutations){let f=FR(e,d.key.path,n.batchId);o.push(i.delete(f)),l.push(d.key)}return I.waitFor(o).next(()=>l)}function km(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw W();e=t.noDocument}return JSON.stringify(e).length}fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);var Fm=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){J(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let o=ac(e),s=mo(e);return s.add({}).next(a=>{J(typeof a=="number");let c=new Yu(a,n,r,i),l=function(_,b,T){let M=T.baseMutations.map(K=>nd(_.ut,K)),O=T.mutations.map(K=>nd(_.ut,K));return{userId:b,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:M,mutations:O}}(this.serializer,this.userId,c),d=[],f=new Qe((v,_)=>ge(v.canonicalString(),_.canonicalString()));for(let v of i){let _=FR(this.userId,v.key.path,a);f=f.add(v.key.path.popLast()),d.push(s.put(l)),d.push(o.put(_,D9))}return f.forEach(v=>{d.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),I.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return mo(e).get(n).next(r=>r?(J(r.userId===this.userId),Cs(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?I.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return mo(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(J(a.batchId>=r),o=Cs(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return mo(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).W("userMutationsIndex",n).next(r=>r.map(i=>Cs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=cm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ac(e).Y({range:i},(s,a,c)=>{let[l,d,f]=s,v=oi(d);if(l===this.userId&&n.path.isEqual(v))return mo(e).get(f).next(_=>{if(!_)throw W();J(_.userId===this.userId),o.push(Cs(this.serializer,_))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ge),i=[];return n.forEach(o=>{let s=cm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=ac(e).Y({range:a},(l,d,f)=>{let[v,_,b]=l,T=oi(_);v===this.userId&&o.path.isEqual(T)?r=r.add(b):f.done()});i.push(c)}),I.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=cm(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Qe(ge);return ac(e).Y({range:s},(c,l,d)=>{let[f,v,_]=c,b=oi(v);f===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(_)):d.done()}).next(()=>this.vn(e,a))}vn(e,n){let r=[],i=[];return n.forEach(o=>{i.push(mo(e).get(o).next(s=>{if(s===null)throw W();J(s.userId===this.userId),r.push(Cs(this.serializer,s))}))}),I.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return xN(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),I.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return I.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return ac(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=oi(o[1]);i.push(c)}else a.done()}).next(()=>{J(i.length===0)})})}containsKey(e,n){return SN(e,this.userId,n)}Mn(e){return AN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function SN(t,e,n){let r=cm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ac(t).Y({range:o,J:!0},(a,c,l)=>{let[d,f,v]=a;d===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function mo(t){return Yt(t,"mutations")}function ac(t){return Yt(t,"documentMutations")}function AN(t){return Yt(t,"mutationQueues")}var _c=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var jE=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new _c(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ee.fromTimestamp(new ut(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(J(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0,o=[];return nc(e).Y((s,a)=>{let c=Vu(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>I.waitFor(o)).next(()=>i)}forEachTarget(e,n){return nc(e).Y((r,i)=>{let o=Vu(i);n(o)})}Bn(e){return hR(e).get("targetGlobalKey").next(n=>(J(n!==null),n))}Ln(e,n){return hR(e).put("targetGlobalKey",n)}kn(e,n){return nc(e).put(IN(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=Ms(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return nc(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let l=Vu(a);pd(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){let i=[],o=go(e);return n.forEach(s=>{let a=Sn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),I.waitFor(i)}removeMatchingKeys(e,n,r){let i=go(e);return I.forEach(n,o=>{let s=Sn(o.path);return I.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){let r=go(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=go(e),o=ve();return i.Y({range:r,J:!0},(s,a,c)=>{let l=oi(s[1]),d=new j(l);o=o.add(d)}).next(()=>o)}containsKey(e,n){let r=Sn(n.path),i=IDBKeyRange.bound([r],[MR(r)],!1,!0),o=0;return go(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return nc(e).get(n).next(r=>r?Vu(r):null)}};function nc(t){return Yt(t,"targets")}function hR(t){return Yt(t,"targetGlobal")}function go(t){return Yt(t,"targetDocuments")}function fR([t,e],[n,r]){let i=ge(t,n);return i===0?ge(e,r):i}var BE=class{constructor(e){this.Qn=e,this.buffer=new Qe(fR),this.Kn=0}$n(){return++this.Kn}Un(e){let n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();fR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},UE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>A(this,null,function*(){this.Wn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Po(n)}yield this.Gn(3e5)}))}},$E=class{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return I.resolve(er._e);let r=new BE(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),I.resolve(dR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dR):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),rc()<=Hr.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),I.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function wq(t,e){return new $E(t,e)}var HE=class{constructor(e,n){this.db=e,this.garbageCollector=wq(this,n)}jn(e){let n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return om(e,r)}removeReference(e,n,r){return om(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return om(e,n)}Xn(e,n){return function(i,o){let s=!1;return AN(i).Z(a=>SN(i,a,o).next(c=>(c&&(s=!0),I.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Zn(e,(s,a)=>{if(a<=n){let c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ee.min()),go(e).delete(function(f){return[0,Sn(f.path)]}(s))))});i.push(c)}}).next(()=>I.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return om(e,n)}Zn(e,n){let r=go(e),i,o=er._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==er._e&&n(new j(oi(i)),o),o=l,i=c):o=er._e}).next(()=>{o!==er._e&&n(new j(oi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function om(t,e){return go(t).put(function(r,i){return{targetId:0,path:Sn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Om=class{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qE=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ws(e).put(r)}removeEntry(e,n,r){return ws(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Mm(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Rt.newInvalidDocument(n);return ws(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ku(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:Rt.newInvalidDocument(n)};return ws(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ku(n))},(i,o)=>{r={document:this.tr(n,o),size:km(o)}}).next(()=>r)}getEntries(e,n){let r=jn();return this.rr(e,n,(i,o)=>{let s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=jn(),i=new rt(j.comparator);return this.rr(e,n,(o,s)=>{let a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,km(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return I.resolve();let i=new Qe(gR);n.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(ku(i.first()),ku(i.last())),s=i.getIterator(),a=s.getNext();return ws(e).Y({index:"documentKeyIndex",range:o},(c,l,d)=>{let f=j.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&gR(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?d.U(ku(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Mm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ws(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let d=jn();for(let f of l){let v=this.tr(j.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);v.isFoundDocument()&&(gd(n,v)||i.has(v.key))&&(d=d.insert(v.key,v))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=jn(),s=mR(n,r),a=mR(n,mr.max());return ws(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{let f=this.tr(j.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new zE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return pR(e).get("remoteDocumentGlobalKey").next(n=>(J(!!n),n))}er(e,n){return pR(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){let r=gq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ee.min())))return r}return Rt.newInvalidDocument(e)}};function MN(t){return new qE(t)}var zE=class extends Om{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new hi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Qe((o,s)=>ge(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=tR(this._r.serializer,s);i=i.add(o.path.popLast());let l=km(c);r+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=tR(this._r.serializer,s.convertToNoDocument(ee.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),I.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function pR(t){return Yt(t,"remoteDocumentGlobal")}function ws(t){return Yt(t,"remoteDocumentsV14")}function ku(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mR(t,e){let n=e.documentKey.path.toArray();return[t,Mm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gR(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ge(n[o],r[o]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}var GE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Vm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bu(r.mutation,i,tr.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ou();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=jn(),s=ju(),a=function(){return ju()}();return n.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Or)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),Bu(d.mutation,l,d.mutation.getFieldMask(),ut.now())):s.set(l.key,tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new GE(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ju(),i=new rt((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=r.get(c)||tr.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||ve()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=eN();d.forEach(v=>{if(!o.has(v)){let _=cN(n.get(v),r.get(v));_!==null&&f.set(v,_),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return I.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):I.resolve(si()),a=-1,c=o;return s.next(l=>I.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?I.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ve())).next(d=>({batchId:a,changes:JR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ou();return this.indexManager.getCollectionParents(e,o).next(a=>I.forEach(a,c=>{let l=function(f,v){return new Fr(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,v)=>{s=s.insert(f,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,Rt.newInvalidDocument(d)))});let a=Ou();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&Bu(d.mutation,l,tr.empty(),ut.now()),gd(n,l)&&(a=a.insert(c,l))}),a})}};var WE=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return I.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:It(i.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:eb(i.bundledQuery),readTime:It(i.readTime)}}(n)),I.resolve()}};var KE=class{constructor(){this.overlays=new rt(j.comparator),this.lr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){let r=si();return I.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),I.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){let i=si(),o=n.length+1,s=new j(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new rt((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=si(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=si(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return I.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zu(n,r));let o=this.lr.get(n);o===void 0&&(o=ve(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}};var id=class{constructor(){this.hr=new Qe(At.Pr),this.Ir=new Qe(At.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new At(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new At(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new j(new Oe([])),r=new At(n,e),i=new At(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new j(new Oe([])),r=new At(n,e),i=new At(n,e+1),o=ve();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new At(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},At=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return j.comparator(e.key,n.key)||ge(e.gr,n.gr)}static Tr(e,n){return ge(e.gr,n.gr)||j.comparator(e.key,n.key)}};var QE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Qe(At.Pr)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Yu(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.yr=this.yr.add(new At(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(s)}lookupMutationBatch(e,n){return I.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),o=i<0?0:i;return I.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{let a=this.wr(s.gr);o.push(a)}),I.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ge);return n.forEach(i=>{let o=new At(i,0),s=new At(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),I.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;j.isDocumentKey(o)||(o=o.child(""));let s=new At(new j(o),0),a=new Qe(ge);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),I.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){J(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return I.forEach(n.mutations,i=>{let o=new At(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new At(n,0),i=this.yr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var YE=class{constructor(e){this.Cr=e,this.docs=function(){return new rt(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rt.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=jn(),s=n.path,a=new j(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||WC(RR(d),r)<=0||(i.has(d.key)||gd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return I.resolve(o)}getAllFromCollectionGroup(e,n,r,i){W()}vr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZE(this)}getSize(e){return I.resolve(this.size)}},ZE=class extends Om{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var XE=class{constructor(e){this.persistence=e,this.Fr=new hi(n=>Ms(n),pd),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Mr=0,this.Or=new id,this.targetCount=0,this.Nr=_c.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),I.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new _c(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.kn(n),I.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(o).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),I.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),I.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Or.containsKey(n))}};var Lm=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new er(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new XE(this),this.indexManager=new VE,this.remoteDocumentCache=function(i){return new YE(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Am(n),this.Kr=new WE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new QE(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new JE(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return I.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},JE=class extends ym{constructor(e){super(),this.currentSequenceNumber=e}},jm=class t{constructor(e){this.persistence=e,this.Gr=new id,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),I.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,r=>{let i=j.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return I.or([()=>I.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var eC=class{constructor(e){this.serializer=e}N(e,n,r,i){let o=new vm("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NP,{unique:!0}),c.createObjectStore("documentMutations")}(e),yR(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=I.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),yR(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ee.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NP,{unique:!0});let f=l.store("mutations"),v=d.map(_=>f.put(_));return I.waitFor(v)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:V9});l.createIndex("collectionPathOverlayIndex",L9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",j9,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:T9});l.createIndex("documentKeyIndex",x9),l.createIndex("collectionGroupIndex",S9)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:N9}).createIndex("sequenceNumberIndex",k9,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:F9}).createIndex("documentKeyIndex",O9,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=km(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>I.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>I.forEach(a,c=>{J(c.userId===o.userId);let l=Cs(this.serializer,c);return xN(e,o.userId,l).next(()=>{})}))}))}ei(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.Y((s,a)=>{let c=new Oe(s),l=function(f){return[0,Sn(f)]}(c);o.push(n.get(l).next(d=>d?I.resolve():(f=>n.put({targetId:0,path:Sn(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>I.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:R9});let r=n.store("collectionParents"),i=new rd,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Sn(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{let c=new Oe(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{let d=oi(a);return o(d.popLast())}))}ni(e){let n=e.store("targets");return n.Y((r,i)=>{let o=Vu(i),s=IN(this.serializer,o);return n.put(s)})}ri(e,n){let r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new j(Oe.fromString(f.document.name).popFirst(5)):f.noDocument?j.fromSegments(f.noDocument.path):f.unknownDocument?j.fromSegments(f.unknownDocument.path):W()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>I.waitFor(i))}ii(e,n){let r=n.store("mutations"),i=MN(this.serializer),o=new Lm(jm.jr,this.serializer.ut);return r.W().next(s=>{let a=new Map;return s.forEach(c=>{var l;let d=(l=a.get(c.userId))!==null&&l!==void 0?l:ve();Cs(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),I.forEach(a,(c,l)=>{let d=new Mt(l),f=Pm.ct(this.serializer,d),v=o.getIndexManager(d),_=Fm.ct(d,this.serializer,v,o.referenceDelegate);return new Vm(i,_,f,v).recalculateAndSaveOverlaysForDocumentKeys(new zu(n,er._e),c).next()})})}};function yR(t){t.createObjectStore("targetDocuments",{keyPath:M9}).createIndex("documentTargetsIndex",P9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",A9,{unique:!0}),t.createObjectStore("targetGlobal")}var G_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tC=class t{constructor(e,n,r,i,o,s,a,c,l,d,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=d,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=v=>Promise.resolve(),!t.D())throw new N(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HE(this,i),this.Ii=n+"main",this.serializer=new Am(c),this.Ti=new Eo(this.Ii,this.ai,new eC(this.serializer)),this.qr=new jE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=MN(this.serializer),this.Kr=new ME,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,d===!1&&Ct("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new N(D.FAILED_PRECONDITION,G_);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new er(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=n=>A(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(n=>A(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(()=>A(this,null,function*(){this.started&&(yield this.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ro(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Fu(e).get("owner").next(n=>I.resolve(this.wi(n)))}Si(e){return sm(e).delete(this.clientId)}bi(){return A(this,null,function*(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=Yt(n,"clientMetadata");return r.W().next(i=>{let o=this.Ci(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return I.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ei)for(let n of e)this.Ei.removeItem(this.vi(n.clientId))}})}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?I.resolve(!0):Fu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new N(D.FAILED_PRECONDITION,G_);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return A(this,null,function*(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),yield this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new zu(e,er._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()})}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>sm(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Fm.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new LE(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Pm.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",o=function(c){return c===15?U9:c===14?LR:c===13?VR:c===12?B9:c===11?OR:void W()}(this.ai),s;return this.Ti.runTransaction(e,i,o,a=>(s=new zu(a,this.Lr?this.Lr.next():er._e),n==="readwrite-primary"?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Ct(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new N(D.FAILED_PRECONDITION,NR);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Fu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new N(D.FAILED_PRECONDITION,G_)})}yi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fu(e).put("owner",n)}static D(){return Eo.D()}pi(e){let n=Fu(e);return n.get("owner").next(r=>this.wi(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):I.resolve())}Di(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(Ct(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();let n=/(?:Version|Mobile)\/1[456]/;VD()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{let r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ct("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Ct("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Fu(t){return Yt(t,"owner")}function sm(t){return Yt(t,"clientMetadata")}function nb(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var nC=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ve(),i=ve();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var rC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bm=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new rC;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(rc()<=Hr.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ic(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(rc()<=Hr.DEBUG&&F("QueryEngine","Query:",ic(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(rc()<=Hr.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ic(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):I.resolve())}zi(e,n){if(qP(n))return I.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dm(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,Dm(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return qP(n)||i.isEqual(ee.min())?I.resolve(null):this.Gi.getDocuments(e,r).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,r,i)?I.resolve(null):(rc()<=Hr.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(n)),this.Xi(e,s,n,PR(i,-1)).next(a=>a))})}Yi(e,n){let r=new Qe(ZR(e));return n.forEach((i,o)=>{gd(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return rc()<=Hr.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ic(n)),this.Gi.getDocumentsMatchingQuery(e,n,mr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var iC=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new rt(ge),this.ns=new hi(o=>Ms(o),pd),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function PN(t,e,n,r){return new iC(t,e,n,r)}function RN(t,e){return A(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ve();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function _q(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let f=l.batch,v=f.keys(),_=I.resolve();return v.forEach(b=>{_=_.next(()=>d.getEntry(c,b)).next(T=>{let M=l.docVersions.get(b);J(M!==null),T.version.compareTo(M)<0&&(f.applyToRemoteDocument(T,l),T.isValidDocument()&&(T.setReadTime(l.commitVersion),d.addEntry(T)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NN(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Eq(t,e){let n=$(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((d,f)=>{let v=i.get(f);if(!v)return;a.push(n.qr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,d.addedDocuments,f)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(Qt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),function(T,M,O){return T.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(v,_,d)&&a.push(n.qr.updateTargetData(o,_))});let c=jn(),l=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(kN(o,s,e.documentUpdates).next(d=>{c=d.us,l=d.cs})),!r.isEqual(ee.min())){let d=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return I.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}function kN(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=jn();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function Cq(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ec(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,I.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new wc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Cc(t,e,n){return A(this,null,function*(){let r=$(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ro(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function Um(t,e,n){let r=$(t),i=ee.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){let f=$(c),v=f.ns.get(d);return v!==void 0?I.resolve(f.ts.get(v)):f.qr.getTargetData(l,d)}(r,s,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:ve())).next(a=>(VN(r,YR(e),a),{documents:a,ls:o})))}function FN(t,e){let n=$(t),r=$(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function ON(t,e){let n=$(t),r=n.rs.get(e)||ee.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,PR(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(VN(n,e,i),i))}function VN(t,e,n){let r=t.rs.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function bq(t,e,n,r){return A(this,null,function*(){let i=$(t),o=ve(),s=jn();for(let l of n){let d=e.hs(l.metadata.name);l.document&&(o=o.add(d));let f=e.Ps(l);f.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(d,f)}let a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield Ec(i,function(d){return An(Ac(Oe.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>kN(l,a,s).next(d=>(a.apply(l),d)).next(d=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.us,d.cs)).next(()=>d.us)))})}function Iq(r,i){return A(this,arguments,function*(t,e,n=ve()){let o=yield Ec(t,An(eb(e.bundledQuery))),s=$(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=It(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Kr.saveNamedQuery(a,e);let l=o.withResumeToken(Qt.EMPTY_BYTE_STRING,c);return s.ts=s.ts.insert(l.targetId,l),s.qr.updateTargetData(a,l).next(()=>s.qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.Kr.saveNamedQuery(a,e))})})}function vR(t,e){return`firestore_clients_${t}_${e}`}function wR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function W_(t,e){return`firestore_targets_${t}_${e}`}var $m=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new N(i.error.code,i.error.message))),s?new t(e,n,i.state,o):(Ct("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Uu=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){let r=JSON.parse(n),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new N(r.error.code,r.error.message))),o?new t(e,r.state,i):(Ct("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Hm=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=XC();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=kR(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ct("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},oC=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Ct("SharedClientState",`Failed to parse online state: ${e}`),null)}},od=class{constructor(){this.activeTargetIds=XC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},$u=class{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new rt(ge),this.started=!1,this.ps=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=vR(this.persistenceKey,this.Rs),this.ws=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new od),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){return A(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Rs)continue;let i=this.getItem(vR(this.persistenceKey,r));if(i){let o=Hm.Ts(r,i);o&&(this.gs=this.gs.insert(o.clientId,o))}}this.Fs();let n=this.storage.getItem(this.Cs);if(n){let r=this.Ms(n);r&&this.xs(r)}for(let r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(W_(this.persistenceKey,e));if(r){let i=Uu.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(W_(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){let n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void Ct("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(()=>A(this,null,function*(){if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){let r=this.Ks(n.key);return this.$s(r,null)}{let r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){let r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){let r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){let r=function(o){let s=er._e;if(o!=null)try{let a=JSON.parse(o);J(typeof a=="number"),s=a}catch(a){Ct("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==er._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){let r=this.Hs(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){let i=new $m(this.currentUser,e,n,r),o=wR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){let n=wR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){let n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){let i=W_(this.persistenceKey,e),o=new Uu(e,n,r);this.setItem(i,o.Es())}Qs(e){let n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){let n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){let r=this.Ks(e);return Hm.Ts(r,n)}Ws(e,n){let r=this.bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return $m.Ts(new Mt(o),i,n)}zs(e,n){let r=this.Ds.exec(e),i=Number(r[1]);return Uu.Ts(i,n)}Ms(e){return oC.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){return A(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){let r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=XC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},qm=class{constructor(){this.eo=new od,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new od,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var sC=class{ro(e){}shutdown(){}};var zm=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var am=null;function K_(){return am===null?am=function(){return 268435456+Math.round(2147483648*Math.random())}():am++,"0x"+am.toString(16)}var Dq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var aC=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var yn="WebChannelConnection",cC=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){let a=K_(),c=this.So(n,r);F("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(d=>(F("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw pr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){let i=Dq[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let o=K_();return new Promise((s,a)=>{let c=new SP;c.setWithCredentials(!0),c.listenOnce(TP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rm.NO_ERROR:let d=c.getResponseJson();F(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case rm.TIMEOUT:F(yn,`RPC '${e}' ${o} timed out`),a(new N(D.DEADLINE_EXCEEDED,"Request time out"));break;case rm.HTTP_ERROR:let f=c.getStatus();if(F(yn,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let _=v?.error;if(_&&_.status&&_.message){let b=function(M){let O=M.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(O)>=0?O:D.UNKNOWN}(_.status);a(new N(b,_.message))}else a(new N(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new N(D.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{F(yn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);F(yn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){let i=K_(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IP(),a=DP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=o.join("");F(yn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),v=!1,_=!1,b=new aC({co:M=>{_?F(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(v||(F(yn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),v=!0),F(yn,`RPC '${e}' stream ${i} sending:`,M),f.send(M))},lo:()=>f.close()}),T=(M,O,K)=>{M.listen(O,B=>{try{K(B)}catch(te){setTimeout(()=>{throw te},0)}})};return T(f,Pu.EventType.OPEN,()=>{_||F(yn,`RPC '${e}' stream ${i} transport opened.`)}),T(f,Pu.EventType.CLOSE,()=>{_||(_=!0,F(yn,`RPC '${e}' stream ${i} transport closed`),b.Ro())}),T(f,Pu.EventType.ERROR,M=>{_||(_=!0,pr(yn,`RPC '${e}' stream ${i} transport errored:`,M),b.Ro(new N(D.UNAVAILABLE,"The operation could not be completed")))}),T(f,Pu.EventType.MESSAGE,M=>{var O;if(!_){let K=M.data[0];J(!!K);let B=K,te=B.error||((O=B[0])===null||O===void 0?void 0:O.error);if(te){F(yn,`RPC '${e}' stream ${i} received error:`,te);let ie=te.status,ce=function(zc){let Gc=St[zc];if(Gc!==void 0)return dN(Gc)}(ie),ze=te.message;ce===void 0&&(ce=D.INTERNAL,ze="Unknown error status: "+ie+" with message "+te.message),_=!0,b.Ro(new N(ce,ze)),f.close()}else F(yn,`RPC '${e}' stream ${i} received:`,K),b.Vo(K)}}),T(a,xP.STAT_EVENT,M=>{M.stat===q_.PROXY?F(yn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===q_.NOPROXY&&F(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}};function LN(){return typeof window<"u"?window:null}function hm(){return typeof document<"u"?document:null}function yd(t){return new TE(t,!0)}var sd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Gm=class{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new sd(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return A(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return A(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return A(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Ct(n.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new N(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>A(this,null,function*(){this.state=0,this.start()}))}o_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lC=class extends Gm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=lq(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?It(s.readTime):ee.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=td(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=bm(c)?{documents:vN(o,c)}:{query:wN(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fN(o,s.resumeToken);let l=xE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=vc(o,s.snapshotVersion.toTimestamp());let l=xE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=dq(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=td(this.serializer),n.removeTarget=e,this.e_(n)}},uC=class extends Gm{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(J(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=uq(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.I_(r,n)}return J(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=td(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>nd(this.serializer,r))};this.e_(n)}};var dC=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new N(D.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(D.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new N(D.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var hC=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ct(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var fC=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(()=>A(this,null,function*(){No(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(c){return A(this,null,function*(){let l=$(c);l.C_.add(4),yield Mc(l),l.M_.set("Unknown"),l.C_.delete(4),yield vd(l)})}(this))}))}),this.M_=new hC(r,i)}};function vd(t){return A(this,null,function*(){if(No(t))for(let e of t.v_)yield e(!0)})}function Mc(t){return A(this,null,function*(){for(let e of t.v_)yield e(!1)})}function dg(t,e){let n=$(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),ob(n)?ib(n):Rc(n).Ho()&&rb(n,e))}function ad(t,e){let n=$(t),r=Rc(n);n.D_.delete(e),r.Ho()&&jN(n,e),n.D_.size===0&&(r.Ho()?r.Zo():No(n)&&n.M_.set("Unknown"))}function rb(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).u_(e)}function jN(t,e){t.x_.Oe(e),Rc(t).c_(e)}function ib(t){t.x_=new DE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.M_.g_()}function ob(t){return No(t)&&!Rc(t).jo()&&t.D_.size>0}function No(t){return $(t).C_.size===0}function BN(t){t.x_=void 0}function Tq(t){return A(this,null,function*(){t.D_.forEach((e,n)=>{rb(t,e)})})}function xq(t,e){return A(this,null,function*(){BN(t),ob(t)?(t.M_.w_(e),ib(t)):t.M_.set("Unknown")})}function Sq(t,e,n){return A(this,null,function*(){if(t.M_.set("Online"),e instanceof xm&&e.state===2&&e.cause)try{yield function(i,o){return A(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wm(t,r)}else if(e instanceof dc?t.x_.$e(e):e instanceof Tm?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ee.min()))try{let r=yield NN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.D_.get(l);d&&o.D_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.D_.get(c);if(!d)return;o.D_.set(c,d.withResumeToken(Qt.EMPTY_BYTE_STRING,d.snapshotVersion)),jN(o,c);let f=new wc(d.target,c,l,d.sequenceNumber);rb(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Wm(t,r)}})}function Wm(t,e,n){return A(this,null,function*(){if(!Ro(e))throw e;t.C_.add(1),yield Mc(t),t.M_.set("Offline"),n||(n=()=>NN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>A(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield vd(t)}))})}function UN(t,e){return e().catch(n=>Wm(t,n,e))}function Pc(t){return A(this,null,function*(){let e=$(t),n=Mo(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Aq(e);)try{let i=yield Cq(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Mq(e,i)}catch(i){yield Wm(e,i)}$N(e)&&HN(e)})}function Aq(t){return No(t)&&t.b_.length<10}function Mq(t,e){t.b_.push(e);let n=Mo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function $N(t){return No(t)&&!Mo(t).jo()&&t.b_.length>0}function HN(t){Mo(t).start()}function Pq(t){return A(this,null,function*(){Mo(t).E_()})}function Rq(t){return A(this,null,function*(){let e=Mo(t);for(let n of t.b_)e.P_(n.mutations)})}function Nq(t,e,n){return A(this,null,function*(){let r=t.b_.shift(),i=CE.from(r,e,n);yield UN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Pc(t)})}function kq(t,e){return A(this,null,function*(){e&&Mo(t).h_&&(yield function(r,i){return A(this,null,function*(){if(function(s){return uN(s)&&s!==D.ABORTED}(i.code)){let o=r.b_.shift();Mo(r).Yo(),yield UN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pc(r)}})}(t,e)),$N(t)&&HN(t)})}function _R(t,e){return A(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=No(n);n.C_.add(3),yield Mc(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield vd(n)})}function pC(t,e){return A(this,null,function*(){let n=$(t);e?(n.C_.delete(2),yield vd(n)):e||(n.C_.add(2),yield Mc(n),n.M_.set("Unknown"))})}function Rc(t){return t.O_||(t.O_=function(n,r,i){let o=$(n);return o.A_(),new lC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Tq.bind(null,t),Io:xq.bind(null,t),a_:Sq.bind(null,t)}),t.v_.push(e=>A(this,null,function*(){e?(t.O_.Yo(),ob(t)?ib(t):t.M_.set("Unknown")):(yield t.O_.stop(),BN(t))}))),t.O_}function Mo(t){return t.N_||(t.N_=function(n,r,i){let o=$(n);return o.A_(),new uC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Pq.bind(null,t),Io:kq.bind(null,t),T_:Rq.bind(null,t),I_:Nq.bind(null,t)}),t.v_.push(e=>A(this,null,function*(){e?(t.N_.Yo(),yield Pc(t)):(yield t.N_.stop(),t.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var mC=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Nc(t,e){if(Ct("AsyncQueue",`${e}: ${t}`),Ro(t))return new N(D.UNAVAILABLE,`${e}: ${t}`);throw t}var Km=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Ou(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Qm=class{constructor(){this.B_=new rt(j.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},bc=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Km.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var gC=class{constructor(){this.k_=void 0,this.listeners=[]}},yC=class{constructor(){this.queries=new hi(e=>QR(e),md),this.onlineState="Unknown",this.q_=new Set}};function sb(t,e){return A(this,null,function*(){let n=$(t),r=e.query,i=!1,o=n.queries.get(r);if(o||(i=!0,o=new gC),i)try{o.k_=yield n.onListen(r)}catch(s){let a=Nc(s,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&cb(n)})}function ab(t,e){return A(this,null,function*(){let n=$(t),r=e.query,i=!1,o=n.queries.get(r);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function Fq(t,e){let n=$(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&cb(n)}function Oq(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let o of i.listeners)o.onError(n);r.queries.delete(e)}function cb(t){t.q_.forEach(e=>{e.next()})}var cd=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var vC=class{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}};var Ym=class{constructor(e){this.serializer=e}hs(e){return ci(this.serializer,e)}Ps(e){return e.metadata.exists?yN(this.serializer,e.document,!1):Rt.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return It(e)}},wC=class{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qN(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;let r=Oe.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){let n=new Map,r=new Ym(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.hs(i.metadata.name);for(let s of i.metadata.queries){let a=(n.get(s)||ve()).add(o);n.set(s,a)}}return n}complete(){return A(this,null,function*(){let e=yield bq(this.localStore,new Ym(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(let r of this.queries)yield Iq(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}})}};function qN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Zm=class{constructor(e){this.key=e}},Xm=class{constructor(e){this.key=e}},Jm=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ve(),this.mutatedKeys=ve(),this._a=ZR(e),this.aa=new Km(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Qm,i=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let v=i.get(d),_=gd(this.query,f)?f:null,b=!!v&&this.mutatedKeys.has(v.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;v&&_?v.data.isEqual(_.data)?b!==T&&(r.track({type:3,doc:_}),M=!0):this.ha(v,_)||(r.track({type:2,doc:_}),M=!0,(c&&this._a(_,c)>0||l&&this._a(_,l)<0)&&(a=!0)):!v&&_?(r.track({type:0,doc:_}),M=!0):v&&!_&&(r.track({type:1,doc:v}),M=!0,(c||l)&&(a=!0)),M&&(_?(s=s.add(_),o=T?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((d,f)=>function(_,b){let T=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return T(_)-T(b)}(d.type,f.type)||this._a(d.doc,f.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new bc(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Qm,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=ve(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Xm(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Zm(r))}),n}da(e){this.ia=e.ls,this.oa=ve();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return bc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},_C=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},EC=class{constructor(e){this.key=e,this.Ra=!1}},CC=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new hi(a=>QR(a),md),this.fa=new Map,this.ga=new Set,this.pa=new rt(j.comparator),this.ya=new Map,this.wa=new id,this.Sa={},this.ba=new Map,this.Da=_c.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function Vq(t,e){return A(this,null,function*(){let n=fb(t),r,i,o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{let s=yield Ec(n.localStore,An(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield lb(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&dg(n.remoteStore,s)}return i})}function lb(t,e,n,r,i){return A(this,null,function*(){t.va=(f,v,_)=>function(T,M,O,K){return A(this,null,function*(){let B=M.view.ca(O);B.Zi&&(B=yield Um(T.localStore,M.query,!1).then(({documents:ze})=>M.view.ca(ze,B)));let te=K&&K.targetChanges.get(M.targetId),ie=K&&K.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(B,T.isPrimaryClient,te,ie);return bC(T,M.targetId,ce.Ta),ce.snapshot})}(t,f,v,_);let o=yield Um(t.localStore,e,!0),s=new Jm(e,o.ls),a=s.ca(o.documents),c=Ju.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);bC(t,n,l.Ta);let d=new _C(e,n,s);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function Lq(t,e){return A(this,null,function*(){let n=$(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!md(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Cc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ad(n.remoteStore,r.targetId),Ic(n,r.targetId)}).catch(Po))):(Ic(n,r.targetId),yield Cc(n.localStore,r.targetId,!0))})}function jq(t,e,n){return A(this,null,function*(){let r=pb(t);try{let i=yield function(s,a){let c=$(s),l=ut.now(),d=a.reduce((_,b)=>_.add(b.key),ve()),f,v;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let b=jn(),T=ve();return c.ss.getEntries(_,d).next(M=>{b=M,b.forEach((O,K)=>{K.isValidDocument()||(T=T.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,b)).next(M=>{f=M;let O=[];for(let K of a){let B=nq(K,f.get(K.key).overlayedDocument);B!=null&&O.push(new Or(K.key,B,$R(B.value.mapValue),gt.exists(!0)))}return c.mutationQueue.addMutationBatch(_,l,O,a)}).next(M=>{v=M;let O=M.applyToLocalDocumentSet(f,T);return c.documentOverlayCache.saveOverlays(_,M.batchId,O)})}).then(()=>({batchId:v.batchId,changes:JR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new rt(ge)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield $i(r,i.changes),yield Pc(r.remoteStore)}catch(i){let o=Nc(i,"Failed to persist write");n.reject(o)}})}function zN(t,e){return A(this,null,function*(){let n=$(t);try{let r=yield Eq(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.ya.get(o);s&&(J(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?J(s.Ra):i.removedDocuments.size>0&&(J(s.Ra),s.Ra=!1))}),yield $i(n,r,e)}catch(r){yield Po(r)}})}function ER(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=$(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let v of f.listeners)v.Q_(a)&&(l=!0)}),l&&cb(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Bq(t,e,n){return A(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),o=i&&i.key;if(o){let s=new rt(j.comparator);s=s.insert(o,Rt.newNoDocument(o,ee.min()));let a=ve().add(o),c=new Xu(ee.min(),new Map,new rt(ge),s,a);yield zN(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),hb(r)}else yield Cc(r.localStore,e,!1).then(()=>Ic(r,e,n)).catch(Po)})}function Uq(t,e){return A(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield _q(n.localStore,e);db(n,r,null),ub(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield $i(n,i)}catch(i){yield Po(i)}})}function $q(t,e,n){return A(this,null,function*(){let r=$(t);try{let i=yield function(s,a){let c=$(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(J(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);db(r,e,n),ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield $i(r,i)}catch(i){yield Po(i)}})}function Hq(t,e){return A(this,null,function*(){let n=$(t);No(n.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=$(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();let i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){let i=Nc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function ub(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function db(t,e,n){let r=$(t),i=r.Sa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Ic(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||GN(t,r)})}function GN(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(ad(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),hb(t))}function bC(t,e,n){for(let r of n)r instanceof Zm?(t.wa.addReference(r.key,e),qq(t,r)):r instanceof Xm?(F("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||GN(t,r.key)):W()}function qq(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(F("SyncEngine","New document in limbo: "+n),t.ga.add(r),hb(t))}function hb(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new j(Oe.fromString(e)),r=t.Da.next();t.ya.set(r,new EC(n)),t.pa=t.pa.insert(n,r),dg(t.remoteStore,new wc(An(Ac(n.path)),r,"TargetPurposeLimboResolution",er._e))}}function $i(t,e,n){return A(this,null,function*(){let r=$(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let d=nC.Qi(c.targetId,l);o.push(d)}}))}),yield Promise.all(s),r.Va.a_(i),yield function(c,l){return A(this,null,function*(){let d=$(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>I.forEach(l,v=>I.forEach(v.ki,_=>d.persistence.referenceDelegate.addReference(f,v.targetId,_)).next(()=>I.forEach(v.qi,_=>d.persistence.referenceDelegate.removeReference(f,v.targetId,_)))))}catch(f){if(!Ro(f))throw f;F("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let v=f.targetId;if(!f.fromCache){let _=d.ts.get(v),b=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(b);d.ts=d.ts.insert(v,T)}}})}(r.localStore,o))})}function zq(t,e){return A(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield RN(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new N(D.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $i(n,r._s)}})}function Gq(t,e){let n=$(t),r=n.ya.get(e);if(r&&r.Ra)return ve().add(r.key);{let i=ve(),o=n.fa.get(e);if(!o)return i;for(let s of o){let a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function Wq(t,e){return A(this,null,function*(){let n=$(t),r=yield Um(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&bC(n,e.targetId,i.Ta),i})}function Kq(t,e){return A(this,null,function*(){let n=$(t);return ON(n.localStore,e).then(r=>$i(n,r))})}function Qq(t,e,n,r){return A(this,null,function*(){let i=$(t),o=yield function(a,c){let l=$(a),d=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Cn(f,c).next(v=>v?l.localDocuments.getDocuments(f,v):I.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?yield Pc(i.remoteStore):n==="acknowledged"||n==="rejected"?(db(i,e,r||null),ub(i,e),function(a,c){$($(a).mutationQueue).Fn(c)}(i.localStore,e)):W(),yield $i(i,o)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})}function Yq(t,e){return A(this,null,function*(){let n=$(t);if(fb(n),pb(n),e===!0&&n.Ca!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield CR(n,r.toArray());n.Ca=!0,yield pC(n.remoteStore,!0);for(let o of i)dg(n.remoteStore,o)}else if(e===!1&&n.Ca!==!1){let r=[],i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Ic(n,s),Cc(n.localStore,s,!0))),ad(n.remoteStore,s)}),yield i,yield CR(n,r),function(s){let a=$(s);a.ya.forEach((c,l)=>{ad(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new rt(j.comparator)}(n),n.Ca=!1,yield pC(n.remoteStore,!1)}})}function CR(t,e,n){return A(this,null,function*(){let r=$(t),i=[],o=[];for(let s of e){let a,c=r.fa.get(s);if(c&&c.length!==0){a=yield Ec(r.localStore,An(c[0]));for(let l of c){let d=r.ma.get(l),f=yield Wq(r,d);f.snapshot&&o.push(f.snapshot)}}else{let l=yield FN(r.localStore,s);a=yield Ec(r.localStore,l),yield lb(r,WN(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i})}function WN(t){return KR(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Zq(t){return function(n){return $($(n).persistence).Bi()}($(t).localStore)}function Xq(t,e,n,r){return A(this,null,function*(){let i=$(t);if(i.Ca)return void F("SyncEngine","Ignoring unexpected query state notification.");let o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield ON(i.localStore,YR(o[0])),a=Xu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Qt.EMPTY_BYTE_STRING);yield $i(i,s,a);break}case"rejected":yield Cc(i.localStore,e,!0),Ic(i,e,r);break;default:W()}})}function Jq(t,e,n){return A(this,null,function*(){let r=fb(t);if(r.Ca){for(let i of e){if(r.fa.has(i)){F("SyncEngine","Adding an already active target "+i);continue}let o=yield FN(r.localStore,i),s=yield Ec(r.localStore,o);yield lb(r,WN(o),s.targetId,!1,s.resumeToken),dg(r.remoteStore,s)}for(let i of n)r.fa.has(i)&&(yield Cc(r.localStore,i,!1).then(()=>{ad(r.remoteStore,i),Ic(r,i)}).catch(Po))}})}function fb(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bq.bind(null,e),e.Va.a_=Fq.bind(null,e.eventManager),e.Va.Fa=Oq.bind(null,e.eventManager),e}function pb(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$q.bind(null,e),e}function ez(t,e,n){let r=$(t);(function(o,s,a){return A(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(_,b){let T=$(_),M=It(b.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",O=>T.Kr.getBundleMetadata(O,b.id)).then(O=>!!O&&O.createTime.compareTo(M)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(qN(c));let l=new wC(c,o.localStore,s.serializer),d=yield s.Ma();for(;d;){let v=yield l.ea(d);v&&a._updateProgress(v),d=yield s.Ma()}let f=yield l.complete();return yield $i(o,f.ra,void 0),yield function(_,b){let T=$(_);return T.persistence.runTransaction("Save bundle","readwrite",M=>T.Kr.saveBundleMetadata(M,b))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f.na)}catch(c){return pr("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var ld=class{constructor(){this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PN(this.persistence,new Bm,e.initialUser,this.serializer)}createPersistence(e){return new Lm(jm.jr,this.serializer)}createSharedClientState(e){return new qm}terminate(){return A(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var eg=class t extends ld{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){yield _y(t.prototype,this,"initialize").call(this,e),yield this.xa.initialize(this,e),yield pb(this.xa.syncEngine),yield Pc(this.xa.remoteStore),yield this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return PN(this.persistence,new Bm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new UE(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new sE(n,this.persistence);return new oE(e.asyncQueue,r)}createPersistence(e){let n=nb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new tC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,LN(),hm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qm}},IC=class t extends eg{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return A(this,null,function*(){yield _y(t.prototype,this,"initialize").call(this,e);let n=this.xa.syncEngine;this.sharedClientState instanceof $u&&(this.sharedClientState.syncEngine={Ys:Qq.bind(null,n),Zs:Xq.bind(null,n),Xs:Jq.bind(null,n),Bi:Zq.bind(null,n),Js:Kq.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.mi(r=>A(this,null,function*(){yield Yq(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=LN();if(!$u.D(n))throw new N(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=nb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $u(n,e.asyncQueue,r,e.clientId,e.initialUser)}},ud=class{initialize(e,n){return A(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ER(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zq.bind(null,this.syncEngine),yield pC(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new yC}()}createDatastore(e){let n=yd(e.databaseInfo.databaseId),r=function(o){return new cC(o)}(e.databaseInfo);return function(o,s,a,c){return new dC(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new fC(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ER(this.syncEngine,n,0),function(){return zm.D()?new zm:new sC}())}createSyncEngine(e,n){return function(i,o,s,a,c,l,d){let f=new CC(i,o,s,a,c,l);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return A(this,null,function*(){let r=$(n);F("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Mc(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};function bR(t,e=10240){let n=0;return{read(){return A(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return A(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Dc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var DC=class{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Pt,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){return A(this,null,function*(){return this.metadata.promise})}Ma(){return A(this,null,function*(){return yield this.getMetadata(),this.ka()})}ka(){return A(this,null,function*(){let e=yield this.qa();if(e===null)return null;let n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);let i=yield this.Ka(r);return new vC(JSON.parse(i),e.length+r)})}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){return A(this,null,function*(){for(;this.$a()<0&&!(yield this.Ua()););if(this.buffer.length===0)return null;let e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ka(e){return A(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ua())&&this.Qa("Reached the end of bundle when more is expected.");let n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){return A(this,null,function*(){let e=yield this.Ba.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var TC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){return A(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new N(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let n=yield function(i,o){return A(this,null,function*(){let s=$(i),a=td(s.serializer)+"/documents",c={documents:o.map(v=>ed(s.serializer,v))},l=yield s.Co("BatchGetDocuments",a,c,o.length),d=new Map;l.forEach(v=>{let _=cq(s.serializer,v);d.set(_.key.toString(),_)});let f=[];return o.forEach(v=>{let _=d.get(v.toString());J(!!_),f.push(_)}),f})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ao(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return A(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=j.fromPath(r);this.mutations.push(new Qu(i,this.precondition(i)))}),yield function(r,i){return A(this,null,function*(){let o=$(r),s=td(o.serializer)+"/documents",a={writes:i.map(c=>nd(o.serializer,c))};yield o.wo("Commit",s,a)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw W();n=ee.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new N(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ee.min())?gt.exists(!1):gt.updateTime(n):gt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ee.min()))throw new N(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gt.updateTime(n)}return gt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var xC=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new sd(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(()=>A(this,null,function*(){let e=new TC(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})}))}za(e){try{let n=this.updateFunction(e);return!fd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!uN(n)}return!1}};var SC=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>A(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return A(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Nc(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fm(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>A(this,null,function*(){r.isEqual(i)||(yield RN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function AC(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield mb(t);F("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>_R(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>_R(e.remoteStore,o)),t._onlineComponents=e})}function KN(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function mb(t){return A(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!KN(n))throw n;pr("Error using user provided cache. Falling back to memory cache: "+n),yield fm(t,new ld)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield fm(t,new ld);return t._offlineComponents})}function hg(t){return A(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield AC(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield AC(t,new ud))),t._onlineComponents})}function QN(t){return mb(t).then(e=>e.persistence)}function gb(t){return mb(t).then(e=>e.localStore)}function YN(t){return hg(t).then(e=>e.remoteStore)}function yb(t){return hg(t).then(e=>e.syncEngine)}function tz(t){return hg(t).then(e=>e.datastore)}function Tc(t){return A(this,null,function*(){let e=yield hg(t),n=e.eventManager;return n.onListen=Vq.bind(null,e.syncEngine),n.onUnlisten=Lq.bind(null,e.syncEngine),n})}function nz(t){return t.asyncQueue.enqueue(()=>A(this,null,function*(){let e=yield QN(t),n=yield YN(t);return e.setNetworkEnabled(!0),function(i){let o=$(i);return o.C_.delete(0),vd(o)}(n)}))}function rz(t){return t.asyncQueue.enqueue(()=>A(this,null,function*(){let e=yield QN(t),n=yield YN(t);return e.setNetworkEnabled(!1),function(i){return A(this,null,function*(){let o=$(i);o.C_.add(0),yield Mc(o),o.M_.set("Offline")})}(n)}))}function iz(t,e){let n=new Pt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o,s){return A(this,null,function*(){try{let a=yield function(l,d){let f=$(l);return f.persistence.runTransaction("read document","readonly",v=>f.localDocuments.getDocument(v,d))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new N(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=Nc(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield gb(t),e,n)})),n.promise}function ZN(t,e,n={}){let r=new Pt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(o,s,a,c,l){let d=new Dc({next:v=>{s.enqueueAndForget(()=>ab(o,f));let _=v.docs.has(a);!_&&v.fromCache?l.reject(new N(D.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&c&&c.source==="server"?l.reject(new N(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),f=new cd(Ac(a.path),d,{includeMetadataChanges:!0,J_:!0});return sb(o,f)}(yield Tc(t),t.asyncQueue,e,n,r)})),r.promise}function oz(t,e){let n=new Pt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o,s){return A(this,null,function*(){try{let a=yield Um(i,o,!0),c=new Jm(o,a.ls),l=c.ca(a.documents),d=c.applyChanges(l,!1);s.resolve(d.snapshot)}catch(a){let c=Nc(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield gb(t),e,n)})),n.promise}function XN(t,e,n={}){let r=new Pt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(o,s,a,c,l){let d=new Dc({next:v=>{s.enqueueAndForget(()=>ab(o,f)),v.fromCache&&c.source==="server"?l.reject(new N(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(v)},error:v=>l.reject(v)}),f=new cd(a,d,{includeMetadataChanges:!0,J_:!0});return sb(o,f)}(yield Tc(t),t.asyncQueue,e,n,r)})),r.promise}function sz(t,e){let n=new Dc(e);return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o){$(i).q_.add(o),o.next()}(yield Tc(t),n)})),()=>{n.Na(),t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o){$(i).q_.delete(o)}(yield Tc(t),n)}))}}function az(t,e,n,r){let i=function(s,a){let c;return c=typeof s=="string"?hN().encode(s):s,function(d,f){return new DC(d,f)}(function(d,f){if(d instanceof Uint8Array)return bR(d,f);if(d instanceof ArrayBuffer)return bR(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,yd(e));t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){ez(yield yb(t),i,r)}))}function cz(t,e){return t.asyncQueue.enqueue(()=>A(this,null,function*(){return function(r,i){let o=$(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield gb(t),e)}))}function JN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var IR=new Map;function vb(t,e,n){if(!n)throw new N(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wb(t,e,n,r){if(e===!0&&r===!0)throw new N(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DR(t){if(!j.isDocumentKey(t))throw new N(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TR(t){if(j.isDocumentKey(t))throw new N(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fg(t);throw new N(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ek(t,e){if(e<=0)throw new N(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var tg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new N(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ks=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q_;switch(r.type){case"firstParty":return new J_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new N(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=IR.get(n);r&&(F("ComponentProvider","Removing Datastore"),IR.delete(n),r.terminate())}(this),Promise.resolve()}};function pg(t,e,n,r={}){var i;let o=(t=Ne(t,ks))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Mt.MOCK_USER;else{a=OD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new N(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mt(l)}t._authCredentials=new Y_(new pm(a,c))}}var an=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Xe=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},li=class t extends an{constructor(e,n,r){super(e,n,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mg(t,e,...n){if(t=st(t),vb("collection","path",e),t instanceof ks){let r=Oe.fromString(e,...n);return TR(r),new li(t,null,r)}{if(!(t instanceof Xe||t instanceof li))throw new N(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return TR(r),new li(t.firestore,null,r)}}function _b(t,e){if(t=Ne(t,ks),vb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new N(D.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new an(t,null,function(r){return new Fr(Oe.emptyPath(),r)}(e))}function kc(t,e,...n){if(t=st(t),arguments.length===1&&(e=mm.newId()),vb("doc","path",e),t instanceof ks){let r=Oe.fromString(e,...n);return DR(r),new Xe(t,null,new j(r))}{if(!(t instanceof Xe||t instanceof li))throw new N(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return DR(r),new Xe(t.firestore,t instanceof li?t.converter:null,new j(r))}}function gg(t,e){return t=st(t),e=st(e),(t instanceof Xe||t instanceof li)&&(e instanceof Xe||e instanceof li)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function yg(t,e){return t=st(t),e=st(e),t instanceof an&&e instanceof an&&t.firestore===e.firestore&&md(t._query,e._query)&&t.converter===e.converter}var MC=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new sd(this,"async_queue_retry"),this.iu=()=>{let n=hm();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=hm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new Pt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return A(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ro(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ct("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=mC.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return A(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function PC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var RC=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var tk=-1,it=class extends ks{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new MC}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rk(this),this._firestoreClient.terminate()}};function nk(t,e){let n=typeof t=="object"?t:nl(),r=typeof t=="string"?t:e||"(default)",i=Cy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=FD("firestore");o&&pg(i,...o)}return i}function Bt(t){return t._firestoreClient||rk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rk(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,d){return new aE(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,JN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new SC(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Eb(t,e){ok(t=Ne(t,it));let n=Bt(t);if(n._uninitializedComponentsProvider)throw new N(D.FAILED_PRECONDITION,"SDK cache is already specified.");pr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new ud;return ik(n,i,new eg(i,r.cacheSizeBytes,e?.forceOwnership))}function Cb(t){ok(t=Ne(t,it));let e=Bt(t);if(e._uninitializedComponentsProvider)throw new N(D.FAILED_PRECONDITION,"SDK cache is already specified.");pr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new ud;return ik(e,r,new IC(r,n.cacheSizeBytes))}function ik(t,e,n){let r=new Pt;return t.asyncQueue.enqueue(()=>A(this,null,function*(){try{yield fm(t,n),yield AC(t,e),r.resolve()}catch(i){let o=i;if(!KN(o))throw o;pr("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function bb(t){if(t._initialized&&!t._terminated)throw new N(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Pt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{yield function(r){return A(this,null,function*(){if(!Eo.D())return Promise.resolve();let i=r+"main";yield Eo.delete(i)})}(nb(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function Ib(t){return function(n){let r=new Pt;return n.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return Hq(yield yb(n),r)})),r.promise}(Bt(t=Ne(t,it)))}function Db(t){return nz(Bt(t=Ne(t,it)))}function Tb(t){return rz(Bt(t=Ne(t,it)))}function xb(t,e){let n=Bt(t=Ne(t,it)),r=new RC;return az(n,t._databaseId,e,r),r}function Sb(t,e){return cz(Bt(t=Ne(t,it)),e).then(n=>n?new an(t,null,n.query):null)}function ok(t){if(t._initialized||t._terminated)throw new N(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Qt.fromBase64String(e))}catch(n){throw new N(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vr=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new N(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bi=class{constructor(e){this._methodName=e}};var Fs=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var lz=/^__.*__$/,NC=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new So(e,this.data,n,this.fieldTransforms)}},ng=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Or(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function sk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var rg=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ig(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(sk(this.Iu)&&lz.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},kC=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yd(e)}pu(e,n,r,i=!1){return new rg({Iu:e,methodName:n,gu:r,path:bt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function js(t){let e=t._freezeSettings(),n=yd(t._databaseId);return new kC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vg(t,e,n,r,i,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);Pb("Data must be an object, but it was:",s,r);let a=lk(r,s),c,l;if(o.merge)c=new tr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let v=jC(e,f,n);if(!s.contains(v))throw new N(D.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);dk(d,v)||d.push(v)}c=new tr(d),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new NC(new vn(a),c,l)}var dd=class t extends Bi{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function ak(t,e,n){return new rg({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var FC=class t extends Bi{_toFieldTransform(e){return new Ps(e.path,new To)}isEqual(e){return e instanceof t}},OC=class extends Bi{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=ak(this,e,!0),r=this.yu.map(o=>Bs(o,n)),i=new Li(r);return new Ps(e.path,i)}isEqual(e){return this===e}},VC=class extends Bi{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=ak(this,e,!0),r=this.yu.map(o=>Bs(o,n)),i=new ji(r);return new Ps(e.path,i)}isEqual(e){return this===e}},LC=class extends Bi{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){let n=new xo(e.serializer,rN(e.serializer,this.wu));return new Ps(e.path,n)}isEqual(e){return this===e}};function Ab(t,e,n,r){let i=t.pu(1,e,n);Pb("Data must be an object, but it was:",i,r);let o=[],s=vn.empty();Ls(r,(c,l)=>{let d=Rb(e,c,n);l=st(l);let f=i.Ru(d);if(l instanceof dd)o.push(d);else{let v=Bs(l,f);v!=null&&(o.push(d),s.set(d,v))}});let a=new tr(o);return new ng(s,a,i.fieldTransforms)}function Mb(t,e,n,r,i,o){let s=t.pu(1,e,n),a=[jC(e,r,n)],c=[i];if(o.length%2!=0)throw new N(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(jC(e,o[v])),c.push(o[v+1]);let l=[],d=vn.empty();for(let v=a.length-1;v>=0;--v)if(!dk(l,a[v])){let _=a[v],b=c[v];b=st(b);let T=s.Ru(_);if(b instanceof dd)l.push(_);else{let M=Bs(b,T);M!=null&&(l.push(_),d.set(_,M))}}let f=new tr(l);return new ng(d,f,s.fieldTransforms)}function ck(t,e,n,r=!1){return Bs(n,t.pu(r?4:3,e))}function Bs(t,e){if(uk(t=st(t)))return Pb("Unsupported field value:",e,t),lk(t,e);if(t instanceof Bi)return function(r,i){if(!sk(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Bs(a,i.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:vc(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vc(i.serializer,o)}}if(r instanceof Fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:fN(i.serializer,r._byteString)};if(r instanceof Xe){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${fg(r)}`)}(t,e)}function lk(t,e){let n={};return jR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,(r,i)=>{let o=Bs(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function uk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Fs||t instanceof fi||t instanceof Xe||t instanceof Bi)}function Pb(t,e,n){if(!uk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=fg(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function jC(t,e,n){if((e=st(e))instanceof Vr)return e._internalPath;if(typeof e=="string")return Rb(t,e);throw ig("Field path arguments must be of type string or ",t,!1,void 0,n)}var uz=new RegExp("[~\\*/\\[\\]]");function Rb(t,e,n){if(e.search(uz)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vr(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ig(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new N(D.INVALID_ARGUMENT,a+t+c)}function dk(t,e){return t.some(n=>n.isEqual(e))}var Os=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new BC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},BC=class extends Os{data(){return super.data()}};function wg(t,e){return typeof e=="string"?Rb(t,e):e instanceof Vr?e._internalPath:e._delegate._internalPath}function hk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new N(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hd=class{},Vs=class extends hd{};function pi(t,e,...n){let r=[];e instanceof hd&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof UC).length,a=o.filter(c=>c instanceof og).length;if(s>1||s>0&&a>0)throw new N(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var og=class t extends Vs{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return pk(e._query,n),new an(e.firestore,e.converter,_E(e._query,n))}_parse(e){let n=js(e.firestore);return function(o,s,a,c,l,d,f){let v;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new N(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){SR(f,d);let _=[];for(let b of f)_.push(xR(c,o,b));v={arrayValue:{values:_}}}else v=xR(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||SR(f,d),v=ck(a,s,f,d==="in"||d==="not-in");return Pe.create(l,d,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Nb(t,e,n){let r=e,i=wg("where",t);return og._create(i,r,n)}var UC=class t extends hd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)pk(s,c),s=_E(s,c)}(e._query,n),new an(e.firestore,e.converter,_E(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var $C=class t extends Vs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new N(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new N(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new As(o,s)}(e._query,this._field,this._direction);return new an(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Fr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function kb(t,e="asc"){let n=e,r=wg("orderBy",t);return $C._create(r,n)}var sg=class t extends Vs{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new an(e.firestore,e.converter,Dm(e._query,this._limit,this._limitType))}};function Fb(t){return ek("limit",t),sg._create("limit",t,"F")}function Ob(t){return ek("limitToLast",t),sg._create("limitToLast",t,"L")}var ag=class t extends Vs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=fk(e,this.type,this._docOrFields,this._inclusive);return new an(e.firestore,e.converter,function(i,o){return new Fr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function Vb(...t){return ag._create("startAt",t,!0)}function Lb(...t){return ag._create("startAfter",t,!1)}var cg=class t extends Vs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=fk(e,this.type,this._docOrFields,this._inclusive);return new an(e.firestore,e.converter,function(i,o){return new Fr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}};function jb(...t){return cg._create("endBefore",t,!1)}function Bb(...t){return cg._create("endAt",t,!0)}function fk(t,e,n,r){if(n[0]=st(n[0]),n[0]instanceof Os)return function(o,s,a,c,l){if(!c)throw new N(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of uc(o))if(f.field.isKeyField())d.push(Ss(s,c.key));else{let v=c.data.field(f.field);if(ug(v))throw new N(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){let _=f.field.canonicalString();throw new N(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}d.push(v)}return new di(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=js(t.firestore);return function(s,a,c,l,d,f){let v=s.explicitOrderBy;if(d.length>v.length)throw new N(D.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let _=[];for(let b=0;b<d.length;b++){let T=d[b];if(v[b].field.isKeyField()){if(typeof T!="string")throw new N(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof T}`);if(!ZC(s)&&T.indexOf("/")!==-1)throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${T}' contains a slash.`);let M=s.path.child(Oe.fromString(T));if(!j.isDocumentKey(M))throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);let O=new j(M);_.push(Ss(a,O))}else{let M=ck(c,l,T);_.push(M)}}return new di(_,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function xR(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new N(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZC(e)&&n.indexOf("/")!==-1)throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Oe.fromString(n));if(!j.isDocumentKey(r))throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ss(t,new j(r))}if(n instanceof Xe)return Ss(t,n._key);throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(n)}.`)}function SR(t,e){if(!Array.isArray(t)||t.length===0)throw new N(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pk(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new N(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new N(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var xc=class{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ls(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Fs(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=QC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){let n=Co(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);J(bN(r));let i=new Io(r.get(1),r.get(3)),o=new j(r.popFirst(5));return i.isEqual(n)||Ct(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function _g(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var HC=class extends xc{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}};var Vi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gr=class extends Os{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},wo=class extends gr{data(e={}){return super.data(e)}},Lr=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wo(this._firestore,this._userDataWriter,r.key,r,new Vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:dz(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function dz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function Eg(t,e){return t instanceof gr&&e instanceof gr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Lr&&e instanceof Lr&&t._firestore===e._firestore&&yg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Ub(t){t=Ne(t,Xe);let e=Ne(t.firestore,it);return ZN(Bt(e),t._key).then(n=>Yb(e,t,n))}var Ui=class extends xc{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}};function $b(t){t=Ne(t,Xe);let e=Ne(t.firestore,it),n=Bt(e),r=new Ui(e);return iz(n,t._key).then(i=>new gr(e,r,t._key,i,new Vi(i!==null&&i.hasLocalMutations,!0),t.converter))}function Hb(t){t=Ne(t,Xe);let e=Ne(t.firestore,it);return ZN(Bt(e),t._key,{source:"server"}).then(n=>Yb(e,t,n))}function qb(t){t=Ne(t,an);let e=Ne(t.firestore,it),n=Bt(e),r=new Ui(e);return hk(t._query),XN(n,t._query).then(i=>new Lr(e,r,t,i))}function zb(t){t=Ne(t,an);let e=Ne(t.firestore,it),n=Bt(e),r=new Ui(e);return oz(n,t._query).then(i=>new Lr(e,r,t,i))}function Gb(t){t=Ne(t,an);let e=Ne(t.firestore,it),n=Bt(e),r=new Ui(e);return XN(n,t._query,{source:"server"}).then(i=>new Lr(e,r,t,i))}function Cg(t,e,n){t=Ne(t,Xe);let r=Ne(t.firestore,it),i=_g(t.converter,e,n);return Fc(r,[vg(js(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gt.none())])}function bg(t,e,n,...r){t=Ne(t,Xe);let i=Ne(t.firestore,it),o=js(i),s;return s=typeof(e=st(e))=="string"||e instanceof Vr?Mb(o,"updateDoc",t._key,e,n,r):Ab(o,"updateDoc",t._key,e),Fc(i,[s.toMutation(t._key,gt.exists(!0))])}function Wb(t){return Fc(Ne(t.firestore,it),[new Ao(t._key,gt.none())])}function Kb(t,e){let n=Ne(t.firestore,it),r=kc(t),i=_g(t.converter,e);return Fc(n,[vg(js(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gt.exists(!1))]).then(()=>r)}function Ig(t,...e){var n,r,i;t=st(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||PC(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges};if(PC(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(t instanceof Xe)l=Ne(t.firestore,it),d=Ac(t._key.path),c={next:f=>{e[s]&&e[s](Yb(l,t,f))},error:e[s+1],complete:e[s+2]};else{let f=Ne(t,an);l=Ne(f.firestore,it),d=f._query;let v=new Ui(l);c={next:_=>{e[s]&&e[s](new Lr(l,v,f,_))},error:e[s+1],complete:e[s+2]},hk(t._query)}return function(v,_,b,T){let M=new Dc(T),O=new cd(_,M,b);return v.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return sb(yield Tc(v),O)})),()=>{M.Na(),v.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return ab(yield Tc(v),O)}))}}(Bt(l),d,a,c)}function Qb(t,e){return sz(Bt(t=Ne(t,it)),PC(e)?e:{next:e})}function Fc(t,e){return function(r,i){let o=new Pt;return r.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return jq(yield yb(r),i,o)})),o.promise}(Bt(t),e)}function Yb(t,e,n){let r=n.docs.get(e._key),i=new Ui(t);return new gr(t,i,e._key,r,new Vi(n.hasPendingWrites,n.fromCache),e.converter)}var hz={maxAttempts:5};var lg=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=js(e)}set(e,n,r){this._verifyNotCommitted();let i=yo(e,this._firestore),o=_g(i.converter,n,r),s=vg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,gt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=yo(e,this._firestore),s;return s=typeof(n=st(n))=="string"||n instanceof Vr?Mb(this._dataReader,"WriteBatch.update",o._key,n,r,i):Ab(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,gt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=yo(e,this._firestore);return this._mutations=this._mutations.concat(new Ao(n._key,gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new N(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function yo(t,e){if((t=st(t)).firestore!==e)throw new N(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var qC=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=js(n)}get(n){let r=yo(n,this._firestore),i=new HC(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return W();let s=o[0];if(s.isFoundDocument())return new Os(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Os(this._firestore,i,r._key,null,r.converter);throw W()})}set(n,r,i){let o=yo(n,this._firestore),s=_g(o.converter,r,i),a=vg(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){let s=yo(n,this._firestore),a;return a=typeof(r=st(r))=="string"||r instanceof Vr?Mb(this._dataReader,"Transaction.update",s._key,r,i,o):Ab(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){let r=yo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=yo(e,this._firestore),r=new Ui(this._firestore);return super.get(e).then(i=>new gr(this._firestore,r,n._key,i._document,new Vi(!1,!1),n.converter))}};function Zb(t,e,n){t=Ne(t,it);let r=Object.assign(Object.assign({},hz),n);return function(o){if(o.maxAttempts<1)throw new N(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new Pt;return o.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){let l=yield tz(o);new xC(o.asyncQueue,l,a,s,c).run()})),c.promise}(Bt(t),i=>e(new qC(t,i)),r)}function Xb(){return new dd("deleteField")}function Jb(){return new FC("serverTimestamp")}function eI(...t){return new OC("arrayUnion",t)}function tI(...t){return new VC("arrayRemove",t)}function nI(t){return new LC("increment",t)}(function(e,n=!0){(function(i){Sc=i})(BD),tl(new $o("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new it(new Z_(r.getProvider("auth-internal")),new tE(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new N(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(l.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ln(MP,"4.4.0",e),ln(MP,"4.4.0","esm2017")})();var fz="@firebase/firestore-compat",pz="0.3.23";function cI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new N("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function mk(){if(typeof Uint8Array>"u")throw new N("unimplemented","Uint8Arrays are not available in this environment.")}function gk(){if(!BR())throw new N("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Dg=class t{constructor(e){this._delegate=e}static fromBase64String(e){return gk(),new t(fi.fromBase64String(e))}static fromUint8Array(e){return mk(),new t(fi.fromUint8Array(e))}toBase64(){return gk(),this._delegate.toBase64()}toUint8Array(){return mk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function rI(t){return mz(t,["next","error","complete"])}function mz(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var iI=class{enableIndexedDbPersistence(e,n){return Eb(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Cb(e._delegate)}clearIndexedDbPersistence(e){return bb(e._delegate)}},Tg=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Io||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&pr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){pg(this._delegate,e,n,r)}enableNetwork(){return Db(this._delegate)}disableNetwork(){return Tb(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,wb("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ib(this._delegate)}onSnapshotsInSync(e){return Qb(this._delegate,e)}get app(){if(!this._appCompat)throw new N("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lc(this,mg(this._delegate,e))}catch(n){throw Mn(n,"collection()","Firestore.collection()")}}doc(e){try{return new mi(this,kc(this._delegate,e))}catch(n){throw Mn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qs(this,_b(this._delegate,e))}catch(n){throw Mn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Zb(this._delegate,n=>e(new xg(this,n)))}batch(){return Bt(this._delegate),new Sg(new lg(this._delegate,e=>Fc(this._delegate,e)))}loadBundle(e){return xb(this._delegate,e)}namedQuery(e){return Sb(this._delegate,e).then(n=>n?new qs(this,n):null)}},Oc=class extends xc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dg(new fi(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return mi.forKey(n,this.firestore,null)}};function gz(t){zC(t)}var xg=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Oc(e)}get(e){let n=Us(e);return this._delegate.get(n).then(r=>new $s(this._firestore,new gr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=Us(e);return r?(cI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Us(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Us(e);return this._delegate.delete(n),this}},Sg=class{constructor(e){this._delegate=e}set(e,n,r){let i=Us(e);return r?(cI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Us(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Us(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Vc=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new wo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hs(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new t(e,new Oc(e),n),i.set(n,o)),o}};Vc.INSTANCES=new WeakMap;var mi=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Oc(e)}static forPath(e,n,r){if(e.length%2!==0)throw new N("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new Xe(n._delegate,r,new j(e)))}static forKey(e,n,r){return new t(n,new Xe(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Lc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lc(this.firestore,mg(this._delegate,e))}catch(n){throw Mn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=st(e),e instanceof Xe?gg(this._delegate,e):!1}set(e,n){n=cI("DocumentReference.set",n);try{return n?Cg(this._delegate,e,n):Cg(this._delegate,e)}catch(r){throw Mn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?bg(this._delegate,e):bg(this._delegate,e,n,...r)}catch(i){throw Mn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Wb(this._delegate)}onSnapshot(...e){let n=yk(e),r=vk(e,i=>new $s(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Ig(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=$b(this._delegate):e?.source==="server"?n=Hb(this._delegate):n=Ub(this._delegate),n.then(r=>new $s(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Mn(t,e,n){return t.message=t.message.replace(e,n),t}function yk(t){for(let e of t)if(typeof e=="object"&&!rI(e))return e;return{}}function vk(t,e){var n,r;let i;return rI(t[0])?i=t[0]:rI(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var $s=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new mi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Eg(this._delegate,e._delegate)}},Hs=class extends $s{data(e){let n=this._delegate.data(e);return this._delegate._converter||AR(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},qs=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Oc(e)}where(e,n,r){try{return new t(this.firestore,pi(this._delegate,Nb(e,n,r)))}catch(i){throw Mn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,pi(this._delegate,kb(e,n)))}catch(r){throw Mn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,pi(this._delegate,Fb(e)))}catch(n){throw Mn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,pi(this._delegate,Ob(e)))}catch(n){throw Mn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,pi(this._delegate,Vb(...e)))}catch(n){throw Mn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,pi(this._delegate,Lb(...e)))}catch(n){throw Mn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,pi(this._delegate,jb(...e)))}catch(n){throw Mn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,pi(this._delegate,Bb(...e)))}catch(n){throw Mn(n,"endAt()","Query.endAt()")}}isEqual(e){return yg(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=zb(this._delegate):e?.source==="server"?n=Gb(this._delegate):n=qb(this._delegate),n.then(r=>new wd(this.firestore,new Lr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=yk(e),r=vk(e,i=>new wd(this.firestore,new Lr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Ig(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},oI=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Hs(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},wd=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hs(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new oI(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Hs(this._firestore,r))})}isEqual(e){return Eg(this._delegate,e._delegate)}},Lc=class t extends qs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new mi(this.firestore,e):null}doc(e){try{return e===void 0?new mi(this.firestore,kc(this._delegate)):new mi(this.firestore,kc(this._delegate,e))}catch(n){throw Mn(n,"doc()","CollectionReference.doc()")}}add(e){return Kb(this._delegate,e).then(n=>new mi(this.firestore,n))}isEqual(e){return gg(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Us(t){return Ne(t,Xe)}var sI=class t{constructor(...e){this._delegate=new Vr(...e)}static documentId(){return new t(bt.keyField().canonicalString())}isEqual(e){return e=st(e),e instanceof Vr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var aI=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=Jb();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=Xb();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=eI(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=tI(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=nI(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var yz={Firestore:Tg,GeoPoint:Fs,Timestamp:ut,Blob:Dg,Transaction:xg,WriteBatch:Sg,DocumentReference:mi,DocumentSnapshot:$s,Query:qs,QueryDocumentSnapshot:Hs,QuerySnapshot:wd,CollectionReference:Lc,FieldPath:sI,FieldValue:aI,setLogLevel:gz,CACHE_SIZE_UNLIMITED:tk};function vz(t,e){t.INTERNAL.registerComponent(new $o("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},yz)))}function wz(t){vz(t,(e,n)=>new Tg(e,n,new iI)),t.registerVersion(fz,pz)}wz(Hn);function _z(t,e=cl){return new _e(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function wk(t,e){return _z(t,e)}function Ez(t,e){return wk(t,e).pipe(Ko(void 0),ul(),H(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function dI(t,e){return wk(t,e).pipe(H(n=>({payload:n,type:"query"})))}var Ag=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:o}=Ck(r,n);return new Pg(i,o,this.afs)}snapshotChanges(){return Ez(this.ref,this.afs.schedulers.outsideAngular).pipe(Tn)}valueChanges(e={}){return this.snapshotChanges().pipe(H(({payload:n})=>e.idField?Ve(G({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return Fe(this.ref.get(e)).pipe(Tn)}};function Mg(t,e){return dI(t,e).pipe(Ko(void 0),ul(),H(n=>{let[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let l=o.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function _k(t,e,n){return Mg(t,n).pipe(Wo((r,i)=>Cz(r,i.map(o=>o.payload),e),[]),$y(),H(r=>r.map(i=>({type:i.type,payload:i}))))}function Cz(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=bz(t,r))}),t}function lI(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function bz(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return lI(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return lI(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lI(t,e.oldIndex,1);break}return t}function Ek(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Pg=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Mg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(H(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Ko(void 0),ul(),tn(([r,i])=>i.length>0||!r),H(([,r])=>r),Tn)}auditTrail(e){return this.stateChanges(e).pipe(Wo((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=Ek(e);return _k(this.query,n,this.afs.schedulers.outsideAngular).pipe(Tn)}valueChanges(e={}){return dI(this.query,this.afs.schedulers.outsideAngular).pipe(H(n=>n.payload.docs.map(r=>e.idField?Ve(G({},r.data()),{[e.idField]:r.id}):r.data())),Tn)}get(e){return Fe(this.query.get(e)).pipe(Tn)}add(e){return this.ref.add(e)}doc(e){return new Ag(this.ref.doc(e),this.afs)}},uI=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Mg(this.query,this.afs.schedulers.outsideAngular).pipe(Tn):Mg(this.query,this.afs.schedulers.outsideAngular).pipe(H(n=>n.filter(r=>e.indexOf(r.type)>-1)),tn(n=>n.length>0),Tn)}auditTrail(e){return this.stateChanges(e).pipe(Wo((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=Ek(e);return _k(this.query,n,this.afs.schedulers.outsideAngular).pipe(Tn)}valueChanges(e={}){return dI(this.query,this.afs.schedulers.outsideAngular).pipe(H(r=>r.payload.docs.map(i=>e.idField?G({[e.idField]:i.id},i.data()):i.data())),Tn)}get(e){return Fe(this.query.get(e)).pipe(Tn)}},Iz=new z("angularfire2.enableFirestorePersistence"),Dz=new z("angularfire2.firestore.persistenceSettings"),Tz=new z("angularfire2.firestore.settings"),xz=new z("angularfire2.firestore.use-emulator");function Ck(t,e=n=>n){return{query:e(t),ref:t}}var gi=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,o,s,a,c,l,d,f,v,_,b,T,M,O,K){this.schedulers=c;let B=cu(n,a,r),te=d;f&&e_(B,a,v,b,T,M,_,O),[this.firestore,this.persistenceEnabled$]=Sp(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{let ie=a.runOutsideAngular(()=>B.firestore());if(o&&ie.settings(o),te&&ie.useEmulator(...te),i&&!oo(s)){let ce=()=>{try{return Fe(ie.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(ze){return typeof console<"u"&&console.warn(ze),re(!1)}};return[ie,a.runOutsideAngular(ce)]}else return[ie,re(!1)]},[o,te,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:o,query:s}=Ck(i,r),a=this.schedulers.ngZone.run(()=>o);return new Pg(a,s,this)}collectionGroup(n,r){let i=r||(s=>s),o=this.firestore.collectionGroup(n);return new uI(i(o),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new Ag(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(L(qa),L(za,8),L(Iz,8),L(Tz,8),L(Gt),L(Ae),L(ti),L(Dz,8),L(xz,8),L(Ga,8),L(Kw,8),L(Qw,8),L(Yw,8),L(Zw,8),L(Xw,8),L(Jw,8),L(Pr,8))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var yr=(()=>{let e=class e{constructor(r){this.db=r,this.consultoresCollection=r.collection("consultores")}getConsultores(){return this.consutores=this.consultoresCollection.snapshotChanges().pipe(H(r=>r.map(i=>{let o=i.payload.doc.data();return o.id=i.payload.doc.id,o}))),this.consutores}agregarConsultor(r){return this.consultoresCollection.add(r)}eliminarConsultor(r){return this.consultoresCollection.doc(r.id).delete()}actualizarConsultor(r){return this.consultoresCollection.doc(r.id).update(r)}getConsultor(r){return this.consultorDoc=this.consultoresCollection.doc(r),this.consultorDoc.snapshotChanges().pipe(H(i=>{let o=i.payload.data();return o.id=i.payload.id,o}))}};e.\u0275fac=function(i){return new(i||e)(L(gi))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bk=(()=>{let e=class e{constructor(r){this.consultorService=r}ngOnInit(){this.consultorService.getConsultor(this.idConsultor).subscribe(r=>{this.consultor=r})}};e.\u0275fac=function(i){return new(i||e)(P(yr))},e.\u0275cmp=se({type:e,selectors:[["app-mostrarconsultorfn"]],inputs:{idConsultor:"idConsultor"},standalone:!0,features:[ae],decls:6,vars:3,consts:[[1,"row"]],template:function(i,o){i&1&&(y(0,"div",0),w(1),p(),y(2,"div",0),w(3),p(),y(4,"div",0),w(5),p()),i&2&&(C(),X(o.consultor.nombre),C(2),X(o.consultor.email),C(2),X(o.consultor.telefono))}});let t=e;return t})();var yi=(()=>{let e=class e{constructor(r){this.db=r,this.expertoTecnicoCollection=r.collection("expertosTecnicos")}agregarExpertoTecnico(r){return this.expertoTecnicoCollection.add(r)}getExpertosTecnicos(){return this.expertosTecnicos=this.expertoTecnicoCollection.snapshotChanges().pipe(H(r=>r.map(i=>{let o=i.payload.doc.data();return o.id=i.payload.doc.id,o}))),this.expertosTecnicos}getExpertoTecnico(r){return this.expertoTecnicoDoc=this.db.doc(`expertosTecnicos/${r}`),this.expertoTecnico=this.expertoTecnicoDoc.snapshotChanges().pipe(H(i=>{let o=i.payload.data();return o.id=i.payload.id,o})),this.expertoTecnico}actualizarExpertoTecnico(r){return this.expertoTecnicoCollection.doc(r.id).update(r)}eliminarExpertoTecnico(r){return this.expertoTecnicoCollection.doc(r.id).delete()}};e.\u0275fac=function(i){return new(i||e)(L(gi))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ik=(()=>{let e=class e{constructor(r){this.expertoService=r}ngOnInit(){this.expertoService.getExpertoTecnico(this.idExperto).subscribe(r=>{this.experto=r})}};e.\u0275fac=function(i){return new(i||e)(P(yi))},e.\u0275cmp=se({type:e,selectors:[["app-mostrarexperto"]],inputs:{idExperto:"idExperto"},standalone:!0,features:[ae],decls:6,vars:3,consts:[[1,"row"]],template:function(i,o){i&1&&(y(0,"div",0),w(1),p(),y(2,"div",0),w(3),p(),y(4,"div",0),w(5),p()),i&2&&(C(),X(o.experto.nombre),C(2),X(o.experto.email),C(2),X(o.experto.telefono))}});let t=e;return t})();var vi=(()=>{let e=class e{constructor(r){this.db=r,this.proyectosCollection=r.collection("proyectos",i=>i.where("estado","==","ACTIVO").orderBy("codigo","asc")),this.proyectosCertificadosCollection=r.collection("proyectos",i=>i.where("estado","==","Certificado").orderBy("codigo","asc")),this.proyectosArchivadosCollection=r.collection("proyectos",i=>i.where("estado","==","Archivado").orderBy("codigo","asc"))}agregarProyecto(r){return this.proyectosCollection.add(r)}getProyectos(){return this.proyectos=this.proyectosCollection.snapshotChanges().pipe(H(r=>r.map(i=>{let o=i.payload.doc.data(),s=i.payload.doc.data().fechaInicioProyecto,a=i.payload.doc.data().fechaFinProyecto,c=i.payload.doc.data().fechaComite,l=i.payload.doc.data().fechaFinComite;return o.fechaInicioProyecto=s.toDate(),a!=null&&(o.fechaFinProyecto=a.toDate()),c!=null&&(o.fechaComite=c.toDate()),l!=null&&(o.fechaFinComite=l.toDate()),o.id=i.payload.doc.id,o}))),this.proyectos}getProyecto(r){return this.proyectoDoc=this.proyectosCollection.doc(r),this.proyectoDoc.snapshotChanges().pipe(H(i=>{let o=i.payload.data(),s=i.payload.data().fechaInicioProyecto,a=i.payload.data().fechaFinProyecto,c=i.payload.data().fechaComite,l=i.payload.data().fechaFinComite;return o.fechaInicioProyecto=s.toDate(),a!=null?o.fechaFinProyecto=a.toDate():o.fechaFinProyecto=null,c!=null?o.fechaComite=c.toDate():o.fechaComite=null,l!=null?o.fechaFinComite=l.toDate():o.fechaFinComite=null,o.id=i.payload.data().id,o}))}actualizarProyecto(r){return r.fechaFinProyecto==null&&(r.fechaFinProyecto=null),this.proyectosCollection.doc(r.id).update(r)}archivarProyecto(r){return r.estado="Archivado",this.proyectosCollection.doc(r.id).update(r)}certificarProyecto(r){return r.estado="Certificado",this.proyectosCollection.doc(r.id).update(r)}getProyectosCertificados(){return this.proyectos=this.proyectosCertificadosCollection.snapshotChanges().pipe(H(r=>r.map(i=>{let o=i.payload.doc.data(),s=i.payload.doc.data().fechaInicioProyecto,a=i.payload.doc.data().fechaFinProyecto,c=i.payload.doc.data().fechaComite,l=i.payload.doc.data().fechaFinComite;return o.fechaInicioProyecto=s.toDate(),a!=null&&(o.fechaFinProyecto=a.toDate()),c!=null&&(o.fechaComite=c.toDate()),l!=null&&(o.fechaFinComite=l.toDate()),o.id=i.payload.doc.id,o}))),this.proyectos}getProyectosArchivados(){return this.proyectos=this.proyectosArchivadosCollection.snapshotChanges().pipe(H(r=>r.map(i=>{let o=i.payload.doc.data(),s=i.payload.doc.data().fechaInicioProyecto,a=i.payload.doc.data().fechaFinProyecto,c=i.payload.doc.data().fechaComite,l=i.payload.doc.data().fechaFinComite;return o.fechaInicioProyecto=s.toDate(),a!=null&&(o.fechaFinProyecto=a.toDate()),c!=null&&(o.fechaComite=c.toDate()),l!=null&&(o.fechaFinComite=l.toDate()),o.id=i.payload.doc.id,o}))),this.proyectos}};e.\u0275fac=function(i){return new(i||e)(L(gi))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sz(t,e){if(t&1&&(y(0,"div",13),w(1),xr(2,"date"),p()),t&2){let n=oe().$implicit;C(),X(Sr(2,1,n.fechaComite,"dd/MM/yyyy"))}}function Az(t,e){t&1&&(y(0,"div",13),w(1,"No hay Comite"),p())}function Mz(t,e){if(t&1){let n=Be();y(0,"tr")(1,"td"),w(2),p(),y(3,"td")(4,"div",13),w(5),p(),y(6,"div",13),w(7),p()(),y(8,"td"),w(9),p(),y(10,"td"),w(11),p(),y(12,"td")(13,"div",13),w(14),xr(15,"date"),p(),Y(16,Sz,3,4,"div",14)(17,Az,2,0),p(),y(18,"td"),R(19,"app-mostrarconsultorfn",15),p(),y(20,"td"),R(21,"app-mostrarexperto",16),p(),y(22,"td",17)(23,"button",18),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.seguimientoProyecto(o))}),R(24,"i",19),p(),y(25,"button",20),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.certificarProyecto(o))}),R(26,"i",21),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.codigo),C(3),Me("Acronimo: ",n.acronimo,""),C(2),Me("Titulo: ",n.titulo,""),C(2),X(n.cliente),C(2),X(n.ejercicio),C(3),X(Sr(15,9,n.fechaInicioProyecto,"dd/MM/yyyy")),C(2),Z(16,n.fechaComite?16:17),C(3),Ie("idConsultor",n.consultor),C(2),Ie("idExperto",n.expertoTecnico)}}function Pz(t,e){t&1&&(y(0,"tr")(1,"td",22),w(2,"No hay proyectos"),p()())}function Rz(t,e){if(t&1&&ct(0,Mz,27,12,"tr",null,at,!1,Pz,3,0),t&2){let n=oe();lt(n.proyectos)}}function Nz(t,e){if(t&1&&(y(0,"div"),w(1),xr(2,"date"),p()),t&2){let n=oe().$implicit;C(),X(Sr(2,1,n.fechaComite,"dd/MM/yyyy"))}}function kz(t,e){t&1&&(y(0,"div"),w(1,"No hay Comite"),p())}function Fz(t,e){if(t&1){let n=Be();y(0,"tr")(1,"td"),w(2),p(),y(3,"td")(4,"div",13),w(5),p(),y(6,"div",13),w(7),p()(),y(8,"td"),w(9),p(),y(10,"td"),w(11),p(),y(12,"td",23)(13,"div"),w(14),xr(15,"date"),p(),Y(16,Nz,3,4,"div")(17,kz,2,0),p(),y(18,"td",17)(19,"button",18),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.seguimientoProyecto(o))}),R(20,"i",19),p(),y(21,"button",20),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.certificarProyecto(o))}),R(22,"i",21),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.codigo),C(3),Me("Acronimo: ",n.acronimo,""),C(2),Me("Titulo: ",n.titulo,""),C(2),X(n.cliente),C(2),X(n.ejercicio),C(3),X(Sr(15,7,n.fechaInicioProyecto,"dd/MM/yyyy")),C(2),Z(16,n.fechaComite?16:17)}}function Oz(t,e){t&1&&(y(0,"tr")(1,"td",22),w(2,"No hay proyectos"),p()())}function Vz(t,e){if(t&1&&ct(0,Fz,23,10,"tr",null,at,!1,Oz,3,0),t&2){let n=oe();lt(n.proyectosBusqueda)}}var Dk=(()=>{let e=class e{constructor(r,i){this.proyectoService=r,this.router=i,this.proyectos=[],this.consultores=[],this.busqueda=!1,this.proyectosBusqueda=[]}ngOnInit(){this.proyectoService.getProyectos().subscribe(r=>{this.proyectos=r})}agregarProyectos(){this.router.navigateByUrl("proyectos/agregarProyecto").then()}seguimientoProyecto(r){this.router.navigateByUrl("proyectos/seguimientoProyecto/"+r.id).then()}certificarProyecto(r){this.proyectoService.certificarProyecto(r).then(()=>this.router.navigateByUrl("proyectos/listadoProyectos"))}buscar(r){this.busqueda=!0,this.proyectosBusqueda=this.proyectos.filter(i=>i.codigo.includes(r))}};e.\u0275fac=function(i){return new(i||e)(P(vi),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-listado-proyectos"]],standalone:!0,features:[ae],decls:35,vars:3,consts:[[1,"row","animate__animated","animate__backInDown"],[1,"col-10"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Proyecto.....",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],[1,"table","table-striped","animate__animated","animate__backInDown",2,"z-index","-2"],["scope","col"],["scope","col",2,"width","40%","word-wrap","break-word"],["scope","col",1,"text-center"],[1,"text-center","animate__animated","animate__backInDown"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","row"],[3,"idConsultor"],[3,"idExperto"],[1,"text-center","text-nowrap"],["type","button",1,"btn","btn-outline-primary","m-2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-book"],["colspan","8",1,"text-center"],[1,"text-center","align-middle"]],template:function(i,o){if(i&1){let s=Be();y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),k("keyup",function(){pe(s);let c=ar(5);return me(o.buscar(c.value))}),p()()()(),y(6,"div",6)(7,"div",2)(8,"div",3),w(9),p()()()(),y(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),w(14,"Codigo"),p(),y(15,"th",9),w(16,"Proyecto"),p(),y(17,"th",8),w(18,"Cliente"),p(),y(19,"th",8),w(20,"Ejercicio"),p(),y(21,"th",8),w(22,"Fecha comite"),p(),y(23,"th",8),w(24,"Consultor"),p(),y(25,"th",8),w(26,"Experto"),p(),y(27,"th",10),w(28,"Acciones"),p()()(),y(29,"tbody"),Y(30,Rz,3,1)(31,Vz,3,1),p()(),y(32,"div",11)(33,"button",12),k("click",function(){return o.agregarProyectos()}),w(34," A\xF1adir Proyecto"),p()()}i&2&&(C(9),Me(" Proyectos en activo ",o.proyectos.length," "),C(21),Z(30,o.busqueda?-1:30),C(),Z(31,o.busqueda?31:-1))},dependencies:[Na,bk,Ik]});let t=e;return t})();var o2=Cn(wn());var Ok=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(P(Zr),P(Tr))},e.\u0275dir=tt({type:e});let t=e;return t})(),xd=(()=>{let e=class e extends Ok{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=tt({type:e,features:[pn]});let t=e;return t})(),Gs=new z("NgValueAccessor"),Lz={provide:Gs,useExisting:Vn(()=>Sd),multi:!0},Sd=(()=>{let e=class e extends xd{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=tt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&k("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[cr([Lz]),pn]});let t=e;return t})(),jz={provide:Gs,useExisting:Vn(()=>ot),multi:!0};function Bz(){let t=Ri()?Ri().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Uz=new z("CompositionEventMode"),ot=(()=>{let e=class e extends Ok{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bz())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(P(Zr),P(Tr),P(Uz,8))},e.\u0275dir=tt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&k("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[cr([jz]),pn]});let t=e;return t})();function fI(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Hc=new z("NgValidators"),jg=new z("NgAsyncValidators");function $z(t){return e=>{if(fI(e.value)||fI(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Hz(t){return fI(t.value)?{required:!0}:null}function Tk(t){return null}function Vk(t){return t!=null}function Lk(t){return as(t)?Fe(t):t}function jk(t){let e={};return t.forEach(n=>{e=n!=null?G(G({},e),n):e}),Object.keys(e).length===0?null:e}function Bk(t,e){return e.map(n=>n(t))}function qz(t){return!t.validate}function Uk(t){return t.map(e=>qz(e)?e:n=>e.validate(n))}function zz(t){if(!t)return null;let e=t.filter(Vk);return e.length==0?null:function(n){return jk(Bk(n,e))}}function yI(t){return t!=null?zz(Uk(t)):null}function Gz(t){if(!t)return null;let e=t.filter(Vk);return e.length==0?null:function(n){let r=Bk(n,e).map(Lk);return jy(r).pipe(H(jk))}}function vI(t){return t!=null?Gz(Uk(t)):null}function xk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $k(t){return t._rawValidators}function Hk(t){return t._rawAsyncValidators}function pI(t){return t?Array.isArray(t)?t:[t]:[]}function Ng(t,e){return Array.isArray(t)?t.includes(e):t===e}function Sk(t,e){let n=pI(e);return pI(t).forEach(i=>{Ng(n,i)||n.push(i)}),n}function Ak(t,e){return pI(e).filter(n=>!Ng(t,n))}var kg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Hi=class extends kg{get formDirective(){return null}get path(){return null}},zs=class extends kg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fg=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Wz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_re=Ve(G({},Wz),{"[class.ng-submitted]":"isSubmitted"}),yt=(()=>{let e=class e extends Fg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(P(zs,2))},e.\u0275dir=tt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Vf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[pn]});let t=e;return t})(),Nt=(()=>{let e=class e extends Fg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(P(Hi,10))},e.\u0275dir=tt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Vf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[pn]});let t=e;return t})();var bd="VALID",Rg="INVALID",Bc="PENDING",Id="DISABLED";function wI(t){return(Bg(t)?t.validators:t)||null}function Kz(t){return Array.isArray(t)?yI(t):t||null}function _I(t,e){return(Bg(e)?e.asyncValidators:t)||null}function Qz(t){return Array.isArray(t)?vI(t):t||null}function Bg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function qk(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[n])throw new ne(1001,"")}function zk(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ne(1002,"")})}var Uc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bd}get invalid(){return this.status===Rg}get pending(){return this.status==Bc}get disabled(){return this.status===Id}get enabled(){return this.status!==Id}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Sk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ak(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ak(e,this._rawAsyncValidators))}hasValidator(e){return Ng(this._rawValidators,e)}hasAsyncValidator(e){return Ng(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Id,this.errors=null,this._forEachChild(r=>{r.disable(Ve(G({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ve(G({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bd,this._forEachChild(r=>{r.enable(Ve(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ve(G({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bd||this.status===Bc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Id:bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bc,this._hasOwnPendingAsyncValidator=!0;let n=Lk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new zt,this.statusChanges=new zt}_calculateStatus(){return this._allControlsDisabled()?Id:this.errors?Rg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bc)?Bc:this._anyControlsHaveStatus(Rg)?Rg:bd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Kz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qz(this._rawAsyncValidators)}},$c=class extends Uc{constructor(e,n,r){super(wI(n),_I(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){zk(this,!0,e),Object.keys(e).forEach(r=>{qk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mI=class extends $c{};var Ad=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Ug}),Ug="always";function Gk(t,e){return[...e.path,t]}function Og(t,e,n=Ug){EI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Zz(t,e),Jz(t,e),Xz(t,e),Yz(t,e)}function Mk(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Lg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Vg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Yz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function EI(t,e){let n=$k(t);e.validator!==null?t.setValidators(xk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Hk(t);e.asyncValidator!==null?t.setAsyncValidators(xk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Vg(e._rawValidators,i),Vg(e._rawAsyncValidators,i)}function Lg(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=$k(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Hk(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Vg(e._rawValidators,r),Vg(e._rawAsyncValidators,r),n}function Zz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Wk(t,e)})}function Xz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Wk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Wk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Jz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Kk(t,e){t==null,EI(t,e)}function e8(t,e){return Lg(t,e)}function Qk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function t8(t){return Object.getPrototypeOf(t.constructor)===xd}function Yk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Zk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ot?n=o:t8(o)?r=o:i=o}),i||r||n||null}function n8(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var r8={provide:Hi,useExisting:Vn(()=>CI)},Dd=(()=>Promise.resolve())(),CI=(()=>{let e=class e extends Hi{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new zt,this.form=new $c({},yI(r),vI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Dd.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Og(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Dd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Dd.then(()=>{let i=this._findContainer(r.path),o=new $c({});Kk(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Dd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Dd.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Yk(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(P(Hc,10),P(jg,10),P(Ad,8))},e.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&k("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cr([r8]),pn]});let t=e;return t})();function Pk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Rk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Td=class extends Uc{constructor(e=null,n,r){super(wI(n),_I(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Rk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Rk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var i8=t=>t instanceof Td;var o8={provide:zs,useExisting:Vn(()=>Md)},Nk=(()=>Promise.resolve())(),Md=(()=>{let e=class e extends zs{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Td,this._registered=!1,this.name="",this.update=new zt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Zk(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Qk(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Og(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Nk.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ar(i);Nk.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Gk(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(P(Hi,9),P(Hc,10),P(jg,10),P(Gs,10),P(Aa,8),P(Ad,8))},e.\u0275dir=tt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[cr([o8]),pn,Ir]});let t=e;return t})(),kt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),s8={provide:Gs,useExisting:Vn(()=>Pd),multi:!0},Pd=(()=>{let e=class e extends xd{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=tt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&k("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[cr([s8]),pn]});let t=e;return t})();var a8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jt({type:e}),e.\u0275inj=Lt({});let t=e;return t})();var Xk=new z("NgModelWithFormControlWarning");var c8={provide:Hi,useExisting:Vn(()=>Ut)},Ut=(()=>{let e=class e extends Hi{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new zt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Og(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Mk(r.control||null,r,!1),n8(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Yk(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(Mk(i||null,r),i8(o)&&(Og(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Kk(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&e8(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){EI(this.form,this),this._oldForm&&Lg(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(P(Hc,10),P(jg,10),P(Ad,8))},e.\u0275dir=tt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&k("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cr([c8]),pn,Ir]});let t=e;return t})();var l8={provide:zs,useExisting:Vn(()=>$t)},$t=(()=>{let e=class e extends zs{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new zt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Zk(this,s)}ngOnChanges(r){this._added||this._setUpControl(),Qk(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Gk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(P(Hi,13),P(Hc,10),P(jg,10),P(Gs,10),P(Xk,8))},e.\u0275dir=tt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[cr([l8]),pn,Ir]});let t=e;return t})(),u8={provide:Gs,useExisting:Vn(()=>qc),multi:!0};function Jk(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function d8(t){return t.split(":")[0]}var qc=(()=>{let e=class e extends xd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=Jk(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=d8(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=tt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&k("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[cr([u8]),pn]});let t=e;return t})(),$g=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(Jk(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(P(Tr),P(Zr),P(qc,9))},e.\u0275dir=tt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),h8={provide:Gs,useExisting:Vn(()=>e2),multi:!0};function kk(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function f8(t){return t.split(":")[0]}var e2=(()=>{let e=class e extends xd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],d=this._getOptionValue(l.value);o.push(d)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let d=this._getOptionValue(l.value);o.push(d)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=f8(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=tt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&k("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[cr([h8]),pn]});let t=e;return t})(),Hg=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(kk(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(kk(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(P(Tr),P(Zr),P(e2,9))},e.\u0275dir=tt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function p8(t){return typeof t=="number"?t:parseFloat(t)}var t2=(()=>{let e=class e{constructor(){this._validator=Tk}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Tk,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,features:[Ir]});let t=e;return t})();var m8={provide:Hc,useExisting:Vn(()=>bI),multi:!0},bI=(()=>{let e=class e extends t2{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>p8(r),this.createValidator=r=>$z(r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=tt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&Ma("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[cr([m8]),pn]});let t=e;return t})(),g8={provide:Hc,useExisting:Vn(()=>II),multi:!0};var II=(()=>{let e=class e extends t2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ar,this.createValidator=r=>Hz}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=tt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Ma("required",o._enabled?"":null)},inputs:{required:"required"},features:[cr([g8]),pn]});let t=e;return t})();var n2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jt({type:e}),e.\u0275inj=Lt({imports:[a8]});let t=e;return t})(),gI=class extends Uc{constructor(e,n,r){super(wI(n),_I(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){zk(this,!1,e),e.forEach((r,i)=>{qk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Fk(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Zt=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return Fk(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new $c(o,s)}record(r,i=null){let o=this._reduceControls(r);return new mI(o,i)}control(r,i,o){let s={};return this.useNonNullable?(Fk(i)?s=i:(s.validators=i,s.asyncValidators=o),new Td(r,Ve(G({},s),{nonNullable:!0}))):new Td(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new gI(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Td)return r;if(r instanceof Uc)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _n=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ad,useValue:r.callSetDisabledState??Ug}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jt({type:e}),e.\u0275inj=Lt({imports:[n2]});let t=e;return t})(),Ft=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xk,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ad,useValue:r.callSetDisabledState??Ug}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jt({type:e}),e.\u0275inj=Lt({imports:[n2]});let t=e;return t})();var r2=Cn(wn());var qg=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.isLoggedIn=!1,this.user$=r.authState,this.user$.subscribe(o=>{this.isLoggedIn=!!o})}login(r,i){return new Promise((o,s)=>{this.authService.signInWithEmailAndPassword(r,i).then(a=>o(a),a=>s(a))})}getAuth(){return this.authService.authState.pipe(H(r=>r))}updateImageProfile(r){return new Promise((i,o)=>{this.authService.currentUser.then(s=>{s?.updateProfile({photoURL:r}).then(()=>i(),a=>o(a))})})}getUser(){return this.authService.user}logout(){this.authService.signOut().then(r=>{this.router.navigate(["/login"]).then(()=>r2.default.fire({icon:"success",title:"Sesi\xF3n cerrada",showConfirmButton:!1,timer:1500}))})}updateDisplayName(r){return new Promise((i,o)=>{this.authService.currentUser.then(s=>{s?.updateProfile({displayName:r}).then(()=>i(),a=>o(a))})})}updateEmail(r){return new Promise((i,o)=>{this.authService.currentUser.then(s=>{s?.updateEmail(r).then(()=>i(),a=>o(a))})})}updatePassword(r){return new Promise((i,o)=>{this.authService.currentUser.then(s=>{s?.updatePassword(r).then(()=>i(),a=>o(a))})})}};e.\u0275fac=function(i){return new(i||e)(L(Ga),L(ue))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var s2=(()=>{let e=class e{constructor(r,i){this.router=r,this.loginService=i,this.email="",this.password=""}ngOnInit(){this.loginService.getAuth().subscribe(r=>{r&&console.log(r)})}login(){this.loginService.login(this.email,this.password).then(r=>{this.router.navigate(["/"]).then(i=>console.log(i))}).catch(r=>{o2.default.fire({icon:"error",title:"Oops...",text:"Usuario o contrase\xF1a incorrectos"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(ue),P(qg))},e.\u0275cmp=se({type:e,selectors:[["app-login"]],standalone:!0,features:[ae],decls:18,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["type","email","placeholder","Email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit","value","Login",1,"btn","btn-outline-success","btn-block"]],template:function(i,o){i&1&&(y(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4"),w(7,"Login"),p()(),y(8,"div",5)(9,"form",6),k("submit",function(){return o.login()}),y(10,"div",7)(11,"input",8),k("ngModelChange",function(a){return o.email=a}),p()(),R(12,"br"),y(13,"div",7)(14,"input",9),k("ngModelChange",function(a){return o.password=a}),p()(),R(15,"br"),y(16,"div",10),R(17,"input",11),p()()()()()()()()),i&2&&(C(11),Ie("ngModel",o.email),C(3),Ie("ngModel",o.password))},dependencies:[_n,kt,ot,yt,Nt,II,Md,CI]});let t=e;return t})();function y8(t,e){if(t&1&&(y(0,"option",39),w(1),p()),t&2){let n=e.$implicit;ro("value",n),C(),X(n)}}function v8(t,e){if(t&1&&(y(0,"option",39),w(1),p()),t&2){let n=e.$implicit;ro("value",n.id),C(),X(n.nombre)}}var a2=(()=>{let e=class e{constructor(r,i,o,s){this.fb=r,this.proyectoService=i,this.router=o,this.consultoresService=s,this.consultoras=[],this.consultoraSelecionado=[],this.consultoresService.getConsultores().subscribe(a=>{this.consultores=a,this.consultoras=Array.from(new Set(a.map(c=>c.consultora).filter(c=>c!==void 0))),console.log(this.consultoras)})}ngOnInit(){this.proyectoForm=this.fb.group({codigo:[""],acronimo:[""],titulo:[""],cliente:[""],ejercicio:[""],fechaInicioProyecto:[new Date],fechaFinProyecto:[null],fechaComite:[null],fechaFinComite:[null],coordinadorComite:[""],numeroVersionComite:[null],expertoTecnico:[""],experto4D:[""],consultor:[""],estado:["ACTIVO"],IMV:[""],codigoUnesco:[""],anoCertificacion:[new Date().getFullYear()],precioOfertado:[0],proyectoPrincipal:[],tipoProyecto:["Deducciones"]})}volverInicio(){this.router.navigate(["/"]).then()}agregar(){this.proyectoService.agregarProyecto(this.proyectoForm.value).then(r=>{this.router.navigate(["/"]).then()})}mostrarConsultores(r){this.consultoraSelecionado=this.consultores.filter(i=>i.consultora===r.value)}};e.\u0275fac=function(i){return new(i||e)(P(Zt),P(vi),P(ue),P(yr))},e.\u0275cmp=se({type:e,selectors:[["app-agregarproyecto"]],standalone:!0,features:[ae],decls:85,vars:1,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","codigo",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","codigo","name","codigo","formControlName","codigo",1,"form-control"],["for","acronimo",1,"col-sm-2","col-form-label"],["type","text","id","acronimo","name","acronimo","formControlName","acronimo",1,"form-control"],["for","titulo",1,"col-sm-2","col-form-label"],["type","text","id","titulo","name","titulo","formControlName","titulo",1,"form-control"],["for","cliente",1,"col-sm-2","col-form-label"],["type","text","id","cliente","name","cliente","formControlName","cliente",1,"form-control"],["for","ejercicio",1,"col-sm-2","col-form-label"],["type","number","min","2010","id","ejercicio","name","ejercicio","formControlName","ejercicio",1,"form-control"],["for","consultoras",1,"col-sm-2","col-form-label"],["aria-label","Default select example","id","consultoras",1,"form-select",3,"change"],["consultora",""],["selected",""],["for","consultores",1,"col-sm-2","col-form-label"],["aria-label","Default select example","id","consultores","formControlName","consultor",1,"form-select"],["for","IMV",1,"col-sm-2","col-form-label"],[1,"form-check","form-switch"],["type","checkbox","id","IMV","name","IMV","formControlName","IMV",1,"form-check-input"],["for","precioOfertado",1,"col-sm-2","col-form-label"],["type","number","id","precioOfertado","name","precioOfertado","formControlName","precioOfertado",1,"form-control"],["for","codigoUnesco",1,"col-sm-2","col-form-label"],["type","number","id","codigoUnesco","name","codigoUnesco","formControlName","codigoUnesco",1,"form-control"],["for","proyectoPrincipal",1,"col-sm-2","col-form-label"],["type","checkbox","id","proyectoPrincipal","name","proyectoPrincipal","formControlName","proyectoPrincipal",1,"form-check-input"],["for","tipoProyecto",1,"col-sm-2","col-form-label"],["aria-label","Default select example","id","tipoProyecto","formControlName","tipoProyecto",1,"form-select"],["value","Deducciones"],["value","Bonificaciones"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"],[3,"value"]],template:function(i,o){if(i&1){let s=Be();y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"A\xF1adir Proyecto"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.agregar()}),y(7,"div",6)(8,"label",7),w(9,"C\xF3digo:"),p(),y(10,"div",8),R(11,"input",9),p()(),y(12,"div",6)(13,"label",10),w(14,"Acr\xF3nimo:"),p(),y(15,"div",8),R(16,"input",11),p()(),y(17,"div",6)(18,"label",12),w(19,"Titulo:"),p(),y(20,"div",8),R(21,"input",13),p()(),y(22,"div",6)(23,"label",14),w(24,"Cliente:"),p(),y(25,"div",8),R(26,"input",15),p()(),y(27,"div",6)(28,"label",16),w(29,"Ejercicio:"),p(),y(30,"div",8),R(31,"input",17),p()(),y(32,"div",6)(33,"label",18),w(34,"Consultores:"),p(),y(35,"div",8)(36,"select",19,20),k("change",function(){pe(s);let c=ar(37);return me(o.mostrarConsultores(c))}),y(38,"option",21),w(39,"Selecciona un consultor"),p(),ct(40,y8,2,2,"option",39,at),p()()(),y(42,"div",6)(43,"label",22),w(44,"Consultores:"),p(),y(45,"div",8)(46,"select",23)(47,"option",21),w(48,"Selecciona un consultor"),p(),ct(49,v8,2,2,"option",39,at),p()()(),y(51,"div",6)(52,"label",24),w(53,"IMV:"),p(),y(54,"div",8)(55,"div",25),R(56,"input",26),p()()(),y(57,"div",6)(58,"label",27),w(59,"Precio Oferta:"),p(),y(60,"div",8),R(61,"input",28),p()(),y(62,"div",6)(63,"label",29),w(64,"Codigo Unesco:"),p(),y(65,"div",8),R(66,"input",30),p()(),y(67,"div",6)(68,"label",31),w(69,"Proyecto Principal:"),p(),y(70,"div",8)(71,"div",25),R(72,"input",32),p()()(),y(73,"div",6)(74,"label",33),w(75,"Codigo Unesco:"),p(),y(76,"div",8)(77,"select",34)(78,"option",35),w(79,"Deducciones"),p(),y(80,"option",36),w(81,"Bonificaciones"),p()()()(),y(82,"div",2)(83,"button",37),R(84,"i",38),p()()()()}i&2&&(C(6),Ie("formGroup",o.proyectoForm),C(34),lt(o.consultoras),C(9),lt(o.consultoraSelecionado))},dependencies:[_n,kt,$g,Hg,ot,Pd,Sd,qc,yt,Nt,bI,Ft,Ut,$t]});let t=e;return t})();var zg=class{};var Gg=class{};var Wg=class{};var Kg=class{};var Qg=class{};var c2=Cn(wn());var ko=(()=>{let e=class e{constructor(r){this.db=r,this.expertoComiteCollection=r.collection("expertosComite")}agregarExpertoComite(r){return this.expertoComiteCollection.add(r)}getExpertosComite(){return this.expertosComite=this.expertoComiteCollection.snapshotChanges().pipe(H(r=>r.map(i=>{let o=i.payload.doc.data();return o.id=i.payload.doc.id,o}))),this.expertosComite}getExpertoComite(r){return this.expertoComiteDoc=this.db.doc(`expertosComite/${r}`),this.expertoComite=this.expertoComiteDoc.snapshotChanges().pipe(H(i=>{let o=i.payload.data();return o.id=i.payload.id,o})),this.expertoComite}actualizarExpertoComite(r){return this.expertoComiteCollection.doc(r.id).update(r)}eliminarExpertoComite(r){return this.expertoComiteCollection.doc(r.id).delete()}};e.\u0275fac=function(i){return new(i||e)(L(gi))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fo=(()=>{let e=class e{constructor(r){this.db=r,this.comitesCollection=r.collection("comites")}agregarComite(r){return this.comitesCollection.add(r)}eliminarComite(r){return this.comitesCollection.doc(r.id).delete()}listarComites(){return this.comites=this.comitesCollection.snapshotChanges().pipe(H(r=>r.map(i=>{let o=i.payload.doc.data();return o.id=i.payload.doc.id,o}))),this.comites}obtenerComite(r){return this.comiteDoc=this.comitesCollection.doc(r),this.comiteDoc.snapshotChanges().pipe(H(i=>{let o=i.payload.data();return o.id=i.payload.id,o}))}editarComite(r){return this.comitesCollection.doc(r.id).update(r)}};e.\u0275fac=function(i){return new(i||e)(L(gi))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w8(t,e){if(t&1){let n=Be();y(0,"div",34)(1,"div",35),w(2," Experto Tecnico "),p(),y(3,"div",36)(4,"p",37),w(5),p(),y(6,"p",37),w(7),p(),y(8,"p",37),w(9),p()()(),R(10,"br"),y(11,"div",34)(12,"div",35),w(13," Experto Tecnico emails "),p(),y(14,"div",36)(15,"button",38),k("click",function(){pe(n);let i=oe();return me(i.enviarEmailAperturaExpertoTecnico())}),w(16,"Enviar Email Apertura"),p(),y(17,"button",38),k("click",function(){pe(n);let i=oe();return me(i.enviarEmailCierreExpertoTecnico())}),w(18,"Enviar Email Cierre"),p()()()}if(t&2){let n=oe();C(5),Me("Nombre: ",n.expertoProyecto.nombre+" "+n.expertoProyecto.apellido1+" "+n.expertoProyecto.apellido2,""),C(2),Me("Telefono: ",n.expertoProyecto.telefono,""),C(2),Me("Email: ",n.expertoProyecto.email,"")}}function _8(t,e){if(t&1&&(y(0,"option",45),w(1),p()),t&2){let n=e.$implicit;ro("value",n.id),C(),X(n.nombre+""+n.apellido1)}}function E8(t,e){if(t&1){let n=Be();y(0,"label",42),w(1,"Experto Tecnico:"),p(),y(2,"div",9)(3,"select",43),k("ngModelChange",function(i){pe(n);let o=oe();return me(o.proyecto.expertoTecnico=i)}),y(4,"option",44),w(5,"Selecciona un ET"),p(),ct(6,_8,2,2,"option",45,at),p()()}if(t&2){let n=oe();C(3),Ie("ngModel",n.proyecto.expertoTecnico),C(3),lt(n.elegirET)}}function C8(t,e){if(t&1){let n=Be();y(0,"div",9)(1,"label",46),w(2,"Fecha Inicio Comite:"),p(),y(3,"div",11)(4,"button",47),k("click",function(){pe(n);let i=oe();return me(i.inicioComite())}),w(5,"Inicio Comite"),p()()()}}function b8(t,e){if(t&1&&(y(0,"option",45),w(1),p()),t&2){let n=e.$implicit;ro("value",n.id),C(),X(n.nombre)}}function I8(t,e){if(t&1){let n=Be();y(0,"div",9)(1,"div",9)(2,"label",48),w(3,"Coordinador:"),p(),y(4,"div",11)(5,"select",49),k("ngModelChange",function(i){pe(n);let o=oe();return me(o.proyecto.coordinadorComite=i)}),y(6,"option",44),w(7,"Selecciona un Coordinador"),p(),ct(8,b8,2,2,"option",45,at),p()()()(),y(10,"div",9)(11,"label",50),w(12,"Fecha Fin Comite:"),p(),y(13,"div",11)(14,"button",51),k("click",function(){pe(n);let i=oe();return me(i.finDeComite())}),w(15,"Fin de Comite"),p()()(),y(16,"div",9)(17,"label",52),w(18,"Versi\xF3n Comite:"),p(),y(19,"div",11)(20,"input",53),k("ngModelChange",function(i){pe(n);let o=oe();return me(o.proyecto.numeroVersionComite=i)}),p()()()}if(t&2){let n=oe();C(5),Ie("ngModel",n.proyecto.coordinadorComite),C(3),lt(n.coordinadoresComite),C(12),Ie("ngModel",n.proyecto.numeroVersionComite)}}function D8(t,e){if(t&1&&(y(0,"option",45),w(1),p()),t&2){let n=e.$implicit;ro("value",n.id),C(),X(n.nombre)}}function T8(t,e){if(t&1){let n=Be();y(0,"div",9)(1,"label",54),w(2,"Experto 4D:"),p(),y(3,"div",11)(4,"select",55),k("change",function(){pe(n);let i=oe();return me(i.actualizarproyecto())})("ngModelChange",function(i){pe(n);let o=oe();return me(o.proyecto.experto4D=i)}),y(5,"option",44),w(6,"Selecciona un Experto 4D"),p(),ct(7,D8,2,2,"option",45,at),p()()()}if(t&2){let n=oe();C(4),Ie("ngModel",n.proyecto.experto4D),C(3),lt(n.expertos4D)}}function x8(t,e){if(t&1){let n=Be();y(0,"div",36)(1,"p",37),w(2),p(),y(3,"p",37),w(4),p(),y(5,"p",37),w(6),p()(),y(7,"div",36)(8,"button",38),k("click",function(){pe(n);let i=oe();return me(i.enviarEmailAperturaComite())}),w(9,"Enviar Email Apertura"),p(),y(10,"button",38),k("click",function(){pe(n);let i=oe();return me(i.enviarEmailCycComite())}),w(11,"Enviar CYC"),p()()}if(t&2){let n=oe();C(2),Me("Nombre: ",n.expertoComite.nombre+" "+n.expertoComite.apellido1+" "+n.expertoComite.apellido2,""),C(2),Me("Telefono: ",n.expertoComite.telefono,""),C(2),Me("Email: ",n.expertoComite.email,"")}}var l2=(()=>{let e=class e{constructor(r,i,o,s,a,c,l){this.route=r,this.proyectoService=i,this.consultorService=o,this.expertoService=s,this.expertocomiteService=a,this.comiteService=c,this.router=l,this.elegirET=[],this.coordinadoresComite=[],this.expertos4D=[],this.codigoproyecto=Sa(null),this.idProyecto=this.route.snapshot.paramMap.get("id")||"",this.proyecto=new zg,this.consultorProyecto=new Gg,this.expertoProyecto=new Wg,this.comiteProyecto=new Kg,this.expertoComite=new Qg}ngOnInit(){this.proyectoService.getProyecto(this.idProyecto).subscribe({next:r=>{this.proyecto=r,r.codigo!=null&&this.codigoproyecto.set(r.codigo),r.consultor!=null&&r.consultor!=""&&this.consultorService.getConsultor(r.consultor).subscribe(i=>{this.consultorProyecto=i}),r.expertoTecnico!=null&&r.expertoTecnico!=""&&this.expertoService.getExpertoTecnico(r.expertoTecnico).subscribe(i=>{this.expertoProyecto=i}),r.coordinadorComite!=null&&r.coordinadorComite!=""&&this.comiteService.obtenerComite(r.coordinadorComite).subscribe(i=>{this.comiteProyecto=i}),r.experto4D!=null&&r.experto4D!=""&&this.expertocomiteService.getExpertoComite(r.experto4D).subscribe(i=>{this.expertoComite=i})},error:r=>console.log(r)}),this.expertoService.getExpertosTecnicos().subscribe({next:r=>{this.elegirET=r},error:r=>console.log(r),complete:()=>console.log("done")}),this.comiteService.listarComites().subscribe({next:r=>{this.coordinadoresComite=r},error:r=>console.log(r)}),this.expertocomiteService.getExpertosComite().subscribe({next:r=>{this.expertos4D=r},error:r=>console.log(r)})}archivarProyecto(){this.proyectoService.archivarProyecto(this.proyecto).then(()=>{this.router.navigateByUrl("proyectos").then()})}actualizarproyecto(){this.proyecto.id=this.idProyecto,this.proyectoService.actualizarProyecto(this.proyecto).then(()=>{c2.default.fire({icon:"success",title:"Proyecto actualizado correctamente",showConfirmButton:!1,timer:1500}).then(()=>{this.router.navigateByUrl("proyectos/seguimientoProyecto/"+this.proyecto.id).then()})})}volver(){this.router.navigate(["/proyectos/listadoProyectos"]).then()}inicioComite(){this.proyecto.fechaComite=new Date,this.actualizarproyecto()}finDeComite(){this.proyecto.fechaFinComite=new Date,this.actualizarproyecto()}enviarEmailAperturaExpertoTecnico(){let r="Proyecto "+this.proyecto.codigo+": "+this.proyecto.titulo,i="Buenos d\xEDas, "+this.expertoProyecto.nombre+" "+this.expertoProyecto.apellido1+" "+this.expertoProyecto.apellido2+`

Mi nombre es Mario Borrego de EQA y ser\xE9 el gestor del proyecto `+this.proyecto.codigo+" de la empresa "+this.proyecto.cliente+`. Te acabo de asignar en plataforma por lo que ya puedes realizar la evaluaci\xF3n. Puedes visualizar sobre la misma la NC que he abierto. A lo largo de la ma\xF1ana de ma\xF1ana si tienes disponibilidad la llamo y comentamos el proyecto. 

Quedo a la espera por si necesitas abrir NC 

Un saludo, Mario Borrego`;window.location.href="mailto:"+this.expertoProyecto.email+"?subject="+encodeURIComponent(r)+"&body="+encodeURIComponent(i)}enviarEmailCierreExpertoTecnico(){let r="Proyecto "+this.proyecto.codigo+": "+this.proyecto.titulo+" - Certificado",i="Buenos d\xEDas, "+this.expertoProyecto.nombre+" "+this.expertoProyecto.apellido1+" "+this.expertoProyecto.apellido2+`

Queria informarle que el proyecto ya ha sido certificado. Aprovecho para agradecerle su colaboraci\xF3n en el mismo. Ha sido un placer trabajar con usted y agradecerle su dedicacion, espero colaborar con usted en el futuro.

Un saludo, Mario Borrego`;window.location.href="mailto:"+this.expertoProyecto.email+"?subject="+encodeURIComponent(r)+"&body="+encodeURIComponent(i)}enviarEmailAperturaComite(){let r="Proyecto "+this.proyecto.codigo+": "+this.proyecto.titulo+" - Apertura Comite",i="Buenos d\xEDas, "+this.comiteProyecto.nombre+`

Mi nombre es Mario Borrego de EQA y ser\xE9 el gestor del proyecto`+this.proyecto.codigo+" de la empresa"+this.proyecto.cliente+`. Le adjunto la documentaci\xF3n necesaria para su evaluaci\xF3n.

Si le surge alguna duda no dude en contactarme, quedo a su disposici\xF3n.

Un saludo, Mario Borrego`;window.location.href="mailto:"+this.expertoProyecto.email+"?subject="+encodeURIComponent(r)+"&body="+encodeURIComponent(i)}enviarEmailCycComite(){let r="Buenos d\xEDas "+this.expertoComite.nombre+" "+this.expertoComite.apellido1+" "+this.expertoComite.apellido2+`,

Mi nombre es Mario Borrego de EQA y ser\xE9 el gestor del proyecto`+this.proyecto.codigo+"de la empresa "+this.proyecto.cliente+`. Le adjunto la CYC 4D para que me devuelva cumplimentada previo al env\xEDo de ladocumentaci\xF3n necesaria para la evaluaci\xF3n de comit\xE9. Si le surge alguna duda no dude en contactarme, quedo a su disposici\xF3n.

Un saludo, Mario Borrego.`;window.location.href="mailto:"+this.expertoComite.email+"?subject="+encodeURIComponent("CYC proyecto "+this.proyecto.codigo)+"&body="+encodeURIComponent(r)}enviarEmailCertificadoCliente(){let r="Certificado "+this.proyecto.codigo,i="Estimado cliente, "+this.consultorProyecto.nombre+`

Una vez tomada la decisi\xF3n de Certificaci\xF3n, remito adjunto ITC y Certificado de su expediente `+this.proyecto.codigo+" de "+this.proyecto.cliente+`.

Le recuerdo que dispone de un plazo de 48h si desea apelar, y si as\xED fuera, un plazo de 15 d\xEDas naturales para responder a la misma.

Por favor, esperamos confirmaci\xF3n al respecto.

Un saludo, Mario Borrego`;window.location.href="mailto:"+this.consultorProyecto.email+"?subject="+encodeURIComponent(r)+"&body="+encodeURIComponent(i)}};e.\u0275fac=function(i){return new(i||e)(P(rn),P(vi),P(yr),P(yi),P(ko),P(Fo),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-seguimiento-proyecto"]],standalone:!0,features:[ae],decls:104,vars:19,consts:[[1,"container-fluid","animate__animated","animate__slideInDown"],[1,"row","bg-secondary","p-3"],[1,"col-6"],[1,"text-white"],[1,"col-6","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-outline-danger","m-2",3,"click"],[1,"btn","btn-outline-light",3,"click"],[1,"row"],[1,"col"],[1,"row","mb-3"],["for","codigo",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","codigo","name","codigo",1,"form-control",3,"ngModel","ngModelChange"],["for","acronimo",1,"col-sm-2","col-form-label"],["type","text","id","acronimo","name","acronimo",1,"form-control",3,"ngModel","ngModelChange"],["for","titulo",1,"col-sm-2","col-form-label"],["type","text","id","titulo","name","titulo",1,"form-control",3,"ngModel","ngModelChange"],["for","cliente",1,"col-sm-2","col-form-label"],["type","text","id","cliente","name","cliente",1,"form-control",3,"ngModel","ngModelChange"],["for","ejercicio",1,"col-sm-2","col-form-label"],["type","number","step","any","id","ejercicio","name","ejercicio",1,"form-control",3,"ngModel","ngModelChange"],["for","IMV",1,"col-sm-2","col-form-label"],["type","checkbox","id","IMV","name","IMV",1,"form-check-input",3,"ngModel","ngModelChange"],["for","precioOfertado",1,"col-sm-2","col-form-label"],["type","number","id","precioOfertado","name","precioOfertado",1,"form-control",3,"ngModel","ngModelChange"],["for","codigoUnesco",1,"col-sm-2","col-form-label"],["type","number","id","codigoUnesco","name","codigoUnesco",1,"form-control",3,"ngModel","ngModelChange"],["for","proyectoPrincipal",1,"col-sm-2","col-form-label"],[1,"form-check","form-switch"],["disabled","","type","checkbox","id","proyectoPrincipal","name","proyectoPrincipal",1,"form-check-input",3,"ngModel","ngModelChange"],["for","tipoProyecto",1,"col-sm-2","col-form-label"],["disabled","","type","text","id","tipoProyecto","name","tipoProyecto",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-6","mb-3","mb-sm-0"],[1,"col-sm-6"],[1,"card","w-100"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-outline-success","m-2",3,"click"],[1,"card"],["class","row mb-3"],["type","submit",1,"btn","btn-outline-success","btn-lg","btn-block",3,"click"],[1,"col-form-label"],["aria-label","Default select example","id","consultores",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],[3,"value"],["for","fechaComite",1,"col-sm-2","col-form-label"],["id","fechaComite",1,"btn","btn-outline-success","m-2",3,"click"],["for","coordinador",1,"col-sm-2","col-form-label"],["aria-label","Default select example","id","coordinador",1,"form-select",3,"ngModel","ngModelChange"],["for","fechaFinComite",1,"col-sm-2","col-form-label"],["id","fechaFinComite",1,"btn","btn-outline-success","m-2",3,"click"],["for","numeroVersionComite",1,"col-sm-2","col-form-label"],["type","number","id","numeroVersionComite","name","numeroVersionComite",1,"form-control",3,"ngModel","ngModelChange"],["for","experto4D",1,"col-sm-2","col-form-label"],["aria-label","Default select example","id","experto4D",1,"form-select",3,"ngModel","change","ngModelChange"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),w(4),p()(),y(5,"div",4)(6,"button",5),k("click",function(){return o.archivarProyecto()}),w(7,"Archivar"),p(),y(8,"button",6),k("click",function(){return o.volver()}),w(9,"Volver"),p()()()(),R(10,"br"),y(11,"div",0)(12,"div",7)(13,"div",8)(14,"div",9)(15,"label",10),w(16,"C\xF3digo:"),p(),y(17,"div",11)(18,"input",12),k("ngModelChange",function(a){return o.proyecto.codigo=a}),p()()(),y(19,"div",9)(20,"label",13),w(21,"Acr\xF3nimo:"),p(),y(22,"div",11)(23,"input",14),k("ngModelChange",function(a){return o.proyecto.acronimo=a}),p()()(),y(24,"div",9)(25,"label",15),w(26,"T\xEDtulo:"),p(),y(27,"div",11)(28,"input",16),k("ngModelChange",function(a){return o.proyecto.titulo=a}),p()()(),y(29,"div",9)(30,"label",17),w(31,"Cliente:"),p(),y(32,"div",11)(33,"input",18),k("ngModelChange",function(a){return o.proyecto.cliente=a}),p()()(),y(34,"div",9)(35,"label",19),w(36,"Ejercicio:"),p(),y(37,"div",11)(38,"input",20),k("ngModelChange",function(a){return o.proyecto.ejercicio=a}),p()()(),y(39,"div",9)(40,"label",21),w(41,"IMV:"),p(),y(42,"div",11)(43,"input",22),k("ngModelChange",function(a){return o.proyecto.IMV=a}),p()()(),y(44,"div",9)(45,"label",23),w(46,"Precio Oferta:"),p(),y(47,"div",11)(48,"input",24),k("ngModelChange",function(a){return o.proyecto.precioOfertado=a}),p()()(),y(49,"div",9)(50,"label",25),w(51,"Codigo Unesco:"),p(),y(52,"div",11)(53,"input",26),k("ngModelChange",function(a){return o.proyecto.codigoUnesco=a}),p()()(),y(54,"div",9)(55,"label",27),w(56,"Proyecto Principal:"),p(),y(57,"div",11)(58,"div",28)(59,"input",29),k("ngModelChange",function(a){return o.proyecto.proyectoPrincipal=a}),p()()()(),y(60,"div",9)(61,"label",30),w(62,"Tipo Proyecto:"),p(),y(63,"div",11)(64,"input",31),k("ngModelChange",function(a){return o.proyecto.tipoProyecto=a}),p()()()(),y(65,"div",8)(66,"div",7)(67,"div",32),Y(68,w8,19,3)(69,E8,8,1),p(),y(70,"div",33)(71,"div",34)(72,"div",35),w(73," Consultor "),p(),y(74,"div",36)(75,"p",37),w(76),p(),y(77,"p",37),w(78),p(),y(79,"p",37),w(80),p(),y(81,"p",37),w(82),p()()(),R(83,"br"),y(84,"div",34)(85,"div",35),w(86," Emails Consultor "),p(),y(87,"div",36)(88,"button",38),k("click",function(){return o.enviarEmailCertificadoCliente()}),w(89,"Enviar Certificado"),p()()()()()()(),y(90,"div",39)(91,"div",35),w(92," Comite "),p(),y(93,"div",36),Y(94,C8,6,0,"div",40)(95,I8,21,2),p()(),y(96,"div",39)(97,"div",35),w(98," Experto Comite "),p(),y(99,"div",36),Y(100,T8,9,1,"div",40)(101,x8,12,3),p(),y(102,"button",41),k("click",function(){return o.actualizarproyecto()}),w(103,"Actualizar"),p()()()),i&2&&(C(4),Me("Proyecto: ",o.codigoproyecto(),""),C(14),Ie("ngModel",o.proyecto.codigo),C(5),Ie("ngModel",o.proyecto.acronimo),C(5),Ie("ngModel",o.proyecto.titulo),C(5),Ie("ngModel",o.proyecto.cliente),C(5),Ie("ngModel",o.proyecto.ejercicio),C(5),Ie("ngModel",o.proyecto.IMV),C(5),Ie("ngModel",o.proyecto.precioOfertado),C(5),Ie("ngModel",o.proyecto.codigoUnesco),C(6),Ie("ngModel",o.proyecto.proyectoPrincipal),C(5),Ie("ngModel",o.proyecto.tipoProyecto),C(4),Z(68,o.expertoProyecto.id!=null?68:69),C(8),Me("Nombre: ",o.consultorProyecto.nombre,""),C(2),Me("Telefono: ",o.consultorProyecto.telefono,""),C(2),Me("Email: ",o.consultorProyecto.email,""),C(2),Me("Consultora: ",o.consultorProyecto.consultora,""),C(12),Z(94,o.proyecto.fechaComite===null?94:-1),C(),Z(95,o.proyecto.fechaComite!==null?95:-1),C(5),Z(100,o.proyecto.experto4D===""?100:101))},dependencies:[_n,$g,Hg,ot,Pd,Sd,qc,yt,Md,Ft]});let t=e;return t})();function S8(t,e){if(t&1&&(y(0,"div",10),w(1),xr(2,"date"),p()),t&2){let n=oe().$implicit;C(),X(Sr(2,1,n.fechaComite,"dd/MM/yyyy"))}}function A8(t,e){t&1&&(y(0,"div",10),w(1,"No hay Comite"),p())}function M8(t,e){if(t&1){let n=Be();y(0,"tr")(1,"td"),w(2),p(),y(3,"td")(4,"div",10),w(5),p(),y(6,"div",10),w(7),p()(),y(8,"td"),w(9),p(),y(10,"td"),w(11),p(),y(12,"td")(13,"div",10),w(14),xr(15,"date"),p(),Y(16,S8,3,4,"div",11)(17,A8,2,0),p(),y(18,"td",12)(19,"button",13),k("click",function(){let o=pe(n).$implicit,s=oe();return me(s.desarchivarProyecto(o))}),R(20,"i",14),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.codigo),C(3),Me("Acronimo: ",n.acronimo,""),C(2),Me("Titulo: ",n.titulo,""),C(2),X(n.cliente),C(2),X(n.ejercicio),C(3),X(Sr(15,7,n.fechaInicioProyecto,"dd/MM/yyyy")),C(2),Z(16,n.fechaComite?16:17)}}function P8(t,e){t&1&&(y(0,"tr")(1,"td",15),w(2,"No hay proyectos"),p()())}var u2=(()=>{let e=class e{constructor(r,i){this.proyectosService=r,this.router=i,this.proyectosCertificados=[]}ngOnInit(){this.proyectosService.getProyectosCertificados().subscribe(r=>{this.proyectosCertificados=r})}desarchivarProyecto(r){r.estado="ACTIVO",this.proyectosService.actualizarProyecto(r).then(()=>{this.router.navigate(["/"]).then()})}};e.\u0275fac=function(i){return new(i||e)(P(vi),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-listar-proyectos-certificados"]],standalone:!0,features:[ae],decls:29,vars:2,consts:[[1,"row","animate__animated","animate__backInDown"],[1,"col-10"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Proyecto.....",1,"form-control"],["txtTermino",""],[1,"col-2"],[1,"table","table-striped","animate__animated","animate__backInDown",2,"z-index","-2"],["scope","col"],["scope","col",1,"text-center"],[1,"row"],["class","row"],[1,"text-center","text-nowrap"],["type","button",1,"btn","btn-outline-primary","m-2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["colspan","8",1,"text-center"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),R(4,"input",4,5),p()()(),y(6,"div",6)(7,"div",2)(8,"div",3),w(9),p()()()(),y(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),w(14,"Codigo"),p(),y(15,"th",8),w(16,"Proyecto"),p(),y(17,"th",8),w(18,"Cliente"),p(),y(19,"th",8),w(20,"Ejercicio"),p(),y(21,"th",8),w(22,"Fecha Inicio /comite"),p(),y(23,"th",9),w(24,"Acciones"),p()()(),y(25,"tbody"),ct(26,M8,21,10,"tr",null,at,!1,P8,3,0),p()()),i&2&&(C(9),Me(" Proyectos en activo ",o.proyectosCertificados.length," "),C(17),lt(o.proyectosCertificados))},dependencies:[Na]});let t=e;return t})();function R8(t,e){if(t&1&&(y(0,"div",9),w(1),xr(2,"date"),p()),t&2){let n=oe().$implicit;C(),X(Sr(2,1,n.fechaComite,"dd/MM/yyyy"))}}function N8(t,e){t&1&&(y(0,"div",9),w(1,"No hay Comite"),p())}function k8(t,e){if(t&1&&(y(0,"tr")(1,"td"),w(2),p(),y(3,"td")(4,"div",9),w(5),p(),y(6,"div",9),w(7),p()(),y(8,"td"),w(9),p(),y(10,"td"),w(11),p(),y(12,"td")(13,"div",9),w(14),xr(15,"date"),p(),Y(16,R8,3,4,"div",10)(17,N8,2,0),p()()),t&2){let n=e.$implicit;C(2),X(n.codigo),C(3),Me("Acronimo: ",n.acronimo,""),C(2),Me("Titulo: ",n.titulo,""),C(2),X(n.cliente),C(2),X(n.ejercicio),C(3),X(Sr(15,7,n.fechaInicioProyecto,"dd/MM/yyyy")),C(2),Z(16,n.fechaComite?16:17)}}function F8(t,e){t&1&&(y(0,"tr")(1,"td",11),w(2,"No hay proyectos"),p()())}var d2=(()=>{let e=class e{constructor(r,i){this.proyectosService=r,this.router=i,this.proyectosArchivados=[]}ngOnInit(){this.proyectosService.getProyectosArchivados().subscribe(r=>{this.proyectosArchivados=r})}};e.\u0275fac=function(i){return new(i||e)(P(vi),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-listar-proyectos-archivados"]],standalone:!0,features:[ae],decls:27,vars:2,consts:[[1,"row","animate__animated","animate__backInDown"],[1,"col-10"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Proyecto.....",1,"form-control"],["txtTermino",""],[1,"col-2"],[1,"table","table-striped","animate__animated","animate__backInDown",2,"z-index","-2"],["scope","col"],[1,"row"],["class","row"],["colspan","8",1,"text-center"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),R(4,"input",4,5),p()()(),y(6,"div",6)(7,"div",2)(8,"div",3),w(9),p()()()(),y(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),w(14,"Codigo"),p(),y(15,"th",8),w(16,"Proyecto"),p(),y(17,"th",8),w(18,"Cliente"),p(),y(19,"th",8),w(20,"Ejercicio"),p(),y(21,"th",8),w(22,"Fecha Inicio /comite"),p()()(),y(23,"tbody"),ct(24,k8,18,10,"tr",null,at,!1,F8,3,0),p()()),i&2&&(C(9),Me(" Proyectos en activo ",o.proyectosArchivados.length," "),C(15),lt(o.proyectosArchivados))},dependencies:[Na]});let t=e;return t})();var Xg=Cn(wn());function O8(t,e){if(t&1){let n=Be();y(0,"tr")(1,"th",12),w(2),p(),y(3,"td"),w(4),p(),y(5,"td"),w(6),p(),y(7,"td"),w(8),p(),y(9,"td"),w(10),p(),y(11,"td",13)(12,"button",14),k("click",function(){let o=pe(n).$implicit,s=oe();return me(s.editarET(o))}),R(13,"i",15),p(),y(14,"button",16),k("click",function(){let o=pe(n).$implicit,s=oe();return me(s.eliminarET(o))}),R(15,"i",17),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.idexperto),C(2),X(n.nombre),C(2),Ol("",n.apellido1," ",n.apellido2,""),C(2),X(n.email),C(2),X(n.telefono)}}var h2=(()=>{let e=class e{constructor(r,i){this.eTservico=r,this.router=i,this.buscando=!1,this.expertosTecnicos=[]}ngOnInit(){this.eTservico.getExpertosTecnicos().subscribe(r=>{this.expertosTecnicos=r})}buscar(r){this.buscando=!0,this.expertosTecnicosBusqueda=this.expertosTecnicos.filter(i=>i.nombre.includes(r))}get numeroExpertosTecnicos(){return this.expertosTecnicos.length}agregarET(){this.router.navigateByUrl("mantenimientos/expertos-tecnicos/anadirET").then()}editarET(r){this.router.navigateByUrl(`mantenimientos/expertos-tecnicos/editarET/${r.id}`).then()}eliminarET(r){Xg.default.fire({title:"\xBFEst\xE1s seguro?",text:"No podr\xE1s recuperar el experto t\xE9cnico",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.eTservico.eliminarExpertoTecnico(r).then(o=>{Xg.default.fire({title:"Experto t\xE9cnico eliminado",text:"El experto t\xE9cnico se ha eliminado correctamente",icon:"success",confirmButtonText:"Aceptar"}).then()}).catch(o=>{Xg.default.fire({title:"Error",text:"Ha ocurrido un error al eliminar el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})})}};e.\u0275fac=function(i){return new(i||e)(P(yi),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-listar-et"]],standalone:!0,features:[ae],decls:31,vars:1,consts:[[1,"row","animate__animated","animate__backInDown"],[1,"col-10"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Experto Tecnico.....",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],[1,"table","table-striped","animate__animated","animate__backInDown",2,"z-index","-2"],["scope","col"],["scope","col",1,"text-center","text-nowrap","col-1"],[1,"text-center","animate__animated","animate__backInDown"],["type","button",1,"btn","btn-outline-primary",3,"click"],["scope","row"],[1,"text-center","text-nowrap","col-1"],["type","button",1,"btn","btn-outline-primary","m-2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(i,o){if(i&1){let s=Be();y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),k("keyup",function(){pe(s);let c=ar(5);return me(o.buscar(c.value))}),p()()()(),y(6,"div",6)(7,"div",2)(8,"div",3),w(9),p()()()(),y(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),w(14,"idexperto"),p(),y(15,"th",8),w(16,"Nombre"),p(),y(17,"th",8),w(18,"Apellido"),p(),y(19,"th",8),w(20,"email"),p(),y(21,"th",8),w(22,"Telefono"),p(),y(23,"th",9),w(24,"Acciones"),p()()(),y(25,"tbody"),ct(26,O8,16,6,"tr",null,at),p()(),y(28,"div",10)(29,"button",11),k("click",function(){return o.agregarET()}),w(30,"A\xF1adir Experto"),p()()}i&2&&(C(9),Me(" Expertos ",o.numeroExpertosTecnicos," "),C(17),lt(o.expertosTecnicos))}});let t=e;return t})();var Rd=Cn(wn());function V8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function L8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function j8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function B8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function U8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function $8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var f2=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.fb=i,this.expertoTecnicoService=o,this.expertoTecnicoForm=this.fb.group({id:[""],idexperto:[""],nombre:[""],apellido1:[""],apellido2:[""],email:[""],telefono:[""]})}volverInicio(){this.router.navigate(["mantenimientos/expertos-tecnicos/listarET/"]).then(r=>{r||Rd.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}agregar(){console.log(this.expertoTecnicoForm.value),this.expertoTecnicoService.agregarExpertoTecnico(this.expertoTecnicoForm.value).then(r=>{Rd.default.fire({title:"Experto t\xE9cnico a\xF1adido",text:"El experto t\xE9cnico se ha a\xF1adido correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(i=>{this.volverInicio()}).catch(i=>{Rd.default.fire({title:"Error",text:"Ha ocurrido un error al a\xF1adir el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})}).catch(r=>{Rd.default.fire({title:"Cancelado",text:"Se ha cancelado la operaci\xF3n",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(ue),P(Zt),P(yi))},e.\u0275cmp=se({type:e,selectors:[["app-agregar-et"]],standalone:!0,features:[ae],decls:46,vars:7,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","idexperto",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","idexperto","name","idexperto","formControlName","idexperto",1,"form-control"],["for","nombre",1,"col-sm-2","col-form-label"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["for","apellido1",1,"col-sm-2","col-form-label"],["type","text","id","apellido1","name","apellido1","formControlName","apellido1",1,"form-control"],["for","apellido2",1,"col-sm-2","col-form-label"],["type","text","id","apellido2","name","apellido2","formControlName","apellido2",1,"form-control"],["for","email",1,"col-sm-2","col-form-label"],["type","text","id","email","name","email","formControlName","email",1,"form-control"],["for","telefono",1,"col-sm-2","col-form-label"],["type","text","id","telefono","name","telefono","formControlName","telefono",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"A\xF1adir Experto Tecnico"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.agregar()}),y(7,"div",6)(8,"label",7),w(9,"ID Experto:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,V8,2,0,"div"),p(),y(13,"div",6)(14,"label",10),w(15,"Nombre:"),p(),y(16,"div",8),R(17,"input",11),p(),Y(18,L8,2,0,"div"),p(),y(19,"div",6)(20,"label",12),w(21,"Apellido 1:"),p(),y(22,"div",8),R(23,"input",13),p(),Y(24,j8,2,0,"div"),p(),y(25,"div",6)(26,"label",14),w(27,"Apellido 2:"),p(),y(28,"div",8),R(29,"input",15),p(),Y(30,B8,2,0,"div"),p(),y(31,"div",6)(32,"label",16),w(33,"Email:"),p(),y(34,"div",8),R(35,"input",17),p(),Y(36,U8,2,0,"div"),p(),y(37,"div",6)(38,"label",18),w(39,"Telefono:"),p(),y(40,"div",8),R(41,"input",19),p(),Y(42,$8,2,0,"div"),p(),y(43,"div",2)(44,"button",20),R(45,"i",21),p()()()()),i&2){let s,a,c,l,d,f;C(6),Ie("formGroup",o.expertoTecnicoForm),C(6),Z(12,(s=o.expertoTecnicoForm.get("codigo"))!=null&&s.hasError("pattern")?12:-1),C(6),Z(18,(a=o.expertoTecnicoForm.get("nombre"))!=null&&a.hasError("pattern")?18:-1),C(6),Z(24,(c=o.expertoTecnicoForm.get("apellido1"))!=null&&c.hasError("pattern")?24:-1),C(6),Z(30,(l=o.expertoTecnicoForm.get("apellido1"))!=null&&l.hasError("pattern")?30:-1),C(6),Z(36,(d=o.expertoTecnicoForm.get("email"))!=null&&d.hasError("pattern")?36:-1),C(6),Z(42,(f=o.expertoTecnicoForm.get("telefono"))!=null&&f.hasError("pattern")?42:-1)}},dependencies:[Ft,kt,ot,yt,Nt,Ut,$t]});let t=e;return t})();var Nd=Cn(wn());function H8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function q8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function z8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function G8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function W8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function K8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var p2=(()=>{let e=class e{constructor(r,i,o,s){this.router=r,this.fb=i,this.expertoTecnicoService=o,this.route=s,this.idExperto=this.route.snapshot.paramMap.get("id")||"",console.log(this.idExperto),this.expertoTecnicoService.getExpertoTecnico(this.idExperto).subscribe(a=>{this.expertoTecnicoForm.setValue(a),console.log(a)})}ngOnInit(){this.expertoTecnicoForm=this.fb.group({id:[""],idexperto:[""],nombre:[""],apellido1:[""],apellido2:[""],email:[""],telefono:[""]})}volverInicio(){this.router.navigate(["mantenimientos/expertos-tecnicos/listarET/"]).then(r=>{r||Nd.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}agregar(){console.log(this.expertoTecnicoForm.value),this.expertoTecnicoService.actualizarExpertoTecnico(this.expertoTecnicoForm.value).then(r=>{Nd.default.fire({title:"Experto t\xE9cnico Actualizado",text:"El experto t\xE9cnico se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(i=>{this.volverInicio()}).catch(i=>{Nd.default.fire({title:"Error",text:"Ha ocurrido un error al actualizar el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})}).catch(r=>{Nd.default.fire({title:"Cancelado",text:"Se ha cancelado la operaci\xF3n",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(ue),P(Zt),P(yi),P(rn))},e.\u0275cmp=se({type:e,selectors:[["app-editar-et"]],standalone:!0,features:[ae],decls:46,vars:7,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","idexperto",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","idexperto","name","idexperto","formControlName","idexperto",1,"form-control"],["for","nombre",1,"col-sm-2","col-form-label"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["for","apellido1",1,"col-sm-2","col-form-label"],["type","text","id","apellido1","name","apellido1","formControlName","apellido1",1,"form-control"],["for","apellido2",1,"col-sm-2","col-form-label"],["type","text","id","apellido2","name","apellido2","formControlName","apellido2",1,"form-control"],["for","email",1,"col-sm-2","col-form-label"],["type","text","id","email","name","email","formControlName","email",1,"form-control"],["for","telefono",1,"col-sm-2","col-form-label"],["type","text","id","telefono","name","telefono","formControlName","telefono",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"Editar Experto Tecnico"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.agregar()}),y(7,"div",6)(8,"label",7),w(9,"ID Experto:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,H8,2,0,"div"),p(),y(13,"div",6)(14,"label",10),w(15,"Nombre:"),p(),y(16,"div",8),R(17,"input",11),p(),Y(18,q8,2,0,"div"),p(),y(19,"div",6)(20,"label",12),w(21,"Apellido 1:"),p(),y(22,"div",8),R(23,"input",13),p(),Y(24,z8,2,0,"div"),p(),y(25,"div",6)(26,"label",14),w(27,"Apellido 2:"),p(),y(28,"div",8),R(29,"input",15),p(),Y(30,G8,2,0,"div"),p(),y(31,"div",6)(32,"label",16),w(33,"Email:"),p(),y(34,"div",8),R(35,"input",17),p(),Y(36,W8,2,0,"div"),p(),y(37,"div",6)(38,"label",18),w(39,"Telefono:"),p(),y(40,"div",8),R(41,"input",19),p(),Y(42,K8,2,0,"div"),p(),y(43,"div",2)(44,"button",20),R(45,"i",21),p()()()()),i&2){let s,a,c,l,d,f;C(6),Ie("formGroup",o.expertoTecnicoForm),C(6),Z(12,(s=o.expertoTecnicoForm.get("codigo"))!=null&&s.hasError("pattern")?12:-1),C(6),Z(18,(a=o.expertoTecnicoForm.get("nombre"))!=null&&a.hasError("pattern")?18:-1),C(6),Z(24,(c=o.expertoTecnicoForm.get("apellido1"))!=null&&c.hasError("pattern")?24:-1),C(6),Z(30,(l=o.expertoTecnicoForm.get("apellido1"))!=null&&l.hasError("pattern")?30:-1),C(6),Z(36,(d=o.expertoTecnicoForm.get("email"))!=null&&d.hasError("pattern")?36:-1),C(6),Z(42,(f=o.expertoTecnicoForm.get("telefono"))!=null&&f.hasError("pattern")?42:-1)}},dependencies:[Ft,kt,ot,yt,Nt,Ut,$t]});let t=e;return t})();var Jg=Cn(wn());function Q8(t,e){if(t&1){let n=Be();y(0,"tr")(1,"th",12),w(2),p(),y(3,"td"),w(4),p(),y(5,"td"),w(6),p(),y(7,"td"),w(8),p(),y(9,"td"),w(10),p(),y(11,"td",13)(12,"button",14),k("click",function(){let o=pe(n).$implicit,s=oe();return me(s.editarET(o))}),R(13,"i",15),p(),y(14,"button",16),k("click",function(){let o=pe(n).$implicit,s=oe();return me(s.eliminarET(o))}),R(15,"i",17),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.idexperto),C(2),X(n.nombre),C(2),Ol("",n.apellido1," ",n.apellido2,""),C(2),X(n.email),C(2),X(n.telefono)}}var m2=(()=>{let e=class e{constructor(r,i){this.expertoComiteService=r,this.router=i,this.buscando=!1,this.expertosComite=[]}ngOnInit(){this.expertoComiteService.getExpertosComite().subscribe(r=>{this.expertosComite=r})}buscar(r){this.buscando=!0,this.expertosComiteBusqueda=this.expertosComite.filter(i=>i.nombre.includes(r))}get numeroExpertosTecnicos(){return this.expertosComite.length}agregarET(){this.router.navigateByUrl("mantenimientos/expertos-comite/anadirEcomite").then()}editarET(r){this.router.navigateByUrl(`mantenimientos/expertos-comite/editarEcomite/${r.id}`).then()}eliminarET(r){Jg.default.fire({title:"\xBFEst\xE1s seguro?",text:"No podr\xE1s recuperar el experto t\xE9cnico",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.expertoComiteService.eliminarExpertoComite(r).then(o=>{Jg.default.fire({title:"Experto t\xE9cnico eliminado",text:"El experto t\xE9cnico se ha eliminado correctamente",icon:"success",confirmButtonText:"Aceptar"}).then()}).catch(o=>{Jg.default.fire({title:"Error",text:"Ha ocurrido un error al eliminar el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})})}};e.\u0275fac=function(i){return new(i||e)(P(ko),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-listar-ecomite"]],standalone:!0,features:[ae],decls:31,vars:1,consts:[[1,"row","animate__animated","animate__backInDown"],[1,"col-10"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Proyecto.....",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],[1,"table","table-striped","animate__animated","animate__backInDown",2,"z-index","-2"],["scope","col"],["scope","col",1,"text-center","text-nowrap","col-1"],[1,"text-center","animate__animated","animate__backInDown"],["type","button",1,"btn","btn-outline-primary",3,"click"],["scope","row"],[1,"text-center","text-nowrap","col-1"],["type","button",1,"btn","btn-outline-primary","m-2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(i,o){if(i&1){let s=Be();y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),k("keyup",function(){pe(s);let c=ar(5);return me(o.buscar(c.value))}),p()()()(),y(6,"div",6)(7,"div",2)(8,"div",3),w(9),p()()()(),y(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),w(14,"idexperto"),p(),y(15,"th",8),w(16,"Nombre"),p(),y(17,"th",8),w(18,"Apellido"),p(),y(19,"th",8),w(20,"email"),p(),y(21,"th",8),w(22,"Telefono"),p(),y(23,"th",9),w(24,"Acciones"),p()()(),y(25,"tbody"),ct(26,Q8,16,6,"tr",null,at),p()(),y(28,"div",10)(29,"button",11),k("click",function(){return o.agregarET()}),w(30,"A\xF1adir Experto"),p()()}i&2&&(C(9),Me(" Expertos ",o.numeroExpertosTecnicos," "),C(17),lt(o.expertosComite))}});let t=e;return t})();var kd=Cn(wn());function Y8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function Z8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function X8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function J8(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function eG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function tG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var g2=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.fb=i,this.expertoComiteService=o,this.expertoComiteForm=this.fb.group({id:[""],idexperto:[""],nombre:[""],apellido1:[""],apellido2:[""],email:[""],telefono:[""]})}volverInicio(){this.router.navigate(["mantenimientos/expertos-comite/listarEcomite"]).then(r=>{r||kd.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}agregar(){console.log(this.expertoComiteForm.value),this.expertoComiteService.agregarExpertoComite(this.expertoComiteForm.value).then(r=>{kd.default.fire({title:"Experto t\xE9cnico a\xF1adido",text:"El experto t\xE9cnico se ha a\xF1adido correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(i=>{this.volverInicio()}).catch(i=>{kd.default.fire({title:"Error",text:"Ha ocurrido un error al a\xF1adir el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})}).catch(r=>{kd.default.fire({title:"Cancelado",text:"Se ha cancelado la operaci\xF3n",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(ue),P(Zt),P(ko))},e.\u0275cmp=se({type:e,selectors:[["app-agregar-ecomite"]],standalone:!0,features:[ae],decls:46,vars:7,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","idexperto",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","idexperto","name","idexperto","formControlName","idexperto",1,"form-control"],["for","nombre",1,"col-sm-2","col-form-label"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["for","apellido1",1,"col-sm-2","col-form-label"],["type","text","id","apellido1","name","apellido1","formControlName","apellido1",1,"form-control"],["for","apellido2",1,"col-sm-2","col-form-label"],["type","text","id","apellido2","name","apellido2","formControlName","apellido2",1,"form-control"],["for","email",1,"col-sm-2","col-form-label"],["type","text","id","email","name","email","formControlName","email",1,"form-control"],["for","telefono",1,"col-sm-2","col-form-label"],["type","text","id","telefono","name","telefono","formControlName","telefono",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"A\xF1adir Experto Comit\xE9"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.agregar()}),y(7,"div",6)(8,"label",7),w(9,"ID Experto:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,Y8,2,0,"div"),p(),y(13,"div",6)(14,"label",10),w(15,"Nombre:"),p(),y(16,"div",8),R(17,"input",11),p(),Y(18,Z8,2,0,"div"),p(),y(19,"div",6)(20,"label",12),w(21,"Apellido 1:"),p(),y(22,"div",8),R(23,"input",13),p(),Y(24,X8,2,0,"div"),p(),y(25,"div",6)(26,"label",14),w(27,"Apellido 2:"),p(),y(28,"div",8),R(29,"input",15),p(),Y(30,J8,2,0,"div"),p(),y(31,"div",6)(32,"label",16),w(33,"Email:"),p(),y(34,"div",8),R(35,"input",17),p(),Y(36,eG,2,0,"div"),p(),y(37,"div",6)(38,"label",18),w(39,"Telefono:"),p(),y(40,"div",8),R(41,"input",19),p(),Y(42,tG,2,0,"div"),p(),y(43,"div",2)(44,"button",20),R(45,"i",21),p()()()()),i&2){let s,a,c,l,d,f;C(6),Ie("formGroup",o.expertoComiteForm),C(6),Z(12,(s=o.expertoComiteForm.get("codigo"))!=null&&s.hasError("pattern")?12:-1),C(6),Z(18,(a=o.expertoComiteForm.get("nombre"))!=null&&a.hasError("pattern")?18:-1),C(6),Z(24,(c=o.expertoComiteForm.get("apellido1"))!=null&&c.hasError("pattern")?24:-1),C(6),Z(30,(l=o.expertoComiteForm.get("apellido1"))!=null&&l.hasError("pattern")?30:-1),C(6),Z(36,(d=o.expertoComiteForm.get("email"))!=null&&d.hasError("pattern")?36:-1),C(6),Z(42,(f=o.expertoComiteForm.get("telefono"))!=null&&f.hasError("pattern")?42:-1)}},dependencies:[_n,kt,ot,yt,Nt,Ft,Ut,$t]});let t=e;return t})();var Fd=Cn(wn());function nG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function rG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function iG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function oG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function sG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function aG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var y2=(()=>{let e=class e{constructor(r,i,o,s){this.router=r,this.fb=i,this.expertoComiteService=o,this.route=s,this.idExperto=this.route.snapshot.paramMap.get("id")||"",console.log(this.idExperto),this.expertoComiteService.getExpertoComite(this.idExperto).subscribe(a=>{this.expertoComiteForm.setValue(a),console.log(a)})}ngOnInit(){this.expertoComiteForm=this.fb.group({id:[""],idexperto:[""],nombre:[""],apellido1:[""],apellido2:[""],email:[""],telefono:[""]})}volverInicio(){this.router.navigate(["mantenimientos/expertos-comite/listarEcomite"]).then(r=>{r||Fd.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}editarEComite(){console.log(this.expertoComiteForm.value),this.expertoComiteService.actualizarExpertoComite(this.expertoComiteForm.value).then(r=>{Fd.default.fire({title:"Experto t\xE9cnico Actualizado",text:"El experto t\xE9cnico se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(i=>{this.volverInicio()}).catch(i=>{Fd.default.fire({title:"Error",text:"Ha ocurrido un error al actualizar el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})}).catch(r=>{Fd.default.fire({title:"Cancelado",text:"Se ha cancelado la operaci\xF3n",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(ue),P(Zt),P(ko),P(rn))},e.\u0275cmp=se({type:e,selectors:[["app-editar-ecomite"]],standalone:!0,features:[ae],decls:46,vars:7,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","idexperto",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","idexperto","name","idexperto","formControlName","idexperto",1,"form-control"],["for","nombre",1,"col-sm-2","col-form-label"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["for","apellido1",1,"col-sm-2","col-form-label"],["type","text","id","apellido1","name","apellido1","formControlName","apellido1",1,"form-control"],["for","apellido2",1,"col-sm-2","col-form-label"],["type","text","id","apellido2","name","apellido2","formControlName","apellido2",1,"form-control"],["for","email",1,"col-sm-2","col-form-label"],["type","text","id","email","name","email","formControlName","email",1,"form-control"],["for","telefono",1,"col-sm-2","col-form-label"],["type","text","id","telefono","name","telefono","formControlName","telefono",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"Editar Experto Comit\xE9"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.editarEComite()}),y(7,"div",6)(8,"label",7),w(9,"ID Experto:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,nG,2,0,"div"),p(),y(13,"div",6)(14,"label",10),w(15,"Nombre:"),p(),y(16,"div",8),R(17,"input",11),p(),Y(18,rG,2,0,"div"),p(),y(19,"div",6)(20,"label",12),w(21,"Apellido 1:"),p(),y(22,"div",8),R(23,"input",13),p(),Y(24,iG,2,0,"div"),p(),y(25,"div",6)(26,"label",14),w(27,"Apellido 2:"),p(),y(28,"div",8),R(29,"input",15),p(),Y(30,oG,2,0,"div"),p(),y(31,"div",6)(32,"label",16),w(33,"Email:"),p(),y(34,"div",8),R(35,"input",17),p(),Y(36,sG,2,0,"div"),p(),y(37,"div",6)(38,"label",18),w(39,"Telefono:"),p(),y(40,"div",8),R(41,"input",19),p(),Y(42,aG,2,0,"div"),p(),y(43,"div",2)(44,"button",20),R(45,"i",21),p()()()()),i&2){let s,a,c,l,d,f;C(6),Ie("formGroup",o.expertoComiteForm),C(6),Z(12,(s=o.expertoComiteForm.get("codigo"))!=null&&s.hasError("pattern")?12:-1),C(6),Z(18,(a=o.expertoComiteForm.get("nombre"))!=null&&a.hasError("pattern")?18:-1),C(6),Z(24,(c=o.expertoComiteForm.get("apellido1"))!=null&&c.hasError("pattern")?24:-1),C(6),Z(30,(l=o.expertoComiteForm.get("apellido1"))!=null&&l.hasError("pattern")?30:-1),C(6),Z(36,(d=o.expertoComiteForm.get("email"))!=null&&d.hasError("pattern")?36:-1),C(6),Z(42,(f=o.expertoComiteForm.get("telefono"))!=null&&f.hasError("pattern")?42:-1)}},dependencies:[_n,kt,ot,yt,Nt,Ft,Ut,$t]});let t=e;return t})();var Od=Cn(wn());function cG(t,e){if(t&1){let n=Be();y(0,"tr")(1,"th",12),w(2),p(),y(3,"td"),w(4),p(),y(5,"td"),w(6),p(),y(7,"td"),w(8),p(),y(9,"td"),w(10),p(),y(11,"td",13)(12,"button",14),k("click",function(){let o=pe(n).$implicit,s=oe();return me(s.editarConsultor(o))}),R(13,"i",15),p(),y(14,"button",16),k("click",function(){let o=pe(n).$implicit,s=oe();return me(s.eliminarConsultor(o))}),R(15,"i",17),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.id),C(2),X(n.nombre),C(2),X(n.email),C(2),X(n.telefono),C(2),X(n.consultora)}}var v2=(()=>{let e=class e{constructor(r,i){this.consultoresService=r,this.router=i,this.numeroConsultores=Sa(0),this.consultores=[],this.buscando=!1,this.consultoresBusqueda=[]}ngOnInit(){this.consultoresService.getConsultores().subscribe(r=>{this.consultores=r,this.numeroConsultores.set(r.length)})}buscar(r){this.buscando=!0,this.consultoresBusqueda=this.consultores.filter(i=>i.nombre.includes(r))}editarConsultor(r){this.router.navigateByUrl(`mantenimientos/consultores/editarConsultor/${r.id}`).then(i=>i)}eliminarConsultor(r){Od.default.fire({title:"\xBFEst\xE1s seguro?",text:"No podr\xE1s recuperar el experto t\xE9cnico",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed?this.consultoresService.eliminarConsultor(r).then(()=>{this.consultoresService.getConsultores().subscribe(o=>{this.consultores=o,this.numeroConsultores.set(o.length)})}).then(()=>{Od.default.fire({title:"Experto t\xE9cnico eliminado",text:"El experto t\xE9cnico ha sido eliminado correctamente",icon:"success"}).then(o=>o)}):i.dismiss===Od.default.DismissReason.cancel&&Od.default.fire("Cancelado","El experto t\xE9cnico no ha sido eliminado","error").then(o=>o)})}agregarConsultor(){this.router.navigateByUrl("/mantenimientos/consultores/agregarConsultor").then(r=>r)}};e.\u0275fac=function(i){return new(i||e)(P(yr),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-listado-consultores"]],standalone:!0,features:[ae],decls:31,vars:1,consts:[[1,"row","animate__animated","animate__backInDown"],[1,"col-10"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Consultor.....",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],[1,"table","table-striped","animate__animated","animate__backInDown",2,"z-index","-2"],["scope","col"],["scope","col",1,"text-center","text-nowrap","col-1"],[1,"text-center","animate__animated","animate__backInDown"],["type","button",1,"btn","btn-outline-primary",3,"click"],["scope","row"],[1,"text-center","text-nowrap","col-1"],["type","button",1,"btn","btn-outline-primary","m-2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(i,o){if(i&1){let s=Be();y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),k("keyup",function(){pe(s);let c=ar(5);return me(o.buscar(c.value))}),p()()()(),y(6,"div",6)(7,"div",2)(8,"div",3),w(9),p()()()(),y(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),w(14,"ID"),p(),y(15,"th",8),w(16,"Nombre"),p(),y(17,"th",8),w(18,"Email"),p(),y(19,"th",8),w(20,"Telefono"),p(),y(21,"th",8),w(22,"Consultora"),p(),y(23,"th",9),w(24,"Acciones"),p()()(),y(25,"tbody"),ct(26,cG,16,5,"tr",null,at),p()(),y(28,"div",10)(29,"button",11),k("click",function(){return o.agregarConsultor()}),w(30,"A\xF1adir Consultor"),p()()}i&2&&(C(9),Me(" Consultores ",o.numeroConsultores()," "),C(17),lt(o.consultores))}});let t=e;return t})();var Vd=Cn(wn());function lG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function uG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function dG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function hG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var w2=(()=>{let e=class e{constructor(r,i,o){this.fb=r,this.router=i,this.consultorService=o,this.consultorForm=this.fb.group({id:[""],nombre:[""],email:[""],telefono:[""],consultora:[""]})}volverInicio(){this.router.navigate(["mantenimientos/consultores/listadoConsultores"]).then(r=>{r||Vd.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}agregar(){this.consultorService.agregarConsultor(this.consultorForm.value).then(r=>{Vd.default.fire({title:"Experto t\xE9cnico a\xF1adido",text:"El experto t\xE9cnico se ha a\xF1adido correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(i=>{this.volverInicio()}).catch(i=>{Vd.default.fire({title:"Error",text:"Ha ocurrido un error al a\xF1adir el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})}).catch(r=>{Vd.default.fire({title:"Cancelado",text:"Se ha cancelado la operaci\xF3n",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(Zt),P(ue),P(yr))},e.\u0275cmp=se({type:e,selectors:[["app-agregar-consultor"]],standalone:!0,features:[ae],decls:34,vars:5,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","nombre",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["for","email",1,"col-sm-2","col-form-label"],["type","text","id","email","name","email","formControlName","email",1,"form-control"],["for","telefono",1,"col-sm-2","col-form-label"],["type","text","id","telefono","name","telefono","formControlName","telefono",1,"form-control"],["for","consultora",1,"col-sm-2","col-form-label"],["type","text","id","consultora","name","consultora","formControlName","consultora",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"A\xF1adir Experto Comit\xE9"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.agregar()}),y(7,"div",6)(8,"label",7),w(9,"Nombre:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,lG,2,0,"div"),p(),y(13,"div",6)(14,"label",10),w(15,"Email:"),p(),y(16,"div",8),R(17,"input",11),p(),Y(18,uG,2,0,"div"),p(),y(19,"div",6)(20,"label",12),w(21,"Telefono:"),p(),y(22,"div",8),R(23,"input",13),p(),Y(24,dG,2,0,"div"),p(),y(25,"div",6)(26,"label",14),w(27,"Consultora:"),p(),y(28,"div",8),R(29,"input",15),p(),Y(30,hG,2,0,"div"),p(),y(31,"div",2)(32,"button",16),R(33,"i",17),p()()()()),i&2){let s,a,c,l;C(6),Ie("formGroup",o.consultorForm),C(6),Z(12,(s=o.consultorForm.get("nombre"))!=null&&s.hasError("pattern")?12:-1),C(6),Z(18,(a=o.consultorForm.get("email"))!=null&&a.hasError("pattern")?18:-1),C(6),Z(24,(c=o.consultorForm.get("telefono"))!=null&&c.hasError("pattern")?24:-1),C(6),Z(30,(l=o.consultorForm.get("consultora"))!=null&&l.hasError("pattern")?30:-1)}},dependencies:[_n,kt,ot,yt,Nt,Ft,Ut,$t]});let t=e;return t})();var ey=Cn(wn());function fG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function pG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function mG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}function gG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var _2=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.consultorService=i,this.fb=o,this.router=s,this.idConsultor=this.route.snapshot.paramMap.get("id")||"",this.consultorService.getConsultor(this.idConsultor).subscribe(a=>{this.consultorForm.setValue(a),console.log(a)})}ngOnInit(){this.consultorForm=this.fb.group({id:[""],nombre:[""],email:[""],telefono:[""],consultora:[""]})}actualizar(){this.consultorService.actualizarConsultor(this.consultorForm.value).then(r=>{ey.default.fire({title:"Experto t\xE9cnico actualizado",text:"El experto t\xE9cnico se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(i=>{this.volverInicio()}).catch(i=>{ey.default.fire({title:"Error",text:"Ha ocurrido un error al actualizar el experto t\xE9cnico",icon:"error",confirmButtonText:"Aceptar"}).then()})})}volverInicio(){this.router.navigate(["mantenimientos/consultores/listadoConsultores"]).then(r=>{r||ey.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(rn),P(yr),P(Zt),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-editar-consultor"]],standalone:!0,features:[ae],decls:34,vars:5,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","nombre",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["for","email",1,"col-sm-2","col-form-label"],["type","text","id","email","name","email","formControlName","email",1,"form-control"],["for","telefono",1,"col-sm-2","col-form-label"],["type","text","id","telefono","name","telefono","formControlName","telefono",1,"form-control"],["for","consultora",1,"col-sm-2","col-form-label"],["type","text","id","consultora","name","consultora","formControlName","consultora",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"Editar Consultor"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.actualizar()}),y(7,"div",6)(8,"label",7),w(9,"Nombre:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,fG,2,0,"div"),p(),y(13,"div",6)(14,"label",10),w(15,"Email:"),p(),y(16,"div",8),R(17,"input",11),p(),Y(18,pG,2,0,"div"),p(),y(19,"div",6)(20,"label",12),w(21,"Telefono:"),p(),y(22,"div",8),R(23,"input",13),p(),Y(24,mG,2,0,"div"),p(),y(25,"div",6)(26,"label",14),w(27,"Telefono:"),p(),y(28,"div",8),R(29,"input",15),p(),Y(30,gG,2,0,"div"),p(),y(31,"div",2)(32,"button",16),R(33,"i",17),p()()()()),i&2){let s,a,c,l;C(6),Ie("formGroup",o.consultorForm),C(6),Z(12,(s=o.consultorForm.get("nombre"))!=null&&s.hasError("pattern")?12:-1),C(6),Z(18,(a=o.consultorForm.get("email"))!=null&&a.hasError("pattern")?18:-1),C(6),Z(24,(c=o.consultorForm.get("telefono"))!=null&&c.hasError("pattern")?24:-1),C(6),Z(30,(l=o.consultorForm.get("consultora"))!=null&&l.hasError("pattern")?30:-1)}},dependencies:[Ft,kt,ot,yt,Nt,Ut,$t]});let t=e;return t})();function yG(t,e){if(t&1){let n=Be();y(0,"tr")(1,"th",13),w(2),p(),y(3,"td"),w(4),p(),y(5,"td",14)(6,"button",15),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.editarComite(o))}),R(7,"i",16),p(),y(8,"button",17),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.eliminarComite(o))}),R(9,"i",18),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.id),C(2),X(n.nombre)}}function vG(t,e){t&1&&(y(0,"tr")(1,"td",19),w(2,"No hay comites"),p()())}function wG(t,e){if(t&1&&(y(0,"table",10)(1,"thead")(2,"tr")(3,"th",11),w(4,"ID"),p(),y(5,"th",11),w(6,"Nombre"),p(),y(7,"th",12),w(8,"Acciones"),p()()(),y(9,"tbody"),ct(10,yG,10,2,"tr",null,at,!1,vG,3,0),p()()),t&2){let n=oe();C(10),lt(n.comitesFiltrados)}}function _G(t,e){if(t&1){let n=Be();y(0,"tr")(1,"th",13),w(2),p(),y(3,"td"),w(4),p(),y(5,"td",14)(6,"button",15),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.editarComite(o))}),R(7,"i",16),p(),y(8,"button",17),k("click",function(){let o=pe(n).$implicit,s=oe(2);return me(s.eliminarComite(o))}),R(9,"i",18),p()()()}if(t&2){let n=e.$implicit;C(2),X(n.id),C(2),X(n.nombre)}}function EG(t,e){t&1&&(y(0,"tr")(1,"td",19),w(2,"No hay comites en la busqueda"),p()())}function CG(t,e){if(t&1&&(y(0,"table",10)(1,"thead")(2,"tr")(3,"th",11),w(4,"ID"),p(),y(5,"th",11),w(6,"Nombre"),p(),y(7,"th",12),w(8,"Acciones"),p()()(),y(9,"tbody"),ct(10,_G,10,2,"tr",null,at,!1,EG,3,0),p()()),t&2){let n=oe();C(10),lt(n.comites)}}var E2=(()=>{let e=class e{constructor(r,i){this.ComiteService=r,this.router=i,this.numerosComites=Sa(0),this.busqueda=!1,this.ComiteService.listarComites().subscribe(o=>{this.comites=o,this.numerosComites.set(o.length)})}buscar(r){this.comitesFiltrados=this.comites.filter(i=>i.nombre.toLowerCase().includes(r.toLowerCase()))}editarComite(r){this.router.navigateByUrl(`mantenimientos/comites/editarComites/${r.id}`).then()}eliminarComite(r){this.ComiteService.eliminarComite(r).then(i=>{this.ComiteService.listarComites().subscribe(o=>{this.comites=o,this.numerosComites.set(o.length)})})}agregarComite(){this.router.navigateByUrl("mantenimientos/comites/agregarComites").then()}};e.\u0275fac=function(i){return new(i||e)(P(Fo),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-listar-comites"]],standalone:!0,features:[ae],decls:15,vars:2,consts:[[1,"row","animate__animated","animate__backInDown"],[1,"col-10"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Consultor.....",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],["class","table table-striped animate__animated animate__backInDown","style","z-index: -2;"],[1,"text-center","animate__animated","animate__backInDown"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"table","table-striped","animate__animated","animate__backInDown",2,"z-index","-2"],["scope","col"],["scope","col",1,"text-center","text-nowrap","col-1"],["scope","row"],[1,"text-center","text-nowrap","col-1"],["type","button",1,"btn","btn-outline-primary","m-2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["colspan","3",1,"text-center"]],template:function(i,o){if(i&1){let s=Be();y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),k("keyup",function(){pe(s);let c=ar(5);return me(o.buscar(c.value))}),p()()()(),y(6,"div",6)(7,"div",2)(8,"div",3),w(9),p()()()(),Y(10,wG,13,1,"table",7)(11,CG,13,1),y(12,"div",8)(13,"button",9),k("click",function(){return o.agregarComite()}),w(14,"A\xF1adir Comite"),p()()}i&2&&(C(9),Me(" Comites ",o.numerosComites()," "),C(),Z(10,o.busqueda?10:11))}});let t=e;return t})();var Ld=Cn(wn());function bG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var C2=(()=>{let e=class e{constructor(r,i,o){this.fb=r,this.router=i,this.comiteService=o,this.comiteForm=this.fb.group({id:[""],nombre:[""]})}volverInicio(){this.router.navigateByUrl("mantenimientos/comites/listarComites").then(r=>{r||Ld.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}agregar(){this.comiteService.agregarComite(this.comiteForm.value).then(r=>{Ld.default.fire({title:"Comit\xE9 a\xF1adido",text:"El comit\xE9 se ha a\xF1adido correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(i=>{this.volverInicio()}).catch(i=>{Ld.default.fire({title:"Error",text:"Ha ocurrido un error al a\xF1adir el comit\xE9",icon:"error",confirmButtonText:"Aceptar"}).then()})}).catch(r=>{Ld.default.fire({title:"Error",text:"Ha ocurrido un error al a\xF1adir el comit\xE9",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(Zt),P(ue),P(Fo))},e.\u0275cmp=se({type:e,selectors:[["app-agregar-comites"]],standalone:!0,features:[ae],decls:16,vars:2,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","nombre",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"A\xF1adir Experto Comit\xE9"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.agregar()}),y(7,"div",6)(8,"label",7),w(9,"Nombre:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,bG,2,0,"div"),p(),y(13,"div",2)(14,"button",10),R(15,"i",11),p()()()()),i&2){let s;C(6),Ie("formGroup",o.comiteForm),C(6),Z(12,(s=o.comiteForm.get("nombre"))!=null&&s.hasError("pattern")?12:-1)}},dependencies:[_n,kt,ot,yt,Nt,Ft,Ut,$t]});let t=e;return t})();var ty=Cn(wn());function IG(t,e){t&1&&(y(0,"div"),w(1," El campo debe tener el formato: xxx.xxx (donde x es un n\xFAmero). "),p())}var b2=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.comiteService=i,this.fb=o,this.router=s,this.idComite=this.route.snapshot.paramMap.get("id")||"",this.comiteService.obtenerComite(this.idComite).subscribe(a=>{this.comiteForm.setValue(a),console.log(a)})}ngOnInit(){this.comiteForm=this.fb.group({id:[""],nombre:[""]})}volverInicio(){this.router.navigateByUrl("mantenimientos/comites/listarComites").then(r=>{r||ty.default.fire({title:"Error",text:"Ha ocurrido un error al volver a la p\xE1gina de inicio",icon:"error",confirmButtonText:"Aceptar"}).then()})}editarComite(){this.comiteService.editarComite(this.comiteForm.value).then(()=>{ty.default.fire({title:"\xC9xito",text:"El comit\xE9 se ha editado correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(r=>{r.isConfirmed&&this.volverInicio()})}).catch(()=>{ty.default.fire({title:"Error",text:"Ha ocurrido un error al editar el comit\xE9",icon:"error",confirmButtonText:"Aceptar"}).then()})}};e.\u0275fac=function(i){return new(i||e)(P(rn),P(Fo),P(Zt),P(ue))},e.\u0275cmp=se({type:e,selectors:[["app-editar-comites"]],standalone:!0,features:[ae],decls:16,vars:2,consts:[[1,"container","animate__animated","animate__backInDown"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"p-2",3,"formGroup","submit"],[1,"row","mb-3"],["for","nombre",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","nombre","name","nombre","formControlName","nombre",1,"form-control"],["type","submit",1,"btn","btn-outline-primary","m-2"],[1,"fas","fa-save"]],template:function(i,o){if(i&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"Editar Comit\xE9"),p(),y(4,"button",3),k("click",function(){return o.volverInicio()}),R(5,"i",4),p()(),y(6,"form",5),k("submit",function(){return o.editarComite()}),y(7,"div",6)(8,"label",7),w(9,"Nombre:"),p(),y(10,"div",8),R(11,"input",9),p(),Y(12,IG,2,0,"div"),p(),y(13,"div",2)(14,"button",10),R(15,"i",11),p()()()()),i&2){let s;C(6),Ie("formGroup",o.comiteForm),C(6),Z(12,(s=o.comiteForm.get("nombre"))!=null&&s.hasError("pattern")?12:-1)}},dependencies:[_n,kt,ot,yt,Nt,Ft,Ut,$t]});let t=e;return t})();var I2=Cn(wn());var Xt=()=>{let t=V(ue);return V(Ga).authState.pipe(H(n=>(console.log(n),n?!0:(t.navigateByUrl("/login").then(r=>{I2.default.fire({icon:"error",title:"Oops...",text:"No tienes permisos para acceder a esta p\xE1gina"}).then()}),!1))))};var D2=[{path:"proyectos/listadoProyectos",component:Dk,canActivate:[Xt]},{path:"proyectos/agregarProyecto",component:a2,canActivate:[Xt]},{path:"proyectos/seguimientoProyecto/:id",component:l2,canActivate:[Xt]},{path:"historicos",component:u2,canActivate:[Xt]},{path:"archivados",component:d2,canActivate:[Xt]},{path:"mantenimientos/expertos-tecnicos/listarET",component:h2,canActivate:[Xt]},{path:"mantenimientos/expertos-tecnicos/anadirET",component:f2,canActivate:[Xt]},{path:"mantenimientos/expertos-tecnicos/editarET/:id",component:p2,canActivate:[Xt]},{path:"mantenimientos/expertos-comite/listarEcomite",component:m2,canActivate:[Xt]},{path:"mantenimientos/expertos-comite/anadirEcomite",component:g2,canActivate:[Xt]},{path:"mantenimientos/expertos-comite/editarEcomite/:id",component:y2,canActivate:[Xt]},{path:"mantenimientos/consultores/listadoConsultores",component:v2,canActivate:[Xt]},{path:"mantenimientos/consultores/agregarConsultor",component:w2,canActivate:[Xt]},{path:"mantenimientos/consultores/editarConsultor/:id",component:_2,canActivate:[Xt]},{path:"mantenimientos/comites/listarComites",component:E2,canActivate:[Xt]},{path:"mantenimientos/comites/agregarComites",component:C2,canActivate:[Xt]},{path:"mantenimientos/comites/editarComites/:id",component:b2,canActivate:[Xt]},{path:"login",component:s2},{path:"",redirectTo:"proyectos/listadoProyectos",pathMatch:"full"},{path:"**",redirectTo:""}];var T2="auth",jd=class{constructor(e){return e}},Bd=class{constructor(){return su(T2)}};var DI=new z("angularfire2.auth-instances");function IW(t,e){let n=Ip(T2,t,e);return n&&new jd(n)}function DW(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jd(r)}}var TW={provide:Bd,deps:[[new hn,DI]]},xW={provide:jd,useFactory:IW,deps:[[new hn,DI],Ni]},SW=(()=>{class t{constructor(){ln("angularfire",dr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Lt({providers:[xW,TW]})}return t})();function x2(t,...e){return{ngModule:SW,providers:[{provide:DI,useFactory:DW(t),multi:!0,deps:[Ae,fn,ti,fs,[new hn,Pr],...e]}]}}var S2=Ha(by,!0);var Ud=class{constructor(e){return e}},A2="firestore",TI=class{constructor(){return su(A2)}};var xI=new z("angularfire2.firestore-instances");function AW(t,e){let n=Ip(A2,t,e);return n&&new Ud(n)}function MW(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ud(r)}}var PW={provide:TI,deps:[[new hn,xI]]},RW={provide:Ud,useFactory:AW,deps:[[new hn,xI],Ni]},NW=(()=>{class t{constructor(){ln("angularfire",dr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Lt({providers:[RW,PW]})}return t})();function M2(t,...e){return{ngModule:NW,providers:[{provide:xI,useFactory:MW(t),multi:!0,deps:[Ae,fn,ti,fs,[new hn,Bd],[new hn,Pr],...e]}]}}var P2=Ha(nk,!0);var SI={firebase:{apiKey:"AIzaSyCgipUzX0M9nAAqv4jifbgyUXXr4QarkZs",authDomain:"seguimientoproyectos2mbr.firebaseapp.com",projectId:"seguimientoproyectos2mbr",storageBucket:"seguimientoproyectos2mbr.appspot.com",messagingSenderId:"366007956782",appId:"1:366007956782:web:04bc48099442e44043f6bf"}};var R2={providers:[H1(D2),l1(),Ta(z1(()=>G1(SI.firebase),"seguimientoproyectos2mbr")),Ta(aM.initializeApp(SI.firebase,"seguimientoproyectos2mbr")),Ta(x2(()=>S2())),Ta(M2(()=>P2()))]};function kW(t,e){if(t&1){let n=Be();y(0,"div",8)(1,"ul",9)(2,"li",10)(3,"a",11),w(4,"Home"),p()(),y(5,"li",12)(6,"a",13),w(7," Proyectos "),p(),y(8,"ul",14)(9,"li")(10,"a",15),k("click",function(){pe(n);let i=oe();return me(i.iraHisotricos())}),w(11,"Proyectos Historico"),p()(),y(12,"li")(13,"a",15),k("click",function(){pe(n);let i=oe();return me(i.iraArchivados())}),w(14,"Proyectos Archivados"),p()()()(),y(15,"li",12)(16,"a",16),w(17," Mantenimientos "),p(),y(18,"ul",17)(19,"li")(20,"a",18),w(21,"Expertos T\xE9cnicos"),p()(),y(22,"li")(23,"a",19),w(24,"Expertos Comit\xE9"),p()(),y(25,"li")(26,"a",20),w(27,"Consultores"),p()(),y(28,"li")(29,"a",21),w(30,"Comit\xE9s"),p()()()()(),y(31,"div",22)(32,"a",23),R(33,"img",24),p(),y(34,"ul",25)(35,"li")(36,"a",26),w(37,"Profile"),p()(),y(38,"li")(39,"a",27),k("click",function(){pe(n);let i=oe();return me(i.logout())}),w(40,"Logout"),p()()()()()}}var N2=(()=>{let e=class e{constructor(r,i){this.router=r,this.authService=i,this.mostrarLogOut=!1,console.log(this.mostrarLogOut),this.authService.user$.subscribe(o=>{this.mostrarLogOut=!!o,o&&(this._user=o)})}logout(){this.authService.logout()}recargar(){this.router.navigateByUrl("/").then(r=>r)}iraHisotricos(){this.router.navigateByUrl("/historicos").then()}verPerfil(){this.router.navigateByUrl("/user").then()}iraEstadisticas(){this.router.navigateByUrl("/estadisticas").then()}iraArchivados(){this.router.navigateByUrl("/archivados").then()}};e.\u0275fac=function(i){return new(i||e)(P(ue),P(qg))},e.\u0275cmp=se({type:e,selectors:[["app-cabecero"]],standalone:!0,features:[ae],decls:9,vars:1,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","mb-2","p-2","animate__animated","animate__slideInDown","container-fluid",2,"z-index","1000"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["routerLink","/","aria-label","Home",1,"navbar-brand","ms-3",2,"cursor","pointer"],[1,"row"],[1,"ms-2"],["ngSrc","../../../assets/1.jpg","alt","logo","height","50","width","50"],["class","collapse navbar-collapse","id","navbarNav"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/","aria-label","Home",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","proyectosDesplegable","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","proyectosDesplegable",1,"dropdown-menu"],["aria-label","Proyectos Historico",1,"dropdown-item",3,"click"],["href","#","id","mantenimientosDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","mantenimientosDropdown",1,"dropdown-menu"],["routerLink","/mantenimientos/expertos-tecnicos/listarET",1,"dropdown-item"],["routerLink","/mantenimientos/expertos-comite/listarEcomite",1,"dropdown-item"],["routerLink","/mantenimientos/consultores/listadoConsultores",1,"dropdown-item"],["routerLink","mantenimientos/comites/listarComites",1,"dropdown-item"],[1,"dropdown"],["href","#","role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false","aria-label","User Options",1,"nav-link","dropdown-toggle",2,"position","relative","z-index","10000"],["ngSrc","../../../assets/1.jpg","alt","Profile","width","30","height","30",2,"border-radius","50%"],[1,"dropdown-menu","dropdown-menu-dark",2,"position","absolute","right","0","left","auto"],["href","#","aria-label","Profile",1,"dropdown-item","text-center"],["href","#","aria-label","Logout",1,"dropdown-item","text-center",3,"click"]],template:function(i,o){i&1&&(y(0,"nav",0)(1,"button",1),R(2,"span",2),p(),y(3,"a",3)(4,"div",4)(5,"h1",5),R(6,"img",6),w(7," Seguimiento de Proyectos "),p()()(),Y(8,kW,41,0,"div",7),p()),i&2&&(C(8),Z(8,o.mostrarLogOut?8:-1))},dependencies:[$1,GA]});let t=e;return t})();var k2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-footer"]],standalone:!0,features:[ae],decls:7,vars:0,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-2","animate__animated","animate__slideInDown"],[1,"container"],[1,"collapse","navbar-collapse","d-flex","justify-content-center"],[1,"navbar-brand"],[1,"row"]],template:function(i,o){i&1&&(y(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4)(5,"h1"),w(6,"Borregacion"),p()()()()()())},styles:[".finalfooter[_ngcontent-%COMP%]{min-height:calc(90vh - 5.5rem);padding-bottom:3.5rem}"]});let t=e;return t})();var F2=(()=>{let e=class e{constructor(){this.title="SeguimientoProyectos2"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-root"]],standalone:!0,features:[ae],decls:8,vars:0,consts:[[1,"finalfooter"],[1,"container-fluid","mt-3",2,"z-index","1","position","relative","display","grid"],[1,"row"],[1,"col-md-12"]],template:function(i,o){i&1&&(R(0,"app-cabecero"),y(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),R(5,"router-outlet")(6,"br"),p()()()(),R(7,"app-footer"))},dependencies:[q0,Nw,N2,k2]});let t=e;return t})();c1(F2,R2).catch(t=>console.error(t));
