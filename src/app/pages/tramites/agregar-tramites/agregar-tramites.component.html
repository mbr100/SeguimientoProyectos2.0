<div class="container animate__animated animate__backInDown">
    <div class="d-flex justify-content-between align-items-center">
        <h1 class="text-center">Añadir Tramite</h1>
        <button (click)="volverInicio()" class="btn btn-outline-secondary">
            <i class="fa fa-arrow-left" aria-hidden="true"></i>
        </button>
    </div>
    <form class="p-2" [formGroup]="tramiteForm"  (submit)="agregar()">
        <div class="row mb-3">
            <label for="codigo" class="col-sm-2 col-form-label">Código:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="codigo" name="codigo" formControlName="codigo">
            </div>
        </div>
        <div class="row mb-3">
            <label for="titulo" class="col-sm-2 col-form-label">Titulo:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="titulo" name="titulo" formControlName="titulo">
            </div>
        </div>
        <div class="row mb-3">
            <label for="cliente" class="col-sm-2 col-form-label">Cliente:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="cliente" name="cliente" formControlName="cliente">
            </div>
        </div>
        <div class="row mb-3">
            <label for="cliente" class="col-sm-2 col-form-label">Fecha Fin Tramite:</label>
            <div class="col-sm-10">
                <input type="datetime-local" class="form-control" id="fechaFinTramite" name="fechaFinTramite" formControlName="fechaFinTramite">
            </div>
        </div>
        <div class="row mb-3">
            <label for="consultoras" class="col-sm-2 col-form-label">Consultoras:</label>
            <div class="col-sm-10">
                <select class="form-select" aria-label="Default select example" id="consultoras" #consultora (change)="mostrarConsultores(consultora)">
                    <option selected>Selecciona un consultor</option>
                    @for (consultora of consultoras; track consultora){
                        <option value="{{consultora}}">{{consultora}}</option>
                    }
                </select>
            </div>
        </div>
        @if (consultora.value != "Selecciona un consultor") {
            <div class="row mb-3">
                <label for="consultores" class="col-sm-2 col-form-label">Consultores:</label>
                <div class="col-sm-10">
                    <select class="form-select" aria-label="Default select example" id="consultores" formControlName="consultor">
                        <option selected>Selecciona un consultor</option>
                        @for (consultor of consultoraSelecionado; track consultor){
                            <option value="{{consultor.id}}">{{consultor.nombre}}</option>
                        }
                    </select>
                </div>
            </div>
        }
        <div class="row mb-3">
            <label for="et" class="col-sm-2 col-form-label">Experto Tecnico:</label>
            <div class="col-sm-10">
                <select class="form-select" aria-label="Default select example" id="et" formControlName="expertoTecnico">
                    <option selected>Selecciona un ET</option>
                    @for (et of expertos;track et) {
                        <option value="{{et.id}}">{{ et.idexperto + " " + et.nombre + " " + et.apellido1 }}</option>
                    }
                </select>
            </div>
        </div>
        <div class="row mb-3">
            <label for="analisis" class="col-sm-2 col-form-label">Análisis:</label>
            <div class="col-sm-10">
                <textarea type="text" rows="3" class="form-control" id="analisis" name="analisis" formControlName="analisis"></textarea>
            </div>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-outline-primary m-2">
                <i class="fas fa-save"></i> Guardar
            </button>
        </div>
    </form>
</div>
